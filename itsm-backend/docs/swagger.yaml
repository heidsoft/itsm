definitions:
  common.Response:
    properties:
      code:
        type: integer
      data: {}
      message:
        type: string
    type: object
  controller.ApproveRequest:
    properties:
      approve:
        type: boolean
      reason:
        type: string
    type: object
  controller.ChatRequest:
    properties:
      conversation_id:
        type: integer
      limit:
        type: integer
      query:
        type: string
    required:
    - query
    type: object
  controller.ToolExecRequest:
    properties:
      args:
        additionalProperties: true
        type: object
      name:
        type: string
    required:
    - name
    type: object
  dto.AcceptTicketRequest:
    properties:
      comment:
        type: string
      ticket_id:
        type: integer
    required:
    - ticket_id
    type: object
  dto.ApprovalChainDefinition:
    properties:
      allow_delegate:
        type: boolean
      allow_reject:
        type: boolean
      approval_type:
        description: any, all, majority
        type: string
      approvers:
        items:
          $ref: '#/definitions/dto.ApproverInfo'
        type: array
      conditions:
        items:
          $ref: '#/definitions/dto.ApprovalCondition'
        type: array
      id:
        type: string
      level:
        type: integer
      minimum_approvals:
        type: integer
      name:
        type: string
      reject_action:
        description: end, return, custom
        type: string
      return_to_level:
        type: integer
      timeout:
        description: 超时时间（小时）
        type: integer
      timeout_action:
        description: auto_approve, auto_reject, escalate
        type: string
    type: object
  dto.ApprovalCondition:
    properties:
      field:
        type: string
      operator:
        description: equals, not_equals, greater_than, less_than
        type: string
      value: {}
    type: object
  dto.ApprovalRecord:
    properties:
      action:
        description: approve, reject, delegate
        type: string
      approver:
        $ref: '#/definitions/dto.WorkflowUserInfo'
      attachments:
        items:
          $ref: '#/definitions/dto.AttachmentInfo'
        type: array
      comment:
        type: string
      created_at:
        type: string
      delegate_to:
        $ref: '#/definitions/dto.WorkflowUserInfo'
      id:
        type: integer
      level:
        type: integer
      level_name:
        type: string
      processed_at:
        type: string
      status:
        $ref: '#/definitions/dto.ApprovalStatus'
      ticket_id:
        type: integer
    type: object
  dto.ApprovalStatus:
    enum:
    - pending
    - in_progress
    - approved
    - rejected
    - cancelled
    type: string
    x-enum-varnames:
    - ApprovalStatusPending
    - ApprovalStatusInProgress
    - ApprovalStatusApproved
    - ApprovalStatusRejected
    - ApprovalStatusCancelled
  dto.ApproveTicketRequest:
    properties:
      action:
        enum:
        - approve
        - reject
        - delegate
        type: string
      approval_id:
        type: integer
      comment:
        type: string
      delegate_to_user_id:
        type: integer
      ticket_id:
        type: integer
    required:
    - action
    - approval_id
    - comment
    - ticket_id
    type: object
  dto.ApproverInfo:
    properties:
      name:
        type: string
      type:
        description: user, role, department, dynamic
        type: string
      value:
        description: 用户ID、角色名、部门ID等
    type: object
  dto.AssignToConfig:
    properties:
      type:
        description: user, role, department, round_robin, load_balance
        type: string
      value:
        description: 用户ID、角色名、部门ID等
    type: object
  dto.AssignmentRule:
    properties:
      assign_to:
        $ref: '#/definitions/dto.AssignToConfig'
      conditions:
        items:
          $ref: '#/definitions/dto.AssignmentRuleCondition'
        type: array
      enabled:
        type: boolean
      id:
        type: string
      name:
        type: string
      priority:
        type: integer
    type: object
  dto.AssignmentRuleCondition:
    properties:
      field:
        type: string
      operator:
        description: equals, not_equals, contains, greater_than, less_than
        type: string
      value: {}
    type: object
  dto.AttachmentInfo:
    properties:
      filename:
        type: string
      id:
        type: integer
      url:
        type: string
    type: object
  dto.BatchUpdateUsersRequest:
    properties:
      action:
        enum:
        - activate
        - deactivate
        - department
        type: string
      department:
        type: string
      user_ids:
        items:
          type: integer
        minItems: 1
        type: array
    required:
    - action
    - user_ids
    type: object
  dto.CCTicketRequest:
    properties:
      cc_users:
        items:
          type: integer
        minItems: 1
        type: array
      comment:
        type: string
      ticket_id:
        type: integer
    required:
    - cc_users
    - ticket_id
    type: object
  dto.CIAttributeDefinitionRequest:
    properties:
      ci_type_id:
        type: integer
      data_type:
        enum:
        - string
        - integer
        - float
        - boolean
        - date
        - datetime
        - json
        - enum
        - reference
        type: string
      default_value:
        type: string
      description:
        type: string
      display_name:
        type: string
      display_order:
        type: integer
      enum_values:
        items:
          type: string
        type: array
      is_required:
        type: boolean
      is_searchable:
        type: boolean
      is_unique:
        type: boolean
      name:
        type: string
      reference_type:
        type: string
      validation_rules:
        additionalProperties: true
        type: object
    required:
    - ci_type_id
    - data_type
    - display_name
    - name
    type: object
  dto.CIAttributeDefinitionResponse:
    properties:
      ci_type_id:
        type: integer
      created_at:
        type: string
      data_type:
        type: string
      default_value:
        type: string
      description:
        type: string
      display_name:
        type: string
      display_order:
        type: integer
      enum_values:
        items:
          type: string
        type: array
      id:
        type: integer
      is_active:
        type: boolean
      is_required:
        type: boolean
      is_searchable:
        type: boolean
      is_system:
        description: 添加这个字段
        type: boolean
      is_unique:
        type: boolean
      name:
        type: string
      reference_type:
        type: string
      tenant_id:
        type: integer
      updated_at:
        type: string
      validation_rules:
        additionalProperties: true
        type: object
    type: object
  dto.CIAttributeSearchRequest:
    properties:
      attributes:
        additionalProperties: true
        type: object
      ci_type_id:
        type: integer
      limit:
        type: integer
      offset:
        type: integer
    required:
    - attributes
    type: object
  dto.CIResponse:
    properties:
      attributes:
        additionalProperties: true
        type: object
      ci_type_id:
        type: integer
      created_at:
        type: string
      description:
        type: string
      id:
        type: integer
      name:
        type: string
      status:
        type: string
      tenant_id:
        type: integer
      updated_at:
        type: string
    type: object
  dto.CITypeWithAttributesResponse:
    properties:
      attribute_definitions:
        items:
          $ref: '#/definitions/dto.CIAttributeDefinitionResponse'
        type: array
      category:
        type: string
      created_at:
        type: string
      description:
        type: string
      display_name:
        type: string
      icon:
        type: string
      id:
        type: integer
      is_active:
        type: boolean
      is_system:
        type: boolean
      name:
        type: string
      updated_at:
        type: string
    type: object
  dto.ChangeApprovalChainItem:
    properties:
      approver_id:
        description: 审批人ID
        type: integer
      is_required:
        description: 是否必需审批
        type: boolean
      level:
        description: 审批级别
        type: integer
      role:
        description: 审批角色
        type: string
    required:
    - approver_id
    - level
    - role
    type: object
  dto.ChangeApprovalChainResponse:
    properties:
      approver_id:
        description: 审批人ID
        type: integer
      approver_name:
        description: 审批人姓名
        type: string
      change_id:
        description: 变更ID
        type: integer
      created_at:
        description: 创建时间
        type: string
      id:
        description: 审批链ID
        type: integer
      is_required:
        description: 是否必需审批
        type: boolean
      level:
        description: 审批级别
        type: integer
      role:
        description: 审批角色
        type: string
      status:
        description: 审批状态
        type: string
    type: object
  dto.ChangeApprovalResponse:
    properties:
      approved_at:
        description: 审批时间
        type: string
      approver_id:
        description: 审批人ID
        type: integer
      approver_name:
        description: 审批人姓名
        type: string
      change_id:
        description: 变更ID
        type: integer
      comment:
        description: 审批意见
        type: string
      created_at:
        description: 创建时间
        type: string
      id:
        description: 审批ID
        type: integer
      status:
        allOf:
        - $ref: '#/definitions/dto.ChangeStatus'
        description: 审批状态
    type: object
  dto.ChangeApprovalSummary:
    properties:
      approval_history:
        description: 审批历史
        items:
          $ref: '#/definitions/dto.ChangeApprovalResponse'
        type: array
      approval_status:
        description: 审批状态
        type: string
      change_id:
        description: 变更ID
        type: integer
      current_level:
        description: 当前审批级别
        type: integer
      next_approver:
        description: 下一个审批人
        type: string
      pending_approvals:
        description: 待审批项目
        items:
          $ref: '#/definitions/dto.ChangeApprovalChainResponse'
        type: array
      total_levels:
        description: 总审批级别
        type: integer
    type: object
  dto.ChangeApprovalWorkflowRequest:
    properties:
      approval_chain:
        description: 审批链
        items:
          $ref: '#/definitions/dto.ChangeApprovalChainItem'
        type: array
      change_id:
        description: 变更ID
        type: integer
    required:
    - approval_chain
    - change_id
    type: object
  dto.ChangeImplementationPlanResponse:
    properties:
      change_id:
        description: 变更ID
        type: integer
      created_at:
        description: 创建时间
        type: string
      dependencies:
        description: 依赖关系
        items:
          type: string
        type: array
      description:
        description: 阶段描述
        type: string
      end_date:
        description: 结束时间
        type: string
      id:
        description: 实施计划ID
        type: integer
      phase:
        description: 实施阶段
        type: string
      prerequisites:
        description: 前置条件
        items:
          type: string
        type: array
      responsible:
        description: 负责人
        type: string
      start_date:
        description: 开始时间
        type: string
      status:
        description: 状态
        type: string
      success_criteria:
        description: 成功标准
        type: string
      tasks:
        description: 具体任务
        items:
          type: string
        type: array
      updated_at:
        description: 更新时间
        type: string
    type: object
  dto.ChangeRisk:
    enum:
    - low
    - medium
    - high
    type: string
    x-enum-comments:
      ChangeRiskHigh: 高
      ChangeRiskLow: 低
      ChangeRiskMedium: 中
    x-enum-descriptions:
    - 低
    - 中
    - 高
    x-enum-varnames:
    - ChangeRiskLow
    - ChangeRiskMedium
    - ChangeRiskHigh
  dto.ChangeRiskAssessmentResponse:
    properties:
      change_id:
        description: 变更ID
        type: integer
      contingency_plan:
        description: 应急计划
        type: string
      created_at:
        description: 创建时间
        type: string
      id:
        description: 风险评估ID
        type: integer
      impact_analysis:
        description: 影响分析
        type: string
      mitigation_measures:
        description: 缓解措施
        type: string
      risk_description:
        description: 风险描述
        type: string
      risk_level:
        allOf:
        - $ref: '#/definitions/dto.ChangeRisk'
        description: 风险等级
      risk_owner:
        description: 风险责任人
        type: string
      risk_review_date:
        description: 风险评审日期
        type: string
      updated_at:
        description: 更新时间
        type: string
    type: object
  dto.ChangeRollbackExecutionResponse:
    properties:
      change_id:
        description: 变更ID
        type: integer
      comments:
        description: 备注
        type: string
      created_at:
        description: 创建时间
        type: string
      end_time:
        description: 结束时间
        type: string
      id:
        description: 执行记录ID
        type: integer
      initiated_by:
        description: 发起人ID
        type: integer
      initiated_by_name:
        description: 发起人姓名
        type: string
      result:
        description: 执行结果
        type: string
      rollback_plan_id:
        description: 回滚计划ID
        type: integer
      start_time:
        description: 开始时间
        type: string
      status:
        description: 状态
        type: string
      trigger_reason:
        description: 触发原因
        type: string
      updated_at:
        description: 更新时间
        type: string
    type: object
  dto.ChangeRollbackPlanResponse:
    properties:
      approval_required:
        description: 是否需要审批
        type: boolean
      change_id:
        description: 变更ID
        type: integer
      communication_plan:
        description: 沟通计划
        type: string
      created_at:
        description: 创建时间
        type: string
      estimated_time:
        description: 预估时间
        type: string
      id:
        description: 回滚计划ID
        type: integer
      responsible:
        description: 负责人
        type: string
      rollback_steps:
        description: 回滚步骤
        items:
          type: string
        type: array
      test_plan:
        description: 测试计划
        type: string
      trigger_conditions:
        description: 触发条件
        items:
          type: string
        type: array
      updated_at:
        description: 更新时间
        type: string
    type: object
  dto.ChangeStatus:
    enum:
    - draft
    - pending
    - approved
    - rejected
    - in_progress
    - completed
    - rolled_back
    - cancelled
    type: string
    x-enum-comments:
      ChangeStatusApproved: 已批准
      ChangeStatusCancelled: 已取消
      ChangeStatusCompleted: 已完成
      ChangeStatusDraft: 草稿
      ChangeStatusInProgress: 实施中
      ChangeStatusPending: 待审批
      ChangeStatusRejected: 已拒绝
      ChangeStatusRolledBack: 已回滚
    x-enum-descriptions:
    - 草稿
    - 待审批
    - 已批准
    - 已拒绝
    - 实施中
    - 已完成
    - 已回滚
    - 已取消
    x-enum-varnames:
    - ChangeStatusDraft
    - ChangeStatusPending
    - ChangeStatusApproved
    - ChangeStatusRejected
    - ChangeStatusInProgress
    - ChangeStatusCompleted
    - ChangeStatusRolledBack
    - ChangeStatusCancelled
  dto.ChangeUserStatusRequest:
    properties:
      active:
        type: boolean
    type: object
  dto.CloseTicketRequest:
    properties:
      close_notes:
        type: string
      close_reason:
        type: string
      ticket_id:
        type: integer
    required:
    - ticket_id
    type: object
  dto.CreateCIRequest:
    properties:
      attributes:
        additionalProperties: true
        type: object
      ci_type_id:
        type: integer
      description:
        type: string
      name:
        maxLength: 255
        type: string
      status:
        enum:
        - active
        - inactive
        - maintenance
        type: string
      tenant_id:
        type: integer
    required:
    - ci_type_id
    - name
    - status
    - tenant_id
    type: object
  dto.CreateChangeApprovalRequest:
    properties:
      approver_id:
        description: 审批人ID
        type: integer
      change_id:
        description: 变更ID
        type: integer
      comment:
        description: 审批意见
        type: string
    required:
    - approver_id
    - change_id
    type: object
  dto.CreateChangeImplementationPlanRequest:
    properties:
      change_id:
        description: 变更ID
        type: integer
      dependencies:
        description: 依赖关系
        items:
          type: string
        type: array
      description:
        description: 阶段描述
        type: string
      end_date:
        description: 结束时间
        type: string
      phase:
        description: 实施阶段
        type: string
      prerequisites:
        description: 前置条件
        items:
          type: string
        type: array
      responsible:
        description: 负责人
        type: string
      start_date:
        description: 开始时间
        type: string
      success_criteria:
        description: 成功标准
        type: string
      tasks:
        description: 具体任务
        items:
          type: string
        type: array
    required:
    - change_id
    - description
    - phase
    - responsible
    - success_criteria
    - tasks
    type: object
  dto.CreateChangeRiskAssessmentRequest:
    properties:
      change_id:
        description: 变更ID
        type: integer
      contingency_plan:
        description: 应急计划
        type: string
      impact_analysis:
        description: 影响分析
        type: string
      mitigation_measures:
        description: 缓解措施
        type: string
      risk_description:
        description: 风险描述
        type: string
      risk_level:
        allOf:
        - $ref: '#/definitions/dto.ChangeRisk'
        description: 风险等级
      risk_owner:
        description: 风险责任人
        type: string
      risk_review_date:
        description: 风险评审日期
        type: string
    required:
    - change_id
    - impact_analysis
    - mitigation_measures
    - risk_description
    - risk_level
    - risk_owner
    type: object
  dto.CreateChangeRollbackPlanRequest:
    properties:
      approval_required:
        description: 是否需要审批
        type: boolean
      change_id:
        description: 变更ID
        type: integer
      communication_plan:
        description: 沟通计划
        type: string
      estimated_time:
        description: 预估时间
        type: string
      responsible:
        description: 负责人
        type: string
      rollback_steps:
        description: 回滚步骤
        items:
          type: string
        type: array
      test_plan:
        description: 测试计划
        type: string
      trigger_conditions:
        description: 触发条件
        items:
          type: string
        type: array
    required:
    - change_id
    - estimated_time
    - responsible
    - rollback_steps
    - trigger_conditions
    type: object
  dto.CreateIncidentAlertRequest:
    properties:
      alert_name:
        example: 事件升级告警
        type: string
      alert_type:
        example: escalation
        type: string
      channels:
        example:
        - '["email"'
        - '"sms"]'
        items:
          type: string
        type: array
      incident_id:
        example: 1
        type: integer
      message:
        example: 事件已升级到下一级别
        type: string
      metadata:
        additionalProperties: true
        type: object
      recipients:
        example:
        - '["manager@company.com"]'
        items:
          type: string
        type: array
      severity:
        example: high
        type: string
      triggered_at:
        example: "2024-01-01T00:00:00Z"
        type: string
    required:
    - alert_name
    - alert_type
    - incident_id
    - message
    type: object
  dto.CreateIncidentEventRequest:
    properties:
      data:
        additionalProperties: true
        type: object
      description:
        example: 事件状态从new变更为in_progress
        type: string
      event_name:
        example: 状态变更
        type: string
      event_type:
        example: status_change
        type: string
      incident_id:
        example: 1
        type: integer
      metadata:
        additionalProperties: true
        type: object
      occurred_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      severity:
        example: medium
        type: string
      source:
        example: system
        type: string
      status:
        example: active
        type: string
      user_id:
        example: 1
        type: integer
    required:
    - event_name
    - event_type
    - incident_id
    type: object
  dto.CreateIncidentRequest:
    properties:
      assignee_id:
        example: 1
        type: integer
      category:
        example: performance
        type: string
      configuration_item_id:
        example: 1
        type: integer
      description:
        example: 生产环境Web服务器CPU使用率持续超过90%
        type: string
      detected_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      impact_analysis:
        additionalProperties: true
        type: object
      metadata:
        additionalProperties: true
        type: object
      priority:
        example: high
        type: string
      severity:
        example: high
        type: string
      source:
        example: monitoring
        type: string
      subcategory:
        example: cpu
        type: string
      title:
        example: 服务器CPU使用率过高
        type: string
    required:
    - title
    type: object
  dto.CreateKnowledgeArticleRequest:
    properties:
      category:
        type: string
      content:
        type: string
      tags:
        items:
          type: string
        type: array
      title:
        type: string
    required:
    - category
    - title
    type: object
  dto.CreateServiceCatalogRequest:
    properties:
      category:
        maxLength: 100
        type: string
      delivery_time:
        maxLength: 50
        type: string
      description:
        maxLength: 1000
        type: string
      name:
        maxLength: 255
        type: string
      status:
        enum:
        - enabled
        - disabled
        type: string
    required:
    - category
    - delivery_time
    - name
    type: object
  dto.CreateServiceRequestRequest:
    properties:
      catalog_id:
        minimum: 1
        type: integer
      reason:
        maxLength: 500
        type: string
    required:
    - catalog_id
    type: object
  dto.CreateTenantRequest:
    properties:
      code:
        maxLength: 50
        type: string
      domain:
        maxLength: 100
        type: string
      expires_at:
        type: string
      name:
        maxLength: 100
        type: string
      quota:
        additionalProperties: true
        type: object
      settings:
        additionalProperties: true
        type: object
      type:
        enum:
        - trial
        - standard
        - professional
        - enterprise
        type: string
    required:
    - code
    - name
    - type
    type: object
  dto.CreateTicketTypeRequest:
    properties:
      approval_chain:
        items:
          $ref: '#/definitions/dto.ApprovalChainDefinition'
        type: array
      approval_enabled:
        type: boolean
      assignment_rules:
        items:
          $ref: '#/definitions/dto.AssignmentRule'
        type: array
      auto_assign_enabled:
        type: boolean
      code:
        type: string
      color:
        type: string
      custom_fields:
        items:
          $ref: '#/definitions/dto.CustomFieldDefinition'
        type: array
      default_sla_id:
        type: integer
      description:
        type: string
      icon:
        type: string
      name:
        type: string
      notification_config:
        $ref: '#/definitions/dto.NotificationConfig'
      permission_config:
        $ref: '#/definitions/dto.PermissionConfig'
      sla_enabled:
        type: boolean
    required:
    - code
    - name
    type: object
  dto.CreateUserRequest:
    properties:
      department:
        type: string
      email:
        type: string
      name:
        maxLength: 100
        minLength: 1
        type: string
      password:
        minLength: 6
        type: string
      phone:
        type: string
      role:
        description: 角色，可选；不提供时使用后端默认值（end_user）
        enum:
        - super_admin
        - admin
        - manager
        - agent
        - technician
        - end_user
        type: string
      tenant_id:
        minimum: 1
        type: integer
      username:
        maxLength: 50
        minLength: 3
        type: string
    required:
    - email
    - name
    - password
    - tenant_id
    - username
    type: object
  dto.CustomFieldConditionalDisplay:
    properties:
      field:
        type: string
      operator:
        description: equals, not_equals, contains
        type: string
      value: {}
    type: object
  dto.CustomFieldDefinition:
    properties:
      conditional_display:
        $ref: '#/definitions/dto.CustomFieldConditionalDisplay'
      default_value: {}
      description:
        type: string
      id:
        type: string
      label:
        type: string
      name:
        type: string
      options:
        items:
          $ref: '#/definitions/dto.CustomFieldOption'
        type: array
      order:
        type: integer
      placeholder:
        type: string
      required:
        type: boolean
      type:
        $ref: '#/definitions/dto.CustomFieldType'
      validation:
        $ref: '#/definitions/dto.CustomFieldValidation'
    type: object
  dto.CustomFieldOption:
    properties:
      label:
        type: string
      value: {}
    type: object
  dto.CustomFieldType:
    enum:
    - text
    - textarea
    - number
    - date
    - datetime
    - select
    - multi_select
    - checkbox
    - radio
    - file
    - user_picker
    - department_picker
    type: string
    x-enum-varnames:
    - CustomFieldTypeText
    - CustomFieldTypeTextarea
    - CustomFieldTypeNumber
    - CustomFieldTypeDate
    - CustomFieldTypeDatetime
    - CustomFieldTypeSelect
    - CustomFieldTypeMultiSelect
    - CustomFieldTypeCheckbox
    - CustomFieldTypeRadio
    - CustomFieldTypeFile
    - CustomFieldTypeUserPicker
    - CustomFieldTypeDepartmentPicker
  dto.CustomFieldValidation:
    properties:
      max:
        type: integer
      message:
        type: string
      min:
        type: integer
      pattern:
        type: string
    type: object
  dto.DashboardKPIResponse:
    properties:
      color:
        type: string
      period:
        type: string
      title:
        type: string
      trend:
        type: string
      value:
        type: string
    type: object
  dto.DashboardResponse:
    properties:
      kpis:
        items:
          $ref: '#/definitions/dto.DashboardKPIResponse'
        type: array
      last_updated:
        type: string
      multi_cloud_resources:
        items:
          $ref: '#/definitions/dto.MultiCloudResourceData'
        type: array
      resource_health:
        items:
          $ref: '#/definitions/dto.ResourceHealthData'
        type: array
    type: object
  dto.ForwardTicketRequest:
    properties:
      comment:
        type: string
      ticket_id:
        type: integer
      to_user_id:
        type: integer
      transfer_ownership:
        type: boolean
    required:
    - comment
    - ticket_id
    - to_user_id
    type: object
  dto.IncidentAlertResponse:
    properties:
      acknowledged_at:
        example: "2024-01-01T01:00:00Z"
        type: string
      acknowledged_by:
        example: 1
        type: integer
      alert_name:
        example: 事件升级告警
        type: string
      alert_type:
        example: escalation
        type: string
      channels:
        example:
        - '["email"'
        - '"sms"]'
        items:
          type: string
        type: array
      created_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      id:
        example: 1
        type: integer
      incident_id:
        example: 1
        type: integer
      message:
        example: 事件已升级到下一级别
        type: string
      metadata:
        additionalProperties: true
        type: object
      recipients:
        example:
        - '["manager@company.com"]'
        items:
          type: string
        type: array
      resolved_at:
        example: "2024-01-01T02:00:00Z"
        type: string
      severity:
        example: high
        type: string
      status:
        example: active
        type: string
      tenant_id:
        example: 1
        type: integer
      triggered_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      updated_at:
        example: "2024-01-01T00:00:00Z"
        type: string
    type: object
  dto.IncidentEscalationRequest:
    properties:
      auto_assign:
        example: true
        type: boolean
      escalation_level:
        example: 1
        type: integer
      incident_id:
        example: 1
        type: integer
      notify_users:
        items:
          type: integer
        type: array
      reason:
        example: 事件处理时间过长
        type: string
    required:
    - escalation_level
    - incident_id
    type: object
  dto.IncidentEscalationResponse:
    properties:
      auto_assigned:
        example: true
        type: boolean
      created_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      escalation_level:
        example: 1
        type: integer
      id:
        example: 1
        type: integer
      incident_id:
        example: 1
        type: integer
      notified_users:
        items:
          type: integer
        type: array
      reason:
        example: 事件处理时间过长
        type: string
      status:
        example: active
        type: string
      updated_at:
        example: "2024-01-01T00:00:00Z"
        type: string
    type: object
  dto.IncidentEventResponse:
    properties:
      created_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      data:
        additionalProperties: true
        type: object
      description:
        example: 事件状态从new变更为in_progress
        type: string
      event_name:
        example: 状态变更
        type: string
      event_type:
        example: status_change
        type: string
      id:
        example: 1
        type: integer
      incident_id:
        example: 1
        type: integer
      metadata:
        additionalProperties: true
        type: object
      occurred_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      severity:
        example: medium
        type: string
      source:
        example: system
        type: string
      status:
        example: active
        type: string
      tenant_id:
        example: 1
        type: integer
      updated_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      user_id:
        example: 1
        type: integer
    type: object
  dto.IncidentMetricResponse:
    properties:
      created_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      id:
        example: 1
        type: integer
      incident_id:
        example: 1
        type: integer
      measured_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      metadata:
        additionalProperties: true
        type: object
      metric_name:
        example: 平均响应时间
        type: string
      metric_type:
        example: response_time
        type: string
      metric_value:
        example: 2.5
        type: number
      tags:
        additionalProperties:
          type: string
        type: object
      tenant_id:
        example: 1
        type: integer
      unit:
        example: 秒
        type: string
      updated_at:
        example: "2024-01-01T00:00:00Z"
        type: string
    type: object
  dto.IncidentMonitoringRequest:
    properties:
      category:
        example: performance
        type: string
      end_time:
        example: "2024-01-31T23:59:59Z"
        type: string
      incident_id:
        example: 1
        type: integer
      priority:
        example: high
        type: string
      start_time:
        example: "2024-01-01T00:00:00Z"
        type: string
      status:
        example: new
        type: string
    type: object
  dto.IncidentMonitoringResponse:
    properties:
      alerts:
        items:
          $ref: '#/definitions/dto.IncidentAlertResponse'
        type: array
      average_resolution_time:
        example: 4.5
        type: number
      closed_incidents:
        example: 5
        type: integer
      critical_incidents:
        example: 10
        type: integer
      escalation_rate:
        example: 15
        type: number
      high_priority_incidents:
        example: 20
        type: integer
      incidents:
        items:
          $ref: '#/definitions/dto.IncidentResponse'
        type: array
      metrics:
        items:
          $ref: '#/definitions/dto.IncidentMetricResponse'
        type: array
      open_incidents:
        example: 25
        type: integer
      resolution_rate:
        example: 95
        type: number
      resolved_incidents:
        example: 70
        type: integer
      total_incidents:
        example: 100
        type: integer
    type: object
  dto.IncidentResponse:
    properties:
      assignee_id:
        example: 2
        type: integer
      category:
        example: performance
        type: string
      closed_at:
        example: "2024-01-01T18:00:00Z"
        type: string
      configuration_item_id:
        example: 1
        type: integer
      created_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      description:
        example: 生产环境Web服务器CPU使用率持续超过90%
        type: string
      detected_at:
        example: "2024-01-01T00:00:00Z"
        type: string
      escalated_at:
        example: "2024-01-01T06:00:00Z"
        type: string
      escalation_level:
        example: 1
        type: integer
      id:
        example: 1
        type: integer
      impact_analysis:
        additionalProperties: true
        type: object
      incident_number:
        example: INC-000001
        type: string
      is_automated:
        example: false
        type: boolean
      metadata:
        additionalProperties: true
        type: object
      priority:
        example: high
        type: string
      reporter_id:
        example: 1
        type: integer
      resolution_steps:
        items:
          additionalProperties: true
          type: object
        type: array
      resolved_at:
        example: "2024-01-01T12:00:00Z"
        type: string
      root_cause:
        additionalProperties: true
        type: object
      severity:
        example: high
        type: string
      source:
        example: monitoring
        type: string
      status:
        example: new
        type: string
      subcategory:
        example: cpu
        type: string
      tenant_id:
        example: 1
        type: integer
      title:
        example: 服务器CPU使用率过高
        type: string
      updated_at:
        example: "2024-01-01T00:00:00Z"
        type: string
    type: object
  dto.IncidentStatsResponse:
    properties:
      avg_resolution_time:
        type: number
      critical_incidents:
        type: integer
      major_incidents:
        type: integer
      mtta:
        description: Mean Time To Acknowledge
        type: number
      mttr:
        description: Mean Time To Resolve
        type: number
      open_incidents:
        type: integer
      total_incidents:
        type: integer
    type: object
  dto.KnowledgeArticleListResponse:
    properties:
      articles:
        items:
          $ref: '#/definitions/dto.KnowledgeArticleResponse'
        type: array
      page:
        type: integer
      size:
        type: integer
      total:
        type: integer
    type: object
  dto.KnowledgeArticleResponse:
    properties:
      author:
        type: string
      category:
        type: string
      content:
        type: string
      created_at:
        type: string
      id:
        type: integer
      status:
        type: string
      tags:
        items:
          type: string
        type: array
      tenant_id:
        type: integer
      title:
        type: string
      updated_at:
        type: string
      views:
        type: integer
    type: object
  dto.ListCIsResponse:
    properties:
      cis:
        items:
          $ref: '#/definitions/dto.CIResponse'
        type: array
      total:
        type: integer
    type: object
  dto.MultiCloudResourceData:
    properties:
      name:
        type: string
      私有云:
        type: integer
      腾讯云:
        type: integer
      阿里云:
        type: integer
    type: object
  dto.NotificationConfig:
    properties:
      on_approval:
        $ref: '#/definitions/dto.NotificationRecipients'
      on_complete:
        $ref: '#/definitions/dto.NotificationRecipients'
      on_create:
        $ref: '#/definitions/dto.NotificationRecipients'
      on_reject:
        $ref: '#/definitions/dto.NotificationRecipients'
      on_update:
        $ref: '#/definitions/dto.NotificationRecipients'
    type: object
  dto.NotificationRecipients:
    properties:
      enabled:
        type: boolean
      recipients:
        description: requester, assignee, approvers, watchers等
        items:
          type: string
        type: array
      template:
        type: string
    type: object
  dto.PagedUsersResponse:
    properties:
      pagination:
        $ref: '#/definitions/dto.PaginationResponse'
      users:
        items:
          $ref: '#/definitions/dto.UserDetailResponse'
        type: array
    type: object
  dto.PaginationResponse:
    properties:
      page:
        type: integer
      page_size:
        type: integer
      total:
        type: integer
      total_page:
        type: integer
    type: object
  dto.PermissionConfig:
    properties:
      can_approve:
        items:
          type: string
        type: array
      can_create:
        items:
          type: string
        type: array
      can_delete:
        items:
          type: string
        type: array
      can_edit:
        items:
          type: string
        type: array
      can_view:
        items:
          type: string
        type: array
    type: object
  dto.RejectTicketRequest:
    properties:
      comment:
        type: string
      reason:
        type: string
      return_to_status:
        type: string
      ticket_id:
        type: integer
    required:
    - comment
    - reason
    - ticket_id
    type: object
  dto.ReopenTicketRequest:
    properties:
      reason:
        type: string
      ticket_id:
        type: integer
    required:
    - reason
    - ticket_id
    type: object
  dto.ResetPasswordRequest:
    properties:
      new_password:
        minLength: 6
        type: string
    required:
    - new_password
    type: object
  dto.ResolveTicketRequest:
    properties:
      resolution:
        type: string
      resolution_category:
        type: string
      ticket_id:
        type: integer
      work_notes:
        type: string
    required:
    - resolution
    - ticket_id
    type: object
  dto.ResourceHealthData:
    properties:
      name:
        type: string
      value:
        type: integer
    type: object
  dto.ServiceCatalogListResponse:
    properties:
      catalogs:
        items:
          $ref: '#/definitions/dto.ServiceCatalogResponse'
        type: array
      page:
        type: integer
      size:
        type: integer
      total:
        type: integer
    type: object
  dto.ServiceCatalogResponse:
    properties:
      category:
        type: string
      created_at:
        type: string
      delivery_time:
        type: string
      description:
        type: string
      id:
        type: integer
      name:
        type: string
      status:
        type: string
      updated_at:
        type: string
    type: object
  dto.ServiceRequestListResponse:
    properties:
      page:
        type: integer
      requests:
        items:
          $ref: '#/definitions/dto.ServiceRequestResponse'
        type: array
      size:
        type: integer
      total:
        type: integer
    type: object
  dto.ServiceRequestResponse:
    properties:
      catalog:
        $ref: '#/definitions/dto.ServiceCatalogResponse'
      catalog_id:
        type: integer
      created_at:
        type: string
      id:
        type: integer
      reason:
        type: string
      requester:
        $ref: '#/definitions/dto.UserResponse'
      requester_id:
        type: integer
      status:
        type: string
    type: object
  dto.TenantListResponse:
    properties:
      page:
        type: integer
      size:
        type: integer
      tenants:
        items:
          $ref: '#/definitions/dto.TenantResponse'
        type: array
      total:
        type: integer
    type: object
  dto.TenantResponse:
    properties:
      code:
        type: string
      created_at:
        type: string
      domain:
        type: string
      expires_at:
        type: string
      id:
        type: integer
      name:
        type: string
      quota:
        additionalProperties: true
        type: object
      settings:
        additionalProperties: true
        type: object
      status:
        type: string
      type:
        type: string
      updated_at:
        type: string
    type: object
  dto.TicketTypeDefinition:
    properties:
      approval_chain:
        items:
          $ref: '#/definitions/dto.ApprovalChainDefinition'
        type: array
      approval_enabled:
        type: boolean
      approval_workflow_id:
        type: string
      assignment_rules:
        items:
          $ref: '#/definitions/dto.AssignmentRule'
        type: array
      auto_assign_enabled:
        type: boolean
      code:
        type: string
      color:
        type: string
      created_at:
        type: string
      created_by:
        type: integer
      created_by_name:
        type: string
      custom_fields:
        items:
          $ref: '#/definitions/dto.CustomFieldDefinition'
        type: array
      default_sla_id:
        type: integer
      description:
        type: string
      icon:
        type: string
      id:
        type: integer
      name:
        type: string
      notification_config:
        $ref: '#/definitions/dto.NotificationConfig'
      permission_config:
        $ref: '#/definitions/dto.PermissionConfig'
      sla_enabled:
        type: boolean
      status:
        $ref: '#/definitions/dto.TicketTypeStatus'
      tenant_id:
        type: integer
      updated_at:
        type: string
      updated_by:
        type: integer
      updated_by_name:
        type: string
      usage_count:
        type: integer
    type: object
  dto.TicketTypeListResponse:
    properties:
      page:
        type: integer
      page_size:
        type: integer
      total:
        type: integer
      total_pages:
        type: integer
      types:
        items:
          $ref: '#/definitions/dto.TicketTypeDefinition'
        type: array
    type: object
  dto.TicketTypeStatus:
    enum:
    - active
    - inactive
    - draft
    type: string
    x-enum-varnames:
    - TicketTypeStatusActive
    - TicketTypeStatusInactive
    - TicketTypeStatusDraft
  dto.TicketWorkflowAction:
    enum:
    - accept
    - reject
    - withdraw
    - forward
    - cc
    - escalate
    - approve
    - approve_reject
    - delegate
    - resolve
    - close
    - reopen
    type: string
    x-enum-varnames:
    - WorkflowActionAccept
    - WorkflowActionReject
    - WorkflowActionWithdraw
    - WorkflowActionForward
    - WorkflowActionCC
    - WorkflowActionEscalate
    - WorkflowActionApprove
    - WorkflowActionApproveReject
    - WorkflowActionDelegate
    - WorkflowActionResolve
    - WorkflowActionClose
    - WorkflowActionReopen
  dto.TicketWorkflowState:
    properties:
      approval_status:
        $ref: '#/definitions/dto.ApprovalStatus'
      available_actions:
        items:
          $ref: '#/definitions/dto.TicketWorkflowAction'
        type: array
      can_accept:
        type: boolean
      can_approve:
        type: boolean
      can_cc:
        type: boolean
      can_close:
        type: boolean
      can_forward:
        type: boolean
      can_reject:
        type: boolean
      can_resolve:
        type: boolean
      can_withdraw:
        type: boolean
      completed_approvals:
        items:
          $ref: '#/definitions/dto.ApprovalRecord'
        type: array
      current_approval_level:
        type: integer
      current_assignee:
        $ref: '#/definitions/dto.WorkflowUserInfo'
      current_status:
        type: string
      pending_approvers:
        items:
          $ref: '#/definitions/dto.WorkflowUserInfo'
        type: array
      ticket_id:
        type: integer
      total_approval_levels:
        type: integer
    type: object
  dto.UpdateCIRequest:
    properties:
      attributes:
        additionalProperties: true
        type: object
      description:
        type: string
      name:
        type: string
      status:
        type: string
    type: object
  dto.UpdateChangeApprovalRequest:
    properties:
      comment:
        description: 审批意见
        type: string
      status:
        allOf:
        - $ref: '#/definitions/dto.ChangeStatus'
        description: 审批状态
    required:
    - status
    type: object
  dto.UpdateIncidentRequest:
    properties:
      assignee_id:
        type: integer
      category:
        type: string
      description:
        type: string
      impact_analysis:
        additionalProperties: true
        type: object
      metadata:
        additionalProperties: true
        type: object
      priority:
        type: string
      resolution_steps:
        items:
          additionalProperties: true
          type: object
        type: array
      root_cause:
        additionalProperties: true
        type: object
      severity:
        type: string
      status:
        type: string
      subcategory:
        type: string
      title:
        type: string
    type: object
  dto.UpdateKnowledgeArticleRequest:
    properties:
      category:
        type: string
      content:
        type: string
      status:
        type: string
      tags:
        items:
          type: string
        type: array
      title:
        type: string
    type: object
  dto.UpdateServiceCatalogRequest:
    properties:
      category:
        maxLength: 100
        type: string
      delivery_time:
        maxLength: 50
        type: string
      description:
        maxLength: 1000
        type: string
      name:
        maxLength: 255
        type: string
      status:
        enum:
        - enabled
        - disabled
        type: string
    type: object
  dto.UpdateServiceRequestStatusRequest:
    properties:
      status:
        enum:
        - pending
        - in_progress
        - completed
        - rejected
        type: string
    required:
    - status
    type: object
  dto.UpdateTicketTypeRequest:
    properties:
      approval_chain:
        items:
          $ref: '#/definitions/dto.ApprovalChainDefinition'
        type: array
      approval_enabled:
        type: boolean
      assignment_rules:
        items:
          $ref: '#/definitions/dto.AssignmentRule'
        type: array
      auto_assign_enabled:
        type: boolean
      color:
        type: string
      custom_fields:
        items:
          $ref: '#/definitions/dto.CustomFieldDefinition'
        type: array
      default_sla_id:
        type: integer
      description:
        type: string
      icon:
        type: string
      name:
        type: string
      notification_config:
        $ref: '#/definitions/dto.NotificationConfig'
      permission_config:
        $ref: '#/definitions/dto.PermissionConfig'
      sla_enabled:
        type: boolean
      status:
        $ref: '#/definitions/dto.TicketTypeStatus'
    type: object
  dto.UpdateUserRequest:
    properties:
      department:
        type: string
      email:
        type: string
      name:
        maxLength: 100
        minLength: 1
        type: string
      phone:
        type: string
      role:
        description: 角色更新，仅管理员有权限更新
        enum:
        - super_admin
        - admin
        - manager
        - agent
        - technician
        - end_user
        type: string
      username:
        maxLength: 50
        minLength: 3
        type: string
    type: object
  dto.UserDetailResponse:
    properties:
      active:
        type: boolean
      created_at:
        type: string
      department:
        type: string
      email:
        type: string
      id:
        type: integer
      name:
        type: string
      phone:
        type: string
      role:
        type: string
      tenant_id:
        type: integer
      updated_at:
        type: string
      username:
        type: string
    type: object
  dto.UserResponse:
    properties:
      email:
        type: string
      id:
        type: integer
      name:
        type: string
      role:
        type: string
      username:
        type: string
    type: object
  dto.UserStatsResponse:
    properties:
      active:
        type: integer
      inactive:
        type: integer
      total:
        type: integer
    type: object
  dto.ValidateCIAttributesRequest:
    properties:
      attributes:
        additionalProperties: true
        type: object
      ci_type_id:
        type: integer
    required:
    - attributes
    - ci_type_id
    type: object
  dto.ValidateCIAttributesResponse:
    properties:
      errors:
        additionalProperties:
          type: string
        type: object
      is_valid:
        type: boolean
      normalized_attributes:
        additionalProperties: true
        type: object
      warnings:
        additionalProperties:
          type: string
        type: object
    type: object
  dto.WithdrawTicketRequest:
    properties:
      reason:
        type: string
      ticket_id:
        type: integer
    required:
    - reason
    - ticket_id
    type: object
  dto.WorkflowUserInfo:
    properties:
      avatar:
        type: string
      department:
        type: string
      email:
        type: string
      full_name:
        type: string
      id:
        type: integer
      role:
        type: string
      username:
        type: string
    type: object
  ent.KnowledgeArticle:
    properties:
      author_id:
        description: 作者ID
        type: integer
      category:
        description: 分类
        type: string
      content:
        description: 文章内容
        type: string
      created_at:
        description: 创建时间
        type: string
      id:
        description: ID of the ent.
        type: integer
      is_published:
        description: 是否发布
        type: boolean
      tags:
        description: 标签
        type: string
      tenant_id:
        description: 租户ID
        type: integer
      title:
        description: 文章标题
        type: string
      updated_at:
        description: 更新时间
        type: string
    type: object
  handlers.DashboardOverview:
    properties:
      incidentDistribution:
        items:
          $ref: '#/definitions/handlers.IncidentDistributionData'
        type: array
      kpiMetrics:
        items:
          $ref: '#/definitions/handlers.KPIMetric'
        type: array
      peakHours:
        items:
          $ref: '#/definitions/handlers.PeakHourData'
        type: array
      quickActions:
        items:
          $ref: '#/definitions/handlers.QuickAction'
        type: array
      recentActivities:
        items:
          $ref: '#/definitions/handlers.RecentActivity'
        type: array
      responseTimeDistribution:
        items:
          $ref: '#/definitions/handlers.ResponseTimeDistributionData'
        type: array
      satisfactionData:
        items:
          $ref: '#/definitions/handlers.SatisfactionData'
        type: array
      slaData:
        items:
          $ref: '#/definitions/handlers.SLAData'
        type: array
      teamWorkload:
        items:
          $ref: '#/definitions/handlers.TeamWorkloadData'
        type: array
      ticketTrend:
        items:
          $ref: '#/definitions/handlers.TicketTrendData'
        type: array
    type: object
  handlers.ErrorResponse:
    properties:
      code:
        type: integer
      message:
        type: string
    type: object
  handlers.IncidentDistributionData:
    properties:
      category:
        type: string
      color:
        type: string
      count:
        type: integer
    type: object
  handlers.KPIMetric:
    properties:
      change:
        description: 变化百分比
        type: number
      changeType:
        description: increase, decrease, stable
        type: string
      color:
        type: string
      description:
        type: string
      id:
        type: string
      title:
        type: string
      trend:
        description: up, down, stable
        type: string
      unit:
        type: string
      value:
        type: number
    type: object
  handlers.PeakHourData:
    properties:
      avgResponseTime:
        type: number
      count:
        type: integer
      hour:
        type: string
    type: object
  handlers.QuickAction:
    properties:
      color:
        type: string
      description:
        type: string
      id:
        type: string
      path:
        type: string
      permission:
        type: string
      title:
        type: string
    type: object
  handlers.RecentActivity:
    properties:
      description:
        type: string
      id:
        type: string
      priority:
        type: string
      status:
        type: string
      timestamp:
        type: string
      title:
        type: string
      type:
        description: ticket, incident, change, problem
        type: string
      user:
        type: string
    type: object
  handlers.ResponseTimeDistributionData:
    properties:
      avgTime:
        type: number
      count:
        type: integer
      percentage:
        type: number
      timeRange:
        type: string
    type: object
  handlers.SLAData:
    properties:
      actual:
        type: number
      service:
        type: string
      target:
        type: number
    type: object
  handlers.SatisfactionData:
    properties:
      month:
        type: string
      rating:
        type: number
      responses:
        type: integer
    type: object
  handlers.TeamWorkloadData:
    properties:
      activeTickets:
        type: integer
      assignee:
        type: string
      avgResponseTime:
        type: number
      completionRate:
        type: number
      ticketCount:
        type: integer
    type: object
  handlers.TicketTrendData:
    properties:
      closed:
        type: integer
      date:
        type: string
      inProgress:
        type: integer
      open:
        type: integer
      resolved:
        type: integer
    type: object
  service.AIRecommendation:
    properties:
      confidence:
        type: number
      reason:
        type: string
      suggested_assignee:
        type: integer
      suggested_category:
        type: string
      suggested_priority:
        type: string
      suggested_tags:
        items:
          type: string
        type: array
      ticket_id:
        type: integer
    type: object
  service.AssociateWithKnowledgeRequest:
    properties:
      article_id:
        type: integer
      association_type:
        description: auto, manual, suggested
        type: string
    required:
    - article_id
    - association_type
    type: object
  service.KnowledgeAssociation:
    properties:
      article_id:
        type: integer
      association_type:
        description: auto, manual, suggested
        type: string
      created_at:
        type: string
      relevance_score:
        type: number
      ticket_id:
        type: integer
    type: object
  service.SearchKnowledgeRequest:
    properties:
      keywords:
        items:
          type: string
        type: array
      limit:
        type: integer
    required:
    - keywords
    type: object
  service.SolutionRecommendation:
    properties:
      article_id:
        type: integer
      category:
        type: string
      content:
        type: string
      last_updated:
        type: string
      relevance_score:
        type: number
      tags:
        items:
          type: string
        type: array
      title:
        type: string
    type: object
info:
  contact: {}
paths:
  /ai/chat:
    post:
      consumes:
      - application/json
      description: 基于知识库的检索增强问答
      parameters:
      - description: 查询参数
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/controller.ChatRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: AI 问答（RAG）
      tags:
      - ai
  /ai/tools:
    get:
      description: 列出可用工具
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 工具清单
      tags:
      - ai
  /ai/tools/{id}:
    get:
      description: 根据ID查询工具执行记录状态与结果
      parameters:
      - description: invocation id
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 查询工具执行状态
      tags:
      - ai
  /ai/tools/{id}/approve:
    post:
      consumes:
      - application/json
      description: 管理员审批危险工具执行请求
      parameters:
      - description: invocation id
        in: path
        name: id
        required: true
        type: integer
      - description: 审批参数
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/controller.ApproveRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 审批工具执行
      tags:
      - ai
  /ai/tools/execute:
    post:
      consumes:
      - application/json
      description: 只读工具直接执行，危险工具生成审批记录
      parameters:
      - description: 执行参数
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/controller.ToolExecRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: 执行工具
      tags:
      - ai
  /api/knowledge/search:
    post:
      consumes:
      - application/json
      description: 基于关键词搜索知识库文章
      parameters:
      - description: 搜索请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/service.SearchKnowledgeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/ent.KnowledgeArticle'
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 搜索知识库
      tags:
      - 知识库集成
  /api/tickets/{ticket_id}/knowledge/ai-recommendations:
    get:
      consumes:
      - application/json
      description: 获取工单的AI辅助建议，包括分类、优先级、标签等
      parameters:
      - description: 工单ID
        in: path
        name: ticket_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/service.AIRecommendation'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 获取AI辅助建议
      tags:
      - 知识库集成
  /api/tickets/{ticket_id}/knowledge/associate:
    post:
      consumes:
      - application/json
      description: 将工单与知识库文章建立关联关系
      parameters:
      - description: 工单ID
        in: path
        name: ticket_id
        required: true
        type: integer
      - description: 关联请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/service.AssociateWithKnowledgeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/service.KnowledgeAssociation'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 关联知识库文章
      tags:
      - 知识库集成
  /api/tickets/{ticket_id}/knowledge/associations:
    get:
      consumes:
      - application/json
      description: 获取工单的所有知识库关联
      parameters:
      - description: 工单ID
        in: path
        name: ticket_id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/service.KnowledgeAssociation'
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 获取知识库关联
      tags:
      - 知识库集成
  /api/tickets/{ticket_id}/knowledge/recommendations:
    get:
      consumes:
      - application/json
      description: 基于工单内容推荐相关的知识库解决方案
      parameters:
      - description: 工单ID
        in: path
        name: ticket_id
        required: true
        type: integer
      - default: 5
        description: 推荐数量限制
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/service.SolutionRecommendation'
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 推荐解决方案
      tags:
      - 知识库集成
  /api/tickets/{ticket_id}/knowledge/related-articles:
    get:
      consumes:
      - application/json
      description: 获取与工单相关的知识库文章
      parameters:
      - description: 工单ID
        in: path
        name: ticket_id
        required: true
        type: integer
      - default: 10
        description: 文章数量限制
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/ent.KnowledgeArticle'
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 获取相关文章
      tags:
      - 知识库集成
  /api/v1/audit-logs:
    get:
      consumes:
      - application/json
      description: 根据过滤条件分页查询审计日志
      parameters:
      - description: 页码
        in: query
        name: page
        type: integer
      - description: 每页数量
        in: query
        name: page_size
        type: integer
      - description: 用户ID
        in: query
        name: user_id
        type: integer
      - description: 资源类型
        in: query
        name: resource
        type: string
      - description: 动作
        in: query
        name: action
        type: string
      - description: HTTP方法
        in: query
        name: method
        type: string
      - description: 状态码
        in: query
        name: status_code
        type: integer
      - description: 路径前缀
        in: query
        name: path
        type: string
      - description: 请求ID
        in: query
        name: request_id
        type: string
      - description: 开始时间(RFC3339)
        in: query
        name: from
        type: string
      - description: 结束时间(RFC3339)
        in: query
        name: to
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.Response'
      summary: 列出审计日志
      tags:
      - AuditLogs
  /api/v1/changes/{changeId}/approval-summary:
    get:
      description: 获取指定变更的审批摘要信息
      parameters:
      - description: 变更ID
        in: path
        name: changeId
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.ChangeApprovalSummary'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 获取变更审批摘要
      tags:
      - 变更审批
  /api/v1/changes/{changeId}/risk-assessment:
    get:
      description: 获取指定变更的风险评估信息
      parameters:
      - description: 变更ID
        in: path
        name: changeId
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.ChangeRiskAssessmentResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 获取变更风险评估
      tags:
      - 变更风险评估
  /api/v1/changes/{changeId}/rollback-plans/{rollbackPlanId}/execute:
    post:
      consumes:
      - application/json
      description: 执行指定变更的回滚操作
      parameters:
      - description: 变更ID
        in: path
        name: changeId
        required: true
        type: integer
      - description: 回滚计划ID
        in: path
        name: rollbackPlanId
        required: true
        type: integer
      - description: 回滚执行请求
        in: body
        name: request
        required: true
        schema:
          additionalProperties: true
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.ChangeRollbackExecutionResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 执行变更回滚
      tags:
      - 变更回滚计划
  /api/v1/changes/approval-workflows:
    post:
      consumes:
      - application/json
      description: 为指定变更创建审批工作流
      parameters:
      - description: 创建审批工作流请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.ChangeApprovalWorkflowRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 创建变更审批工作流
      tags:
      - 变更审批
  /api/v1/changes/approvals:
    post:
      consumes:
      - application/json
      description: 为指定变更创建审批记录
      parameters:
      - description: 创建审批请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CreateChangeApprovalRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.ChangeApprovalResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 创建变更审批
      tags:
      - 变更审批
  /api/v1/changes/approvals/{id}:
    put:
      consumes:
      - application/json
      description: 更新指定审批记录的状态
      parameters:
      - description: 审批ID
        in: path
        name: id
        required: true
        type: integer
      - description: 更新审批请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateChangeApprovalRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.ChangeApprovalResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 更新变更审批状态
      tags:
      - 变更审批
  /api/v1/changes/implementation-plans:
    post:
      consumes:
      - application/json
      description: 为指定变更创建实施计划
      parameters:
      - description: 创建实施计划请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CreateChangeImplementationPlanRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.ChangeImplementationPlanResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 创建变更实施计划
      tags:
      - 变更实施计划
  /api/v1/changes/risk-assessments:
    post:
      consumes:
      - application/json
      description: 为指定变更创建风险评估
      parameters:
      - description: 创建风险评估请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CreateChangeRiskAssessmentRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.ChangeRiskAssessmentResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 创建变更风险评估
      tags:
      - 变更风险评估
  /api/v1/changes/rollback-plans:
    post:
      consumes:
      - application/json
      description: 为指定变更创建回滚计划
      parameters:
      - description: 创建回滚计划请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CreateChangeRollbackPlanRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/dto.ChangeRollbackPlanResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 创建变更回滚计划
      tags:
      - 变更回滚计划
  /api/v1/cmdb/ci-attributes/validate:
    post:
      consumes:
      - application/json
      description: 根据CI类型的属性定义验证提供的属性值
      parameters:
      - description: 验证请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.ValidateCIAttributesRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.ValidateCIAttributesResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 验证CI属性
      tags:
      - CMDB
  /api/v1/cmdb/ci-types/{id}/attributes:
    get:
      consumes:
      - application/json
      description: 获取指定CI类型的详细信息及其所有属性定义
      parameters:
      - description: CI类型ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.CITypeWithAttributesResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 获取CI类型及其属性定义
      tags:
      - CMDB
  /api/v1/cmdb/ci-types/attributes:
    post:
      consumes:
      - application/json
      description: 为指定的CI类型创建新的属性定义
      parameters:
      - description: 属性定义信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CIAttributeDefinitionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.CIAttributeDefinitionResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 创建CI属性定义
      tags:
      - CMDB
  /api/v1/cmdb/cis/search-by-attributes:
    post:
      consumes:
      - application/json
      description: 使用动态属性条件搜索配置项
      parameters:
      - description: 搜索条件
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CIAttributeSearchRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.ListCIsResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 根据属性搜索CI
      tags:
      - CMDB
  /api/v1/cmdb/configuration-items:
    get:
      description: 分页获取配置项列表，支持多种过滤条件
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: size
        type: integer
      - description: 配置项类型
        enum:
        - server
        - database
        - application
        - network
        - storage
        in: query
        name: type
        type: string
      - description: 状态
        enum:
        - active
        - inactive
        - maintenance
        in: query
        name: status
        type: string
      - description: 业务服务
        in: query
        name: business_service
        type: string
      - description: 负责人
        in: query
        name: owner
        type: string
      - description: 环境
        enum:
        - production
        - staging
        - development
        in: query
        name: environment
        type: string
      - description: 搜索关键词
        in: query
        name: search
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.ListCIsResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 获取配置项列表
      tags:
      - CMDB
    post:
      consumes:
      - application/json
      description: 创建新的配置项
      parameters:
      - description: 创建配置项请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CreateCIRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.CIResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 创建配置项
      tags:
      - CMDB
  /api/v1/cmdb/configuration-items/{id}:
    delete:
      description: 删除指定的配置项
      parameters:
      - description: 配置项ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 删除配置项
      tags:
      - CMDB
    get:
      description: 根据ID获取配置项详情
      parameters:
      - description: 配置项ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.CIResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 获取配置项详情
      tags:
      - CMDB
    put:
      consumes:
      - application/json
      description: 更新配置项信息
      parameters:
      - description: 配置项ID
        in: path
        name: id
        required: true
        type: integer
      - description: 更新配置项请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateCIRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.CIResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 更新配置项
      tags:
      - CMDB
  /api/v1/dashboard/incident-distribution:
    get:
      consumes:
      - application/json
      description: 获取事件类型分布统计
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/handlers.IncidentDistributionData'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: 获取事件分布
      tags:
      - Dashboard
  /api/v1/dashboard/kpi-metrics:
    get:
      consumes:
      - application/json
      description: 获取Dashboard的KPI指标数据
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/handlers.KPIMetric'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: 获取KPI指标
      tags:
      - Dashboard
  /api/v1/dashboard/overview:
    get:
      consumes:
      - application/json
      description: 获取Dashboard页面的所有数据，包括KPI指标、趋势图表、快速操作等
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.DashboardOverview'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: 获取Dashboard概览
      tags:
      - Dashboard
  /api/v1/dashboard/quick-actions:
    get:
      consumes:
      - application/json
      description: 获取Dashboard快速操作按钮配置
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/handlers.QuickAction'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: 获取快速操作
      tags:
      - Dashboard
  /api/v1/dashboard/recent-activities:
    get:
      consumes:
      - application/json
      description: 获取系统最近的操作活动记录
      parameters:
      - default: 10
        description: 限制数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/handlers.RecentActivity'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: 获取最近活动
      tags:
      - Dashboard
  /api/v1/dashboard/satisfaction-data:
    get:
      consumes:
      - application/json
      description: 获取用户满意度统计数据
      parameters:
      - default: 4
        description: 月数
        in: query
        name: months
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/handlers.SatisfactionData'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: 获取满意度数据
      tags:
      - Dashboard
  /api/v1/dashboard/sla-data:
    get:
      consumes:
      - application/json
      description: 获取各服务的SLA达成情况
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/handlers.SLAData'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: 获取SLA数据
      tags:
      - Dashboard
  /api/v1/dashboard/ticket-trend:
    get:
      consumes:
      - application/json
      description: 获取最近几天的工单趋势数据
      parameters:
      - default: 7
        description: 天数
        in: query
        name: days
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/handlers.TicketTrendData'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: 获取工单趋势
      tags:
      - Dashboard
  /api/v1/incidents:
    get:
      description: 分页获取事件列表，支持筛选
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - default: 10
        description: 每页数量（兼容旧参数）
        in: query
        name: size
        type: integer
      - description: 状态筛选
        in: query
        name: status
        type: string
      - description: 优先级筛选
        in: query
        name: priority
        type: string
      - description: 严重程度筛选
        in: query
        name: severity
        type: string
      - description: 分类筛选
        in: query
        name: category
        type: string
      - description: 来源筛选
        in: query
        name: source
        type: string
      - description: 关键词搜索（标题、描述、事件编号）
        in: query
        name: keyword
        type: string
      - description: 处理人ID筛选
        in: query
        name: assignee_id
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  properties:
                    incidents:
                      items:
                        $ref: '#/definitions/dto.IncidentResponse'
                      type: array
                    page:
                      type: integer
                    page_size:
                      type: integer
                    total:
                      type: integer
                    total_pages:
                      type: integer
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 获取事件列表
      tags:
      - 事件管理
    post:
      consumes:
      - application/json
      description: 创建新的事件记录
      parameters:
      - description: 创建事件请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CreateIncidentRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.IncidentResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 创建事件
      tags:
      - 事件管理
  /api/v1/incidents/{id}:
    delete:
      description: 删除指定的事件
      parameters:
      - description: 事件ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 删除事件
      tags:
      - 事件管理
    get:
      description: 根据ID获取事件详细信息
      parameters:
      - description: 事件ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.IncidentResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 获取事件详情
      tags:
      - 事件管理
    put:
      consumes:
      - application/json
      description: 更新事件信息
      parameters:
      - description: 事件ID
        in: path
        name: id
        required: true
        type: integer
      - description: 更新事件请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateIncidentRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.IncidentResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 更新事件
      tags:
      - 事件管理
  /api/v1/incidents/{id}/alerts:
    get:
      description: 获取事件的告警列表
      parameters:
      - description: 事件ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/dto.IncidentAlertResponse'
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 获取事件告警
      tags:
      - 事件管理
  /api/v1/incidents/{id}/events:
    get:
      description: 获取事件的活动记录列表
      parameters:
      - description: 事件ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/dto.IncidentEventResponse'
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 获取事件活动记录
      tags:
      - 事件管理
  /api/v1/incidents/{id}/impact:
    get:
      description: 分析事件的影响范围和业务影响
      parameters:
      - description: 事件ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  additionalProperties: true
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 分析事件影响
      tags:
      - 事件管理
  /api/v1/incidents/{id}/metrics:
    get:
      description: 获取事件的指标数据
      parameters:
      - description: 事件ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/dto.IncidentMetricResponse'
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 获取事件指标
      tags:
      - 事件管理
  /api/v1/incidents/alerts:
    post:
      consumes:
      - application/json
      description: 为事件创建告警
      parameters:
      - description: 创建事件告警请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CreateIncidentAlertRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.IncidentAlertResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 创建事件告警
      tags:
      - 事件管理
  /api/v1/incidents/alerts/{id}/acknowledge:
    post:
      description: 确认指定告警
      parameters:
      - description: 告警ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 确认告警
      tags:
      - 事件管理
  /api/v1/incidents/alerts/{id}/resolve:
    post:
      description: 解决指定告警
      parameters:
      - description: 告警ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 解决告警
      tags:
      - 事件管理
  /api/v1/incidents/alerts/active:
    get:
      description: 获取当前活跃的告警列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  properties:
                    items:
                      items:
                        $ref: '#/definitions/dto.IncidentAlertResponse'
                      type: array
                    page:
                      type: integer
                    pageSize:
                      type: integer
                    total:
                      type: integer
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 获取活跃告警
      tags:
      - 事件管理
  /api/v1/incidents/alerts/statistics:
    get:
      description: 获取告警统计数据
      parameters:
      - description: 开始时间
        example: "2024-01-01T00:00:00Z"
        in: query
        name: start_time
        required: true
        type: string
      - description: 结束时间
        example: "2024-01-31T23:59:59Z"
        in: query
        name: end_time
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  additionalProperties: true
                  type: object
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 获取告警统计
      tags:
      - 事件管理
  /api/v1/incidents/escalate:
    post:
      consumes:
      - application/json
      description: 将事件升级到指定级别
      parameters:
      - description: 事件升级请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.IncidentEscalationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.IncidentEscalationResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 升级事件
      tags:
      - 事件管理
  /api/v1/incidents/events:
    post:
      consumes:
      - application/json
      description: 为事件创建活动记录
      parameters:
      - description: 创建事件活动记录请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CreateIncidentEventRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.IncidentEventResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 创建事件活动记录
      tags:
      - 事件管理
  /api/v1/incidents/monitoring:
    post:
      consumes:
      - application/json
      description: 获取事件监控统计和趋势数据
      parameters:
      - description: 监控请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.IncidentMonitoringRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.IncidentMonitoringResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 获取事件监控数据
      tags:
      - 事件管理
  /api/v1/incidents/stats:
    get:
      description: 获取事件统计数据
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.IncidentStatsResponse'
              type: object
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 获取事件统计
      tags:
      - 事件管理
  /api/v1/knowledge-articles:
    get:
      consumes:
      - application/json
      description: 分页获取知识库文章列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - description: 分类过滤
        in: query
        name: category
        type: string
      - description: 状态过滤
        in: query
        name: status
        type: string
      - description: 搜索关键词
        in: query
        name: search
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.KnowledgeArticleListResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
      summary: 获取知识库文章列表
      tags:
      - 知识库
    post:
      consumes:
      - application/json
      description: 创建新的知识库文章
      parameters:
      - description: 文章信息
        in: body
        name: article
        required: true
        schema:
          $ref: '#/definitions/dto.CreateKnowledgeArticleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.KnowledgeArticleResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
      summary: 创建知识库文章
      tags:
      - 知识库
  /api/v1/knowledge-articles/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定的知识库文章
      parameters:
      - description: 文章ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
      summary: 删除知识库文章
      tags:
      - 知识库
    get:
      consumes:
      - application/json
      description: 根据ID获取知识库文章详情
      parameters:
      - description: 文章ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.KnowledgeArticleResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
      summary: 获取知识库文章详情
      tags:
      - 知识库
    put:
      consumes:
      - application/json
      description: 更新指定的知识库文章
      parameters:
      - description: 文章ID
        in: path
        name: id
        required: true
        type: integer
      - description: 文章信息
        in: body
        name: article
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateKnowledgeArticleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.KnowledgeArticleResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
      summary: 更新知识库文章
      tags:
      - 知识库
  /api/v1/knowledge-articles/categories:
    get:
      consumes:
      - application/json
      description: 获取当前租户的知识库分类列表
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  items:
                    type: string
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
      summary: 获取知识库分类列表
      tags:
      - 知识库
  /api/v1/service-catalogs:
    get:
      consumes:
      - application/json
      description: 分页获取服务目录列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: size
        type: integer
      - description: 分类过滤
        in: query
        name: category
        type: string
      - description: 状态过滤
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.ServiceCatalogListResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      summary: 获取服务目录列表
      tags:
      - 服务目录
    post:
      consumes:
      - application/json
      description: 创建新的服务目录
      parameters:
      - description: 服务目录信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CreateServiceCatalogRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.ServiceCatalogResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - BearerAuth: []
      summary: 创建服务目录
      tags:
      - 服务目录
  /api/v1/service-catalogs/{id}:
    put:
      consumes:
      - application/json
      description: 更新指定的服务目录
      parameters:
      - description: 服务目录ID
        in: path
        name: id
        required: true
        type: integer
      - description: 服务目录更新信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateServiceCatalogRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.ServiceCatalogResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - BearerAuth: []
      summary: 更新服务目录
      tags:
      - 服务目录
  /api/v1/service-requests:
    post:
      consumes:
      - application/json
      description: 发起新的服务请求
      parameters:
      - description: 服务请求信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CreateServiceRequestRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.ServiceRequestResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - BearerAuth: []
      summary: 创建服务请求
      tags:
      - 服务请求
  /api/v1/service-requests/{id}:
    get:
      consumes:
      - application/json
      description: 根据ID获取服务请求详情
      parameters:
      - description: 服务请求ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.ServiceRequestResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - BearerAuth: []
      summary: 获取服务请求详情
      tags:
      - 服务请求
  /api/v1/service-requests/{id}/status:
    put:
      consumes:
      - application/json
      description: 更新服务请求的状态
      parameters:
      - description: 服务请求ID
        in: path
        name: id
        required: true
        type: integer
      - description: 状态更新信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateServiceRequestStatusRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.ServiceRequestResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - BearerAuth: []
      summary: 更新服务请求状态
      tags:
      - 服务请求
  /api/v1/service-requests/me:
    get:
      consumes:
      - application/json
      description: 查询当前登录用户的服务请求列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: size
        type: integer
      - description: 状态
        enum:
        - pending
        - in_progress
        - completed
        - rejected
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.ServiceRequestListResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/common.Response'
      security:
      - BearerAuth: []
      summary: 获取当前用户的服务请求列表
      tags:
      - 服务请求
  /api/v1/ticket-types:
    get:
      consumes:
      - application/json
      description: 获取工单类型列表，支持分页和筛选
      parameters:
      - description: 状态筛选
        in: query
        name: status
        type: string
      - description: 关键词搜索
        in: query
        name: keyword
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.TicketTypeListResponse'
              type: object
      summary: 获取工单类型列表
      tags:
      - 工单类型
    post:
      consumes:
      - application/json
      description: 创建新的工单类型，包括自定义字段、审批流程等配置
      parameters:
      - description: 创建工单类型请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CreateTicketTypeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.TicketTypeDefinition'
              type: object
      summary: 创建工单类型
      tags:
      - 工单类型
  /api/v1/ticket-types/:id:
    delete:
      consumes:
      - application/json
      description: 删除指定的工单类型
      parameters:
      - description: 工单类型ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  additionalProperties:
                    type: string
                  type: object
              type: object
      summary: 删除工单类型
      tags:
      - 工单类型
    get:
      consumes:
      - application/json
      description: 根据ID获取工单类型的详细信息
      parameters:
      - description: 工单类型ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.TicketTypeDefinition'
              type: object
      summary: 获取工单类型详情
      tags:
      - 工单类型
    put:
      consumes:
      - application/json
      description: 更新工单类型配置
      parameters:
      - description: 工单类型ID
        in: path
        name: id
        required: true
        type: integer
      - description: 更新工单类型请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateTicketTypeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.TicketTypeDefinition'
              type: object
      summary: 更新工单类型
      tags:
      - 工单类型
  /api/v1/tickets/:id/workflow/state:
    get:
      consumes:
      - application/json
      description: 获取工单的当前流转状态和可执行操作
      parameters:
      - description: 工单ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.TicketWorkflowState'
              type: object
      summary: 获取工单流转状态
      tags:
      - 工单流转
  /api/v1/tickets/workflow/accept:
    post:
      consumes:
      - application/json
      description: 接收并开始处理工单
      parameters:
      - description: 接单请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.AcceptTicketRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  additionalProperties:
                    type: string
                  type: object
              type: object
      summary: 接单
      tags:
      - 工单流转
  /api/v1/tickets/workflow/approve:
    post:
      consumes:
      - application/json
      description: 审批工单（通过/拒绝/委派）
      parameters:
      - description: 审批请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.ApproveTicketRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  additionalProperties:
                    type: string
                  type: object
              type: object
      summary: 审批工单
      tags:
      - 工单流转
  /api/v1/tickets/workflow/cc:
    post:
      consumes:
      - application/json
      description: 将工单抄送给其他人
      parameters:
      - description: 抄送请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CCTicketRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  additionalProperties:
                    type: string
                  type: object
              type: object
      summary: 抄送工单
      tags:
      - 工单流转
  /api/v1/tickets/workflow/close:
    post:
      consumes:
      - application/json
      description: 关闭已解决的工单
      parameters:
      - description: 关闭请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.CloseTicketRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  additionalProperties:
                    type: string
                  type: object
              type: object
      summary: 关闭工单
      tags:
      - 工单流转
  /api/v1/tickets/workflow/forward:
    post:
      consumes:
      - application/json
      description: 将工单转发给其他人处理
      parameters:
      - description: 转发请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.ForwardTicketRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  additionalProperties:
                    type: string
                  type: object
              type: object
      summary: 转发工单
      tags:
      - 工单流转
  /api/v1/tickets/workflow/reject:
    post:
      consumes:
      - application/json
      description: 驳回工单并说明原因
      parameters:
      - description: 驳回请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.RejectTicketRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  additionalProperties:
                    type: string
                  type: object
              type: object
      summary: 驳回工单
      tags:
      - 工单流转
  /api/v1/tickets/workflow/reopen:
    post:
      consumes:
      - application/json
      description: 重新打开已关闭的工单
      parameters:
      - description: 重开请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.ReopenTicketRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  additionalProperties:
                    type: string
                  type: object
              type: object
      summary: 重开工单
      tags:
      - 工单流转
  /api/v1/tickets/workflow/resolve:
    post:
      consumes:
      - application/json
      description: 标记工单为已解决
      parameters:
      - description: 解决请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.ResolveTicketRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  additionalProperties:
                    type: string
                  type: object
              type: object
      summary: 解决工单
      tags:
      - 工单流转
  /api/v1/tickets/workflow/withdraw:
    post:
      consumes:
      - application/json
      description: 撤回已提交的工单
      parameters:
      - description: 撤回请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.WithdrawTicketRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  additionalProperties:
                    type: string
                  type: object
              type: object
      summary: 撤回工单
      tags:
      - 工单流转
  /api/v1/users:
    get:
      consumes:
      - application/json
      description: 分页获取用户列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - description: 租户ID
        in: query
        name: tenant_id
        type: integer
      - description: 状态过滤
        enum:
        - active
        - inactive
        in: query
        name: status
        type: string
      - description: 部门过滤
        in: query
        name: department
        type: string
      - description: 搜索关键词
        in: query
        name: search
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.PagedUsersResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
      summary: 获取用户列表
      tags:
      - 用户管理
    post:
      consumes:
      - application/json
      description: 创建新用户
      parameters:
      - description: 用户信息
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/dto.CreateUserRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.UserResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
      summary: 创建用户
      tags:
      - 用户管理
  /api/v1/users/{id}:
    delete:
      consumes:
      - application/json
      description: 删除用户（软删除）
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/common.Response'
      summary: 删除用户
      tags:
      - 用户管理
    get:
      consumes:
      - application/json
      description: 根据ID获取用户详情
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.UserResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/common.Response'
      summary: 获取用户详情
      tags:
      - 用户管理
    put:
      consumes:
      - application/json
      description: 更新用户信息
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      - description: 用户信息
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateUserRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.UserResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/common.Response'
      summary: 更新用户信息
      tags:
      - 用户管理
  /api/v1/users/{id}/reset-password:
    put:
      consumes:
      - application/json
      description: 管理员重置用户密码
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      - description: 新密码
        in: body
        name: password
        required: true
        schema:
          $ref: '#/definitions/dto.ResetPasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/common.Response'
      summary: 重置用户密码
      tags:
      - 用户管理
  /api/v1/users/{id}/status:
    put:
      consumes:
      - application/json
      description: 激活或禁用用户
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: integer
      - description: 状态信息
        in: body
        name: status
        required: true
        schema:
          $ref: '#/definitions/dto.ChangeUserStatusRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/common.Response'
      summary: 更改用户状态
      tags:
      - 用户管理
  /api/v1/users/batch:
    put:
      consumes:
      - application/json
      description: 批量更新用户状态或部门
      parameters:
      - description: 批量更新请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.BatchUpdateUsersRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/common.Response'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
      summary: 批量更新用户
      tags:
      - 用户管理
  /api/v1/users/search:
    get:
      consumes:
      - application/json
      description: 搜索用户
      parameters:
      - description: 搜索关键词
        in: query
        name: keyword
        required: true
        type: string
      - description: 租户ID
        in: query
        name: tenant_id
        type: integer
      - default: 10
        description: 限制数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/dto.UserResponse'
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
      summary: 搜索用户
      tags:
      - 用户管理
  /api/v1/users/stats:
    get:
      consumes:
      - application/json
      description: 获取用户统计信息
      parameters:
      - description: 租户ID
        in: query
        name: tenant_id
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/common.Response'
            - properties:
                data:
                  $ref: '#/definitions/dto.UserStatsResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/common.Response'
      summary: 获取用户统计
      tags:
      - 用户管理
swagger: "2.0"
