database:
  host: localhost
  port: 5432
  user: dev
  password: "${DB_PASSWORD:123456!@#$%^}"  # Use env: DB_PASSWORD, default for dev
  dbname: itsm
  sslmode: disable

# pgvector configuration (optional, for RAG/AI features)
# Install extension: CREATE EXTENSION IF NOT EXISTS vector;
# vectors table is auto-created if not exists
vector:
  enabled: false  # Set to true when pgvector is installed
  dimension: 1536  # OpenAI text-embedding-3-small dimension

server:
  port: 8090
  mode: "${SERVER_MODE:release}"  # Use env: SERVER_MODE, default release

jwt:
  secret: "${JWT_SECRET:your-secret-key-change-in-production}"  # Use env: JWT_SECRET
  expire_time: 900        # 15分钟 (access token)
  refresh_expire_time: 604800  # 7天 (refresh token)

log:
  level: "${LOG_LEVEL:info}"  # Use env: LOG_LEVEL, default info
  path: ./logs/app.log

llm:
  provider: openai        # openai, azure, local
  model: gpt-4o-mini
  api_key: "${OPENAI_API_KEY:}"             # Use env: OPENAI_API_KEY
  endpoint: ""            # For Azure: https://{resource}.openai.azure.com/
  deployment: ""          # Azure deployment ID
  token_cap: 8000         # Rate limit

# Embedding configuration for RAG
embedding:
  provider: openai        # openai, local
  model: text-embedding-3-small
  api_key: "${OPENAI_API_KEY:}"             # Use env: OPENAI_API_KEY
  endpoint: ""            # Custom embedding endpoint

# SMS Configuration (阿里云/腾讯云)
sms:
  provider: ""  # "aliyun" or "tencent", empty means disabled
  aliyun:
    access_key_id: "${ALIYUN_ACCESS_KEY_ID:}"
    access_key_secret: "${ALIYUN_ACCESS_KEY_SECRET:}"
    sign_name: "${ALIYUN_SMS_SIGN_NAME:ITSM}"
    endpoint: "dysmsapi.aliyuncs.com"
  tencent:
    secret_id: "${TENCENT_SECRET_ID:}"
    secret_key: "${TENCENT_SECRET_KEY:}"
    app_id: "${TENCENT_SMS_APP_ID:}"
    sign_name: "${TENCENT_SMS_SIGN_NAME:ITSM}"
    endpoint: "sms.tencentcloudapi.com"
