// Code generated by ent, DO NOT EDIT.

package migrate

import (
	"entgo.io/ent/dialect/sql/schema"
	"entgo.io/ent/schema/field"
)

var (
	// ApprovalLogsColumns holds the columns for the "approval_logs" table.
	ApprovalLogsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeInt, Increment: true},
		{Name: "comment", Type: field.TypeString, Nullable: true, Size: 2147483647},
		{Name: "status", Type: field.TypeEnum, Enums: []string{"pending", "approved", "rejected", "skipped"}, Default: "pending"},
		{Name: "step_order", Type: field.TypeInt},
		{Name: "step_name", Type: field.TypeString, Nullable: true, Size: 100},
		{Name: "metadata", Type: field.TypeJSON, Nullable: true},
		{Name: "approved_at", Type: field.TypeTime, Nullable: true},
		{Name: "created_at", Type: field.TypeTime},
		{Name: "ticket_id", Type: field.TypeInt},
		{Name: "approver_id", Type: field.TypeInt},
	}
	// ApprovalLogsTable holds the schema information for the "approval_logs" table.
	ApprovalLogsTable = &schema.Table{
		Name:       "approval_logs",
		Columns:    ApprovalLogsColumns,
		PrimaryKey: []*schema.Column{ApprovalLogsColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "approval_logs_tickets_approval_logs",
				Columns:    []*schema.Column{ApprovalLogsColumns[8]},
				RefColumns: []*schema.Column{TicketsColumns[0]},
				OnDelete:   schema.NoAction,
			},
			{
				Symbol:     "approval_logs_users_approval_logs",
				Columns:    []*schema.Column{ApprovalLogsColumns[9]},
				RefColumns: []*schema.Column{UsersColumns[0]},
				OnDelete:   schema.NoAction,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "approvallog_ticket_id",
				Unique:  false,
				Columns: []*schema.Column{ApprovalLogsColumns[8]},
			},
			{
				Name:    "approvallog_approver_id",
				Unique:  false,
				Columns: []*schema.Column{ApprovalLogsColumns[9]},
			},
			{
				Name:    "approvallog_status",
				Unique:  false,
				Columns: []*schema.Column{ApprovalLogsColumns[2]},
			},
			{
				Name:    "approvallog_step_order",
				Unique:  false,
				Columns: []*schema.Column{ApprovalLogsColumns[3]},
			},
			{
				Name:    "approvallog_ticket_id_step_order",
				Unique:  false,
				Columns: []*schema.Column{ApprovalLogsColumns[8], ApprovalLogsColumns[3]},
			},
			{
				Name:    "approvallog_approver_id_status",
				Unique:  false,
				Columns: []*schema.Column{ApprovalLogsColumns[9], ApprovalLogsColumns[2]},
			},
		},
	}
	// FlowInstancesColumns holds the columns for the "flow_instances" table.
	FlowInstancesColumns = []*schema.Column{
		{Name: "id", Type: field.TypeInt, Increment: true},
		{Name: "flow_definition_id", Type: field.TypeString, Size: 100},
		{Name: "flow_name", Type: field.TypeString, Size: 200},
		{Name: "flow_version", Type: field.TypeString, Nullable: true, Size: 20, Default: "1.0"},
		{Name: "status", Type: field.TypeEnum, Enums: []string{"active", "completed", "terminated", "suspended"}, Default: "active"},
		{Name: "current_step", Type: field.TypeInt, Default: 1},
		{Name: "total_steps", Type: field.TypeInt},
		{Name: "step_config", Type: field.TypeJSON, Nullable: true},
		{Name: "variables", Type: field.TypeJSON, Nullable: true},
		{Name: "execution_history", Type: field.TypeJSON, Nullable: true},
		{Name: "started_at", Type: field.TypeTime},
		{Name: "completed_at", Type: field.TypeTime, Nullable: true},
		{Name: "updated_at", Type: field.TypeTime},
		{Name: "ticket_id", Type: field.TypeInt, Unique: true},
	}
	// FlowInstancesTable holds the schema information for the "flow_instances" table.
	FlowInstancesTable = &schema.Table{
		Name:       "flow_instances",
		Columns:    FlowInstancesColumns,
		PrimaryKey: []*schema.Column{FlowInstancesColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "flow_instances_tickets_flow_instance",
				Columns:    []*schema.Column{FlowInstancesColumns[13]},
				RefColumns: []*schema.Column{TicketsColumns[0]},
				OnDelete:   schema.NoAction,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "flowinstance_ticket_id",
				Unique:  false,
				Columns: []*schema.Column{FlowInstancesColumns[13]},
			},
			{
				Name:    "flowinstance_status",
				Unique:  false,
				Columns: []*schema.Column{FlowInstancesColumns[4]},
			},
			{
				Name:    "flowinstance_flow_definition_id",
				Unique:  false,
				Columns: []*schema.Column{FlowInstancesColumns[1]},
			},
			{
				Name:    "flowinstance_current_step",
				Unique:  false,
				Columns: []*schema.Column{FlowInstancesColumns[5]},
			},
			{
				Name:    "flowinstance_flow_definition_id_status",
				Unique:  false,
				Columns: []*schema.Column{FlowInstancesColumns[1], FlowInstancesColumns[4]},
			},
		},
	}
	// TicketsColumns holds the columns for the "tickets" table.
	TicketsColumns = []*schema.Column{
		{Name: "id", Type: field.TypeInt, Increment: true},
		{Name: "title", Type: field.TypeString, Size: 255},
		{Name: "description", Type: field.TypeString, Nullable: true, Size: 2147483647},
		{Name: "status", Type: field.TypeEnum, Enums: []string{"draft", "submitted", "in_progress", "pending", "approved", "rejected", "closed", "cancelled"}, Default: "draft"},
		{Name: "priority", Type: field.TypeEnum, Enums: []string{"low", "medium", "high", "critical"}, Default: "medium"},
		{Name: "form_fields", Type: field.TypeJSON, Nullable: true},
		{Name: "ticket_number", Type: field.TypeString, Unique: true, Size: 50},
		{Name: "created_at", Type: field.TypeTime},
		{Name: "updated_at", Type: field.TypeTime},
		{Name: "requester_id", Type: field.TypeInt},
		{Name: "assignee_id", Type: field.TypeInt, Nullable: true},
	}
	// TicketsTable holds the schema information for the "tickets" table.
	TicketsTable = &schema.Table{
		Name:       "tickets",
		Columns:    TicketsColumns,
		PrimaryKey: []*schema.Column{TicketsColumns[0]},
		ForeignKeys: []*schema.ForeignKey{
			{
				Symbol:     "tickets_users_submitted_tickets",
				Columns:    []*schema.Column{TicketsColumns[9]},
				RefColumns: []*schema.Column{UsersColumns[0]},
				OnDelete:   schema.NoAction,
			},
			{
				Symbol:     "tickets_users_assigned_tickets",
				Columns:    []*schema.Column{TicketsColumns[10]},
				RefColumns: []*schema.Column{UsersColumns[0]},
				OnDelete:   schema.SetNull,
			},
		},
		Indexes: []*schema.Index{
			{
				Name:    "ticket_status",
				Unique:  false,
				Columns: []*schema.Column{TicketsColumns[3]},
			},
			{
				Name:    "ticket_priority",
				Unique:  false,
				Columns: []*schema.Column{TicketsColumns[4]},
			},
			{
				Name:    "ticket_requester_id",
				Unique:  false,
				Columns: []*schema.Column{TicketsColumns[9]},
			},
			{
				Name:    "ticket_assignee_id",
				Unique:  false,
				Columns: []*schema.Column{TicketsColumns[10]},
			},
			{
				Name:    "ticket_created_at",
				Unique:  false,
				Columns: []*schema.Column{TicketsColumns[7]},
			},
			{
				Name:    "ticket_ticket_number",
				Unique:  false,
				Columns: []*schema.Column{TicketsColumns[6]},
			},
			{
				Name:    "ticket_status_priority",
				Unique:  false,
				Columns: []*schema.Column{TicketsColumns[3], TicketsColumns[4]},
			},
			{
				Name:    "ticket_requester_id_status",
				Unique:  false,
				Columns: []*schema.Column{TicketsColumns[9], TicketsColumns[3]},
			},
		},
	}
	// UsersColumns holds the columns for the "users" table.
	UsersColumns = []*schema.Column{
		{Name: "id", Type: field.TypeInt, Increment: true},
		{Name: "username", Type: field.TypeString, Unique: true, Size: 50},
		{Name: "email", Type: field.TypeString, Unique: true, Size: 100},
		{Name: "name", Type: field.TypeString, Size: 100},
		{Name: "department", Type: field.TypeString, Nullable: true, Size: 100},
		{Name: "phone", Type: field.TypeString, Nullable: true, Size: 20},
		{Name: "password_hash", Type: field.TypeString},
		{Name: "active", Type: field.TypeBool, Default: true},
		{Name: "created_at", Type: field.TypeTime},
		{Name: "updated_at", Type: field.TypeTime},
	}
	// UsersTable holds the schema information for the "users" table.
	UsersTable = &schema.Table{
		Name:       "users",
		Columns:    UsersColumns,
		PrimaryKey: []*schema.Column{UsersColumns[0]},
		Indexes: []*schema.Index{
			{
				Name:    "user_email",
				Unique:  false,
				Columns: []*schema.Column{UsersColumns[2]},
			},
			{
				Name:    "user_username",
				Unique:  false,
				Columns: []*schema.Column{UsersColumns[1]},
			},
			{
				Name:    "user_department",
				Unique:  false,
				Columns: []*schema.Column{UsersColumns[4]},
			},
		},
	}
	// Tables holds all the tables in the schema.
	Tables = []*schema.Table{
		ApprovalLogsTable,
		FlowInstancesTable,
		TicketsTable,
		UsersTable,
	}
)

func init() {
	ApprovalLogsTable.ForeignKeys[0].RefTable = TicketsTable
	ApprovalLogsTable.ForeignKeys[1].RefTable = UsersTable
	FlowInstancesTable.ForeignKeys[0].RefTable = TicketsTable
	TicketsTable.ForeignKeys[0].RefTable = UsersTable
	TicketsTable.ForeignKeys[1].RefTable = UsersTable
}
