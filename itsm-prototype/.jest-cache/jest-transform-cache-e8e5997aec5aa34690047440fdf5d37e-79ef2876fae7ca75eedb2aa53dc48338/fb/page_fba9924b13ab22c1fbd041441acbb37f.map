{"version":3,"names":["_default","CreateChangePage","cov_2px6rwjyh1","f","router","s","_navigation","useRouter","handleSubmit","e","preventDefault","formData","FormData","currentTarget","data","Object","fromEntries","entries","console","log","JSON","stringify","alert","push","_jsxruntime","jsxs","className","onClick","back","jsx","_lucidereact","ArrowLeft","onSubmit","_FormInput","FormInput","label","id","name","type","required","placeholder","_FormTextarea","FormTextarea","rows","htmlFor","defaultValue"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/app/(main)/changes/new/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { ArrowLeft } from 'lucide-react';\nimport { FormInput } from '@/components/forms/FormInput';\nimport { FormTextarea } from '@/components/forms/FormTextarea';\n\nconst CreateChangePage = () => {\n  const router = useRouter();\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    const formData = new FormData(e.currentTarget);\n    const data = Object.fromEntries(formData.entries());\n    console.log('新建变更数据:', JSON.stringify(data, null, 2));\n    alert('变更请求已成功提交！');\n    router.push('/changes'); // 提交后返回变更列表\n  };\n\n  return (\n    <div className='p-10 bg-gray-50 min-h-full'>\n      <header className='mb-8'>\n        <button\n          onClick={() => router.back()}\n          className='flex items-center text-blue-600 hover:underline mb-4'\n        >\n          <ArrowLeft className='w-5 h-5 mr-2' />\n          返回变更列表\n        </button>\n        <h2 className='text-4xl font-bold text-gray-800'>新建变更请求</h2>\n        <p className='text-gray-500 mt-1'>提交新的IT基础设施或服务变更请求</p>\n      </header>\n\n      <div className='bg-white p-8 rounded-lg shadow-md'>\n        <form onSubmit={handleSubmit}>\n          <div className='space-y-6'>\n            <FormInput\n              label='变更标题'\n              id='title'\n              name='title'\n              type='text'\n              required\n              placeholder='简要描述变更内容'\n            />\n            <FormTextarea\n              label='详细描述'\n              id='description'\n              name='description'\n              rows={4}\n              required\n              placeholder='请详细说明变更的目的、范围和内容...'\n            />\n            <FormTextarea\n              label='变更理由'\n              id='justification'\n              name='justification'\n              rows={3}\n              required\n              placeholder='为什么需要进行此变更？（例如：解决问题PRB-XXXXX，满足新业务需求等）'\n            />\n            <div>\n              <label htmlFor='type' className='block text-sm font-medium text-gray-700'>\n                变更类型\n              </label>\n              <select\n                id='type'\n                name='type'\n                className='mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500'\n                defaultValue='普通变更'\n              >\n                <option>普通变更</option>\n                <option>标准变更</option>\n                <option>紧急变更</option>\n              </select>\n            </div>\n            <div>\n              <label htmlFor='priority' className='block text-sm font-medium text-gray-700'>\n                优先级\n              </label>\n              <select\n                id='priority'\n                name='priority'\n                className='mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500'\n                defaultValue='中'\n              >\n                <option>紧急</option>\n                <option>高</option>\n                <option>中</option>\n                <option>低</option>\n              </select>\n            </div>\n            <div className='grid grid-cols-1 md:grid-cols-2 gap-6'>\n              <FormInput\n                label='计划开始时间'\n                id='plannedStartDate'\n                name='plannedStartDate'\n                type='datetime-local'\n              />\n              <FormInput\n                label='计划结束时间'\n                id='plannedEndDate'\n                name='plannedEndDate'\n                type='datetime-local'\n              />\n            </div>\n            <div>\n              <label htmlFor='impactScope' className='block text-sm font-medium text-gray-700'>\n                影响范围\n              </label>\n              <select\n                id='impactScope'\n                name='impactScope'\n                className='mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500'\n                defaultValue='中'\n              >\n                <option>高 (影响核心业务)</option>\n                <option>中 (影响部分业务或用户)</option>\n                <option>低 (影响较小或无影响)</option>\n              </select>\n            </div>\n            <div>\n              <label htmlFor='riskLevel' className='block text-sm font-medium text-gray-700'>\n                风险等级\n              </label>\n              <select\n                id='riskLevel'\n                name='riskLevel'\n                className='mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500'\n                defaultValue='中'\n              >\n                <option>高</option>\n                <option>中</option>\n                <option>低</option>\n              </select>\n            </div>\n            <FormInput\n              label='受影响的配置项 (CI ID, 多个用逗号分隔)'\n              id='affectedCIs'\n              name='affectedCIs'\n              type='text'\n              placeholder='例如：CI-ECS-001, CI-APP-CRM'\n            />\n            <FormTextarea\n              label='实施计划'\n              id='implementationPlan'\n              name='implementationPlan'\n              rows={5}\n              required\n              placeholder='详细描述变更的实施步骤...'\n            />\n            <FormTextarea\n              label='回滚计划'\n              id='rollbackPlan'\n              name='rollbackPlan'\n              rows={5}\n              required\n              placeholder='详细描述如果变更失败如何回滚...'\n            />\n          </div>\n          <div className='mt-8 flex justify-end'>\n            <button\n              type='button'\n              onClick={() => router.back()}\n              className='bg-gray-200 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 mr-4'\n            >\n              取消\n            </button>\n            <button\n              type='submit'\n              className='bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700'\n            >\n              提交变更请求\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default CreateChangePage;\n"],"mappings":"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","ignoreList":[]}