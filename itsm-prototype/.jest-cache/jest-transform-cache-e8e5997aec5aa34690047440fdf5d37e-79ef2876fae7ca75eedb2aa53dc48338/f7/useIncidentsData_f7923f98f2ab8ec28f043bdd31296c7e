ff9f422e608f11c7b60fbea5d738b65d
'use client';
"use strict";

/* istanbul ignore next */
function cov_160hhzpdcy() {
  var path = "/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/app/(main)/incidents/hooks/useIncidentsData.ts";
  var hash = "566a29b1d29ec69a4bee702fd3bd7d6d8310e642";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/app/(main)/incidents/hooks/useIncidentsData.ts",
    statementMap: {
      "0": {
        start: {
          line: 3,
          column: 0
        },
        end: {
          line: 5,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 0
        },
        end: {
          line: 11,
          column: 3
        }
      },
      "2": {
        start: {
          line: 9,
          column: 8
        },
        end: {
          line: 9,
          column: 32
        }
      },
      "3": {
        start: {
          line: 12,
          column: 15
        },
        end: {
          line: 12,
          column: 31
        }
      },
      "4": {
        start: {
          line: 13,
          column: 21
        },
        end: {
          line: 13,
          column: 64
        }
      },
      "5": {
        start: {
          line: 14,
          column: 14
        },
        end: {
          line: 14,
          column: 29
        }
      },
      "6": {
        start: {
          line: 15,
          column: 14
        },
        end: {
          line: 15,
          column: 45
        }
      },
      "7": {
        start: {
          line: 16,
          column: 25
        },
        end: {
          line: 105,
          column: 1
        }
      },
      "8": {
        start: {
          line: 17,
          column: 18
        },
        end: {
          line: 17,
          column: 38
        }
      },
      "9": {
        start: {
          line: 18,
          column: 38
        },
        end: {
          line: 18,
          column: 62
        }
      },
      "10": {
        start: {
          line: 19,
          column: 34
        },
        end: {
          line: 19,
          column: 61
        }
      },
      "11": {
        start: {
          line: 20,
          column: 30
        },
        end: {
          line: 20,
          column: 53
        }
      },
      "12": {
        start: {
          line: 21,
          column: 42
        },
        end: {
          line: 21,
          column: 65
        }
      },
      "13": {
        start: {
          line: 22,
          column: 36
        },
        end: {
          line: 22,
          column: 60
        }
      },
      "14": {
        start: {
          line: 23,
          column: 34
        },
        end: {
          line: 28,
          column: 6
        }
      },
      "15": {
        start: {
          line: 29,
          column: 34
        },
        end: {
          line: 34,
          column: 6
        }
      },
      "16": {
        start: {
          line: 35,
          column: 4
        },
        end: {
          line: 42,
          column: 7
        }
      },
      "17": {
        start: {
          line: 36,
          column: 8
        },
        end: {
          line: 36,
          column: 24
        }
      },
      "18": {
        start: {
          line: 37,
          column: 8
        },
        end: {
          line: 37,
          column: 22
        }
      },
      "19": {
        start: {
          line: 43,
          column: 26
        },
        end: {
          line: 62,
          column: 5
        }
      },
      "20": {
        start: {
          line: 44,
          column: 8
        },
        end: {
          line: 44,
          column: 25
        }
      },
      "21": {
        start: {
          line: 45,
          column: 8
        },
        end: {
          line: 61,
          column: 9
        }
      },
      "22": {
        start: {
          line: 46,
          column: 29
        },
        end: {
          line: 53,
          column: 14
        }
      },
      "23": {
        start: {
          line: 54,
          column: 12
        },
        end: {
          line: 54,
          column: 45
        }
      },
      "24": {
        start: {
          line: 55,
          column: 12
        },
        end: {
          line: 55,
          column: 37
        }
      },
      "25": {
        start: {
          line: 57,
          column: 12
        },
        end: {
          line: 57,
          column: 62
        }
      },
      "26": {
        start: {
          line: 58,
          column: 12
        },
        end: {
          line: 58,
          column: 62
        }
      },
      "27": {
        start: {
          line: 60,
          column: 12
        },
        end: {
          line: 60,
          column: 30
        }
      },
      "28": {
        start: {
          line: 63,
          column: 24
        },
        end: {
          line: 76,
          column: 5
        }
      },
      "29": {
        start: {
          line: 64,
          column: 8
        },
        end: {
          line: 75,
          column: 9
        }
      },
      "30": {
        start: {
          line: 65,
          column: 29
        },
        end: {
          line: 65,
          column: 80
        }
      },
      "31": {
        start: {
          line: 66,
          column: 12
        },
        end: {
          line: 66,
          column: 33
        }
      },
      "32": {
        start: {
          line: 68,
          column: 12
        },
        end: {
          line: 68,
          column: 60
        }
      },
      "33": {
        start: {
          line: 69,
          column: 12
        },
        end: {
          line: 74,
          column: 15
        }
      },
      "34": {
        start: {
          line: 77,
          column: 25
        },
        end: {
          line: 83,
          column: 5
        }
      },
      "35": {
        start: {
          line: 78,
          column: 8
        },
        end: {
          line: 81,
          column: 11
        }
      },
      "36": {
        start: {
          line: 82,
          column: 8
        },
        end: {
          line: 82,
          column: 26
        }
      },
      "37": {
        start: {
          line: 84,
          column: 31
        },
        end: {
          line: 90,
          column: 5
        }
      },
      "38": {
        start: {
          line: 85,
          column: 8
        },
        end: {
          line: 88,
          column: 11
        }
      },
      "39": {
        start: {
          line: 89,
          column: 8
        },
        end: {
          line: 89,
          column: 26
        }
      },
      "40": {
        start: {
          line: 91,
          column: 4
        },
        end: {
          line: 104,
          column: 6
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 8,
            column: 9
          },
          end: {
            line: 8,
            column: 10
          }
        },
        loc: {
          start: {
            line: 8,
            column: 20
          },
          end: {
            line: 10,
            column: 5
          }
        },
        line: 8
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 16,
            column: 25
          },
          end: {
            line: 16,
            column: 26
          }
        },
        loc: {
          start: {
            line: 16,
            column: 29
          },
          end: {
            line: 105,
            column: 1
          }
        },
        line: 16
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 35,
            column: 26
          },
          end: {
            line: 35,
            column: 27
          }
        },
        loc: {
          start: {
            line: 35,
            column: 30
          },
          end: {
            line: 38,
            column: 5
          }
        },
        line: 35
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 43,
            column: 26
          },
          end: {
            line: 43,
            column: 27
          }
        },
        loc: {
          start: {
            line: 43,
            column: 36
          },
          end: {
            line: 62,
            column: 5
          }
        },
        line: 43
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 63,
            column: 24
          },
          end: {
            line: 63,
            column: 25
          }
        },
        loc: {
          start: {
            line: 63,
            column: 34
          },
          end: {
            line: 76,
            column: 5
          }
        },
        line: 63
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 77,
            column: 25
          },
          end: {
            line: 77,
            column: 26
          }
        },
        loc: {
          start: {
            line: 77,
            column: 34
          },
          end: {
            line: 83,
            column: 5
          }
        },
        line: 77
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 84,
            column: 31
          },
          end: {
            line: 84,
            column: 32
          }
        },
        loc: {
          start: {
            line: 84,
            column: 45
          },
          end: {
            line: 90,
            column: 5
          }
        },
        line: 84
      }
    },
    branchMap: {},
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0
    },
    b: {},
    inputSourceMap: {
      version: 3,
      sources: ["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/app/(main)/incidents/hooks/useIncidentsData.ts"],
      sourcesContent: ["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { IncidentAPI, Incident } from '@/lib/api/incident-api';\nimport { message } from 'antd';\nimport { useI18n } from '@/lib/i18n';\n\nexport const useIncidentsData = () => {\n  const { t } = useI18n();\n  const [incidents, setIncidents] = useState<Incident[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [total, setTotal] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pageSize, setPageSize] = useState(10);\n  const [filters, setFilters] = useState({\n    status: '',\n    priority: '',\n    source: '',\n    keyword: '',\n  });\n  const [metrics, setMetrics] = useState({\n    total_incidents: 0,\n    critical_incidents: 0,\n    major_incidents: 0,\n    avg_resolution_time: 0,\n  });\n\n  useEffect(() => {\n    loadIncidents();\n    loadMetrics();\n  }, [currentPage, pageSize, filters]);\n\n  const loadIncidents = async () => {\n    setLoading(true);\n    try {\n      const response = await IncidentAPI.listIncidents({\n        page: currentPage,\n        page_size: pageSize,\n        status: filters.status,\n        priority: filters.priority,\n        source: filters.source,\n        keyword: filters.keyword,\n      });\n      setIncidents(response.incidents);\n      setTotal(response.total);\n    } catch (error) {\n      console.error('Failed to load incidents:', error);\n      message.error(t('incidents.loadDataError'));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadMetrics = async () => {\n    try {\n      const response = await IncidentAPI.getIncidentMetrics();\n      setMetrics(response);\n    } catch (error) {\n      console.error('Failed to load metrics:', error);\n      setMetrics({\n        total_incidents: 0,\n        critical_incidents: 0,\n        major_incidents: 0,\n        avg_resolution_time: 0,\n      });\n    }\n  };\n\n  const handleSearch = (value: string) => {\n    setFilters({ ...filters, keyword: value });\n    setCurrentPage(1);\n  };\n\n  const handleFilterChange = (key: string, value: string) => {\n    setFilters({ ...filters, [key]: value });\n    setCurrentPage(1);\n  };\n\n  return {\n    incidents,\n    loading,\n    total,\n    currentPage,\n    pageSize,\n    filters,\n    metrics,\n    setCurrentPage,\n    setPageSize,\n    handleSearch,\n    handleFilterChange,\n    loadIncidents,\n  };\n};\n"],
      names: ["useIncidentsData", "t", "useI18n", "incidents", "setIncidents", "useState", "loading", "setLoading", "total", "setTotal", "currentPage", "setCurrentPage", "pageSize", "setPageSize", "filters", "setFilters", "status", "priority", "source", "keyword", "metrics", "setMetrics", "total_incidents", "critical_incidents", "major_incidents", "avg_resolution_time", "useEffect", "loadIncidents", "loadMetrics", "response", "IncidentAPI", "listIncidents", "page", "page_size", "error", "console", "message", "getIncidentMetrics", "handleSearch", "value", "handleFilterChange", "key"],
      mappings: "AAAA;;;;;+BAOaA;;;eAAAA;;;uBALuB;6BACE;sBACd;sBACA;AAEjB,MAAMA,mBAAmB;IAC9B,MAAM,EAAEC,CAAC,EAAE,GAAGC,IAAAA,aAAO;IACrB,MAAM,CAACC,WAAWC,aAAa,GAAGC,IAAAA,eAAQ,EAAa,EAAE;IACzD,MAAM,CAACC,SAASC,WAAW,GAAGF,IAAAA,eAAQ,EAAC;IACvC,MAAM,CAACG,OAAOC,SAAS,GAAGJ,IAAAA,eAAQ,EAAC;IACnC,MAAM,CAACK,aAAaC,eAAe,GAAGN,IAAAA,eAAQ,EAAC;IAC/C,MAAM,CAACO,UAAUC,YAAY,GAAGR,IAAAA,eAAQ,EAAC;IACzC,MAAM,CAACS,SAASC,WAAW,GAAGV,IAAAA,eAAQ,EAAC;QACrCW,QAAQ;QACRC,UAAU;QACVC,QAAQ;QACRC,SAAS;IACX;IACA,MAAM,CAACC,SAASC,WAAW,GAAGhB,IAAAA,eAAQ,EAAC;QACrCiB,iBAAiB;QACjBC,oBAAoB;QACpBC,iBAAiB;QACjBC,qBAAqB;IACvB;IAEAC,IAAAA,gBAAS,EAAC;QACRC;QACAC;IACF,GAAG;QAAClB;QAAaE;QAAUE;KAAQ;IAEnC,MAAMa,gBAAgB;QACpBpB,WAAW;QACX,IAAI;YACF,MAAMsB,WAAW,MAAMC,wBAAW,CAACC,aAAa,CAAC;gBAC/CC,MAAMtB;gBACNuB,WAAWrB;gBACXI,QAAQF,QAAQE,MAAM;gBACtBC,UAAUH,QAAQG,QAAQ;gBAC1BC,QAAQJ,QAAQI,MAAM;gBACtBC,SAASL,QAAQK,OAAO;YAC1B;YACAf,aAAayB,SAAS1B,SAAS;YAC/BM,SAASoB,SAASrB,KAAK;QACzB,EAAE,OAAO0B,OAAO;YACdC,QAAQD,KAAK,CAAC,6BAA6BA;YAC3CE,aAAO,CAACF,KAAK,CAACjC,EAAE;QAClB,SAAU;YACRM,WAAW;QACb;IACF;IAEA,MAAMqB,cAAc;QAClB,IAAI;YACF,MAAMC,WAAW,MAAMC,wBAAW,CAACO,kBAAkB;YACrDhB,WAAWQ;QACb,EAAE,OAAOK,OAAO;YACdC,QAAQD,KAAK,CAAC,2BAA2BA;YACzCb,WAAW;gBACTC,iBAAiB;gBACjBC,oBAAoB;gBACpBC,iBAAiB;gBACjBC,qBAAqB;YACvB;QACF;IACF;IAEA,MAAMa,eAAe,CAACC;QACpBxB,WAAW;YAAE,GAAGD,OAAO;YAAEK,SAASoB;QAAM;QACxC5B,eAAe;IACjB;IAEA,MAAM6B,qBAAqB,CAACC,KAAaF;QACvCxB,WAAW;YAAE,GAAGD,OAAO;YAAE,CAAC2B,IAAI,EAAEF;QAAM;QACtC5B,eAAe;IACjB;IAEA,OAAO;QACLR;QACAG;QACAE;QACAE;QACAE;QACAE;QACAM;QACAT;QACAE;QACAyB;QACAE;QACAb;IACF;AACF"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "566a29b1d29ec69a4bee702fd3bd7d6d8310e642"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_160hhzpdcy = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_160hhzpdcy();
cov_160hhzpdcy().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_160hhzpdcy().s[1]++;
Object.defineProperty(exports, "useIncidentsData", {
  enumerable: true,
  get: function () {
    /* istanbul ignore next */
    cov_160hhzpdcy().f[0]++;
    cov_160hhzpdcy().s[2]++;
    return useIncidentsData;
  }
});
const _react =
/* istanbul ignore next */
(cov_160hhzpdcy().s[3]++, require("react"));
const _incidentapi =
/* istanbul ignore next */
(cov_160hhzpdcy().s[4]++, require("../../../../lib/api/incident-api"));
const _antd =
/* istanbul ignore next */
(cov_160hhzpdcy().s[5]++, require("antd"));
const _i18n =
/* istanbul ignore next */
(cov_160hhzpdcy().s[6]++, require("../../../../lib/i18n"));
/* istanbul ignore next */
cov_160hhzpdcy().s[7]++;
const useIncidentsData = () => {
  /* istanbul ignore next */
  cov_160hhzpdcy().f[1]++;
  const {
    t
  } =
  /* istanbul ignore next */
  (cov_160hhzpdcy().s[8]++, (0, _i18n.useI18n)());
  const [incidents, setIncidents] =
  /* istanbul ignore next */
  (cov_160hhzpdcy().s[9]++, (0, _react.useState)([]));
  const [loading, setLoading] =
  /* istanbul ignore next */
  (cov_160hhzpdcy().s[10]++, (0, _react.useState)(false));
  const [total, setTotal] =
  /* istanbul ignore next */
  (cov_160hhzpdcy().s[11]++, (0, _react.useState)(0));
  const [currentPage, setCurrentPage] =
  /* istanbul ignore next */
  (cov_160hhzpdcy().s[12]++, (0, _react.useState)(1));
  const [pageSize, setPageSize] =
  /* istanbul ignore next */
  (cov_160hhzpdcy().s[13]++, (0, _react.useState)(10));
  const [filters, setFilters] =
  /* istanbul ignore next */
  (cov_160hhzpdcy().s[14]++, (0, _react.useState)({
    status: '',
    priority: '',
    source: '',
    keyword: ''
  }));
  const [metrics, setMetrics] =
  /* istanbul ignore next */
  (cov_160hhzpdcy().s[15]++, (0, _react.useState)({
    total_incidents: 0,
    critical_incidents: 0,
    major_incidents: 0,
    avg_resolution_time: 0
  }));
  /* istanbul ignore next */
  cov_160hhzpdcy().s[16]++;
  (0, _react.useEffect)(() => {
    /* istanbul ignore next */
    cov_160hhzpdcy().f[2]++;
    cov_160hhzpdcy().s[17]++;
    loadIncidents();
    /* istanbul ignore next */
    cov_160hhzpdcy().s[18]++;
    loadMetrics();
  }, [currentPage, pageSize, filters]);
  /* istanbul ignore next */
  cov_160hhzpdcy().s[19]++;
  const loadIncidents = async () => {
    /* istanbul ignore next */
    cov_160hhzpdcy().f[3]++;
    cov_160hhzpdcy().s[20]++;
    setLoading(true);
    /* istanbul ignore next */
    cov_160hhzpdcy().s[21]++;
    try {
      const response =
      /* istanbul ignore next */
      (cov_160hhzpdcy().s[22]++, await _incidentapi.IncidentAPI.listIncidents({
        page: currentPage,
        page_size: pageSize,
        status: filters.status,
        priority: filters.priority,
        source: filters.source,
        keyword: filters.keyword
      }));
      /* istanbul ignore next */
      cov_160hhzpdcy().s[23]++;
      setIncidents(response.incidents);
      /* istanbul ignore next */
      cov_160hhzpdcy().s[24]++;
      setTotal(response.total);
    } catch (error) {
      /* istanbul ignore next */
      cov_160hhzpdcy().s[25]++;
      console.error('Failed to load incidents:', error);
      /* istanbul ignore next */
      cov_160hhzpdcy().s[26]++;
      _antd.message.error(t('incidents.loadDataError'));
    } finally {
      /* istanbul ignore next */
      cov_160hhzpdcy().s[27]++;
      setLoading(false);
    }
  };
  /* istanbul ignore next */
  cov_160hhzpdcy().s[28]++;
  const loadMetrics = async () => {
    /* istanbul ignore next */
    cov_160hhzpdcy().f[4]++;
    cov_160hhzpdcy().s[29]++;
    try {
      const response =
      /* istanbul ignore next */
      (cov_160hhzpdcy().s[30]++, await _incidentapi.IncidentAPI.getIncidentMetrics());
      /* istanbul ignore next */
      cov_160hhzpdcy().s[31]++;
      setMetrics(response);
    } catch (error) {
      /* istanbul ignore next */
      cov_160hhzpdcy().s[32]++;
      console.error('Failed to load metrics:', error);
      /* istanbul ignore next */
      cov_160hhzpdcy().s[33]++;
      setMetrics({
        total_incidents: 0,
        critical_incidents: 0,
        major_incidents: 0,
        avg_resolution_time: 0
      });
    }
  };
  /* istanbul ignore next */
  cov_160hhzpdcy().s[34]++;
  const handleSearch = value => {
    /* istanbul ignore next */
    cov_160hhzpdcy().f[5]++;
    cov_160hhzpdcy().s[35]++;
    setFilters({
      ...filters,
      keyword: value
    });
    /* istanbul ignore next */
    cov_160hhzpdcy().s[36]++;
    setCurrentPage(1);
  };
  /* istanbul ignore next */
  cov_160hhzpdcy().s[37]++;
  const handleFilterChange = (key, value) => {
    /* istanbul ignore next */
    cov_160hhzpdcy().f[6]++;
    cov_160hhzpdcy().s[38]++;
    setFilters({
      ...filters,
      [key]: value
    });
    /* istanbul ignore next */
    cov_160hhzpdcy().s[39]++;
    setCurrentPage(1);
  };
  /* istanbul ignore next */
  cov_160hhzpdcy().s[40]++;
  return {
    incidents,
    loading,
    total,
    currentPage,
    pageSize,
    filters,
    metrics,
    setCurrentPage,
    setPageSize,
    handleSearch,
    handleFilterChange,
    loadIncidents
  };
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMTYwaGh6cGRjeSIsImFjdHVhbENvdmVyYWdlIiwicyIsInVzZUluY2lkZW50c0RhdGEiLCJmIiwidCIsIl9pMThuIiwidXNlSTE4biIsImluY2lkZW50cyIsInNldEluY2lkZW50cyIsIl9yZWFjdCIsInVzZVN0YXRlIiwibG9hZGluZyIsInNldExvYWRpbmciLCJ0b3RhbCIsInNldFRvdGFsIiwiY3VycmVudFBhZ2UiLCJzZXRDdXJyZW50UGFnZSIsInBhZ2VTaXplIiwic2V0UGFnZVNpemUiLCJmaWx0ZXJzIiwic2V0RmlsdGVycyIsInN0YXR1cyIsInByaW9yaXR5Iiwic291cmNlIiwia2V5d29yZCIsIm1ldHJpY3MiLCJzZXRNZXRyaWNzIiwidG90YWxfaW5jaWRlbnRzIiwiY3JpdGljYWxfaW5jaWRlbnRzIiwibWFqb3JfaW5jaWRlbnRzIiwiYXZnX3Jlc29sdXRpb25fdGltZSIsInVzZUVmZmVjdCIsImxvYWRJbmNpZGVudHMiLCJsb2FkTWV0cmljcyIsInJlc3BvbnNlIiwiX2luY2lkZW50YXBpIiwiSW5jaWRlbnRBUEkiLCJsaXN0SW5jaWRlbnRzIiwicGFnZSIsInBhZ2Vfc2l6ZSIsImVycm9yIiwiY29uc29sZSIsIl9hbnRkIiwibWVzc2FnZSIsImdldEluY2lkZW50TWV0cmljcyIsImhhbmRsZVNlYXJjaCIsInZhbHVlIiwiaGFuZGxlRmlsdGVyQ2hhbmdlIiwia2V5Il0sInNvdXJjZXMiOlsiL1VzZXJzL2hlaWRzb2Z0L0Rvd25sb2Fkcy9yZXNlYXJjaC9pdHNtL2l0c20tcHJvdG90eXBlL3NyYy9hcHAvKG1haW4pL2luY2lkZW50cy9ob29rcy91c2VJbmNpZGVudHNEYXRhLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEluY2lkZW50QVBJLCBJbmNpZGVudCB9IGZyb20gJ0AvbGliL2FwaS9pbmNpZGVudC1hcGknO1xuaW1wb3J0IHsgbWVzc2FnZSB9IGZyb20gJ2FudGQnO1xuaW1wb3J0IHsgdXNlSTE4biB9IGZyb20gJ0AvbGliL2kxOG4nO1xuXG5leHBvcnQgY29uc3QgdXNlSW5jaWRlbnRzRGF0YSA9ICgpID0+IHtcbiAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gIGNvbnN0IFtpbmNpZGVudHMsIHNldEluY2lkZW50c10gPSB1c2VTdGF0ZTxJbmNpZGVudFtdPihbXSk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3RvdGFsLCBzZXRUb3RhbF0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2N1cnJlbnRQYWdlLCBzZXRDdXJyZW50UGFnZV0gPSB1c2VTdGF0ZSgxKTtcbiAgY29uc3QgW3BhZ2VTaXplLCBzZXRQYWdlU2l6ZV0gPSB1c2VTdGF0ZSgxMCk7XG4gIGNvbnN0IFtmaWx0ZXJzLCBzZXRGaWx0ZXJzXSA9IHVzZVN0YXRlKHtcbiAgICBzdGF0dXM6ICcnLFxuICAgIHByaW9yaXR5OiAnJyxcbiAgICBzb3VyY2U6ICcnLFxuICAgIGtleXdvcmQ6ICcnLFxuICB9KTtcbiAgY29uc3QgW21ldHJpY3MsIHNldE1ldHJpY3NdID0gdXNlU3RhdGUoe1xuICAgIHRvdGFsX2luY2lkZW50czogMCxcbiAgICBjcml0aWNhbF9pbmNpZGVudHM6IDAsXG4gICAgbWFqb3JfaW5jaWRlbnRzOiAwLFxuICAgIGF2Z19yZXNvbHV0aW9uX3RpbWU6IDAsXG4gIH0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbG9hZEluY2lkZW50cygpO1xuICAgIGxvYWRNZXRyaWNzKCk7XG4gIH0sIFtjdXJyZW50UGFnZSwgcGFnZVNpemUsIGZpbHRlcnNdKTtcblxuICBjb25zdCBsb2FkSW5jaWRlbnRzID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgSW5jaWRlbnRBUEkubGlzdEluY2lkZW50cyh7XG4gICAgICAgIHBhZ2U6IGN1cnJlbnRQYWdlLFxuICAgICAgICBwYWdlX3NpemU6IHBhZ2VTaXplLFxuICAgICAgICBzdGF0dXM6IGZpbHRlcnMuc3RhdHVzLFxuICAgICAgICBwcmlvcml0eTogZmlsdGVycy5wcmlvcml0eSxcbiAgICAgICAgc291cmNlOiBmaWx0ZXJzLnNvdXJjZSxcbiAgICAgICAga2V5d29yZDogZmlsdGVycy5rZXl3b3JkLFxuICAgICAgfSk7XG4gICAgICBzZXRJbmNpZGVudHMocmVzcG9uc2UuaW5jaWRlbnRzKTtcbiAgICAgIHNldFRvdGFsKHJlc3BvbnNlLnRvdGFsKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxvYWQgaW5jaWRlbnRzOicsIGVycm9yKTtcbiAgICAgIG1lc3NhZ2UuZXJyb3IodCgnaW5jaWRlbnRzLmxvYWREYXRhRXJyb3InKSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBsb2FkTWV0cmljcyA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBJbmNpZGVudEFQSS5nZXRJbmNpZGVudE1ldHJpY3MoKTtcbiAgICAgIHNldE1ldHJpY3MocmVzcG9uc2UpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBtZXRyaWNzOicsIGVycm9yKTtcbiAgICAgIHNldE1ldHJpY3Moe1xuICAgICAgICB0b3RhbF9pbmNpZGVudHM6IDAsXG4gICAgICAgIGNyaXRpY2FsX2luY2lkZW50czogMCxcbiAgICAgICAgbWFqb3JfaW5jaWRlbnRzOiAwLFxuICAgICAgICBhdmdfcmVzb2x1dGlvbl90aW1lOiAwLFxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNlYXJjaCA9ICh2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgc2V0RmlsdGVycyh7IC4uLmZpbHRlcnMsIGtleXdvcmQ6IHZhbHVlIH0pO1xuICAgIHNldEN1cnJlbnRQYWdlKDEpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUZpbHRlckNoYW5nZSA9IChrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZykgPT4ge1xuICAgIHNldEZpbHRlcnMoeyAuLi5maWx0ZXJzLCBba2V5XTogdmFsdWUgfSk7XG4gICAgc2V0Q3VycmVudFBhZ2UoMSk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBpbmNpZGVudHMsXG4gICAgbG9hZGluZyxcbiAgICB0b3RhbCxcbiAgICBjdXJyZW50UGFnZSxcbiAgICBwYWdlU2l6ZSxcbiAgICBmaWx0ZXJzLFxuICAgIG1ldHJpY3MsXG4gICAgc2V0Q3VycmVudFBhZ2UsXG4gICAgc2V0UGFnZVNpemUsXG4gICAgaGFuZGxlU2VhcmNoLFxuICAgIGhhbmRsZUZpbHRlckNoYW5nZSxcbiAgICBsb2FkSW5jaWRlbnRzLFxuICB9O1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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