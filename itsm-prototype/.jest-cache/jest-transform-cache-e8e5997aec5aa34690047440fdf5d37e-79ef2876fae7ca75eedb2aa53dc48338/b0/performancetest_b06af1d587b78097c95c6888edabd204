e77f41f9a80ff0f1b5995506937489e4
/**
 * 性能测试
 * 测试组件渲染性能、内存使用、大数据处理等性能相关功能
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
const _antd = require("antd");
const _zh_CN = /*#__PURE__*/ _interop_require_default(require("antd/locale/zh_CN"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
// Mock performance API
const mockPerformance = {
    now: jest.fn(()=>Date.now()),
    mark: jest.fn(),
    measure: jest.fn(),
    getEntriesByType: jest.fn(()=>[]),
    getEntriesByName: jest.fn(()=>[])
};
Object.defineProperty(window, 'performance', {
    value: mockPerformance,
    writable: true
});
// Mock ResizeObserver
global.ResizeObserver = jest.fn().mockImplementation(()=>({
        observe: jest.fn(),
        unobserve: jest.fn(),
        disconnect: jest.fn()
    }));
// Mock IntersectionObserver
global.IntersectionObserver = jest.fn().mockImplementation(()=>({
        observe: jest.fn(),
        unobserve: jest.fn(),
        disconnect: jest.fn()
    }));
// Performance monitoring utilities
class PerformanceMonitor {
    start() {
        this.startTime = performance.now();
    }
    end() {
        this.endTime = performance.now();
        return this.endTime - this.startTime;
    }
    getDuration() {
        return this.endTime - this.startTime;
    }
    constructor(){
        this.startTime = 0;
        this.endTime = 0;
    }
}
// Mock heavy computation component
const HeavyComputationComponent = ({ itemCount })=>{
    const [items, setItems] = _react.default.useState([]);
    const [isLoading, setIsLoading] = _react.default.useState(true);
    _react.default.useEffect(()=>{
        const generateItems = ()=>{
            const newItems = Array.from({
                length: itemCount
            }, (_, i)=>i);
            setItems(newItems);
            setIsLoading(false);
        };
        // Simulate heavy computation
        const timer = setTimeout(generateItems, 100);
        return ()=>clearTimeout(timer);
    }, [
        itemCount
    ]);
    if (isLoading) {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            "data-testid": "loading",
            children: "Loading..."
        });
    }
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        "data-testid": "heavy-component",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                "data-testid": "item-count",
                children: [
                    items.length,
                    " items"
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "items-container",
                children: items.map((item)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        "data-testid": `item-${item}`,
                        className: "item",
                        children: [
                            "Item ",
                            item
                        ]
                    }, item))
            })
        ]
    });
};
// Mock virtualized list component
const VirtualizedList = ({ items, itemHeight, containerHeight })=>{
    const [scrollTop, setScrollTop] = _react.default.useState(0);
    const [visibleItems, setVisibleItems] = _react.default.useState([]);
    _react.default.useEffect(()=>{
        const startIndex = Math.floor(scrollTop / itemHeight);
        const endIndex = Math.min(startIndex + Math.ceil(containerHeight / itemHeight) + 1, items.length);
        setVisibleItems(items.slice(startIndex, endIndex));
    }, [
        scrollTop,
        items,
        itemHeight,
        containerHeight
    ]);
    const handleScroll = (e)=>{
        setScrollTop(e.currentTarget.scrollTop);
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
        "data-testid": "virtualized-list",
        style: {
            height: containerHeight,
            overflow: 'auto'
        },
        onScroll: handleScroll,
        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            style: {
                height: items.length * itemHeight,
                position: 'relative'
            },
            children: visibleItems.map((_, index)=>{
                const actualIndex = Math.floor(scrollTop / itemHeight) + index;
                return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    "data-testid": `virtual-item-${actualIndex}`,
                    style: {
                        position: 'absolute',
                        top: actualIndex * itemHeight,
                        height: itemHeight,
                        width: '100%'
                    },
                    children: [
                        "Virtual Item ",
                        actualIndex
                    ]
                }, actualIndex);
            })
        })
    });
};
// Mock memoized component
const MemoizedComponent = /*#__PURE__*/ _react.default.memo(({ data, onItemClick })=>{
    const renderCount = _react.default.useRef(0);
    renderCount.current += 1;
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        "data-testid": "memoized-component",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "render-count",
                children: renderCount.current
            }),
            data.map((item)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    "data-testid": `memoized-item-${item.id}`,
                    onClick: ()=>onItemClick(item.id),
                    className: "cursor-pointer p-2 hover:bg-gray-100",
                    children: item.name
                }, item.id))
        ]
    });
});
MemoizedComponent.displayName = 'MemoizedComponent';
// Mock lazy loaded component
const LazyComponent = /*#__PURE__*/ _react.default.lazy(()=>Promise.resolve({
        default: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "lazy-component",
                children: "Lazy loaded content"
            })
    }));
// Test wrapper
const TestWrapper = ({ children })=>{
    return /*#__PURE__*/ (0, _jsxruntime.jsx)(_antd.ConfigProvider, {
        locale: _zh_CN.default,
        children: children
    });
};
describe('性能测试', ()=>{
    let performanceMonitor;
    beforeEach(()=>{
        performanceMonitor = new PerformanceMonitor();
        jest.clearAllMocks();
    });
    describe('渲染性能测试', ()=>{
        it('应该在合理时间内渲染小型组件', ()=>{
            performanceMonitor.start();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    "data-testid": "simple-component",
                    children: "Simple Component"
                })
            }));
            const renderTime = performanceMonitor.end();
            // 验证渲染时间小于50ms
            expect(renderTime).toBeLessThan(50);
            expect(_react1.screen.getByTestId('simple-component')).toBeInTheDocument();
        });
        it('应该高效渲染中等复杂度组件', async ()=>{
            performanceMonitor.start();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(HeavyComputationComponent, {
                    itemCount: 100
                })
            }));
            // 等待组件加载完成
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('heavy-component')).toBeInTheDocument();
            });
            const renderTime = performanceMonitor.end();
            // 验证渲染时间小于200ms
            expect(renderTime).toBeLessThan(200);
            expect(_react1.screen.getByTestId('item-count')).toHaveTextContent('100 items');
        });
        it('应该处理大量数据的渲染', async ()=>{
            const largeDataset = Array.from({
                length: 10000
            }, (_, i)=>i);
            performanceMonitor.start();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(VirtualizedList, {
                    items: largeDataset,
                    itemHeight: 50,
                    containerHeight: 400
                })
            }));
            const renderTime = performanceMonitor.end();
            // 验证虚拟化列表渲染时间
            expect(renderTime).toBeLessThan(100);
            expect(_react1.screen.getByTestId('virtualized-list')).toBeInTheDocument();
            // 验证只渲染可见项目
            const visibleItems = _react1.screen.getAllByTestId(/virtual-item-/);
            expect(visibleItems.length).toBeLessThan(20); // 只渲染可见的项目
        });
        it('应该优化重复渲染', async ()=>{
            const mockData = [
                {
                    id: 1,
                    name: 'Item 1'
                },
                {
                    id: 2,
                    name: 'Item 2'
                },
                {
                    id: 3,
                    name: 'Item 3'
                }
            ];
            const mockOnClick = jest.fn();
            const { rerender } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(MemoizedComponent, {
                    data: mockData,
                    onItemClick: mockOnClick
                })
            }));
            // 验证初始渲染
            expect(_react1.screen.getByTestId('render-count')).toHaveTextContent('1');
            // 使用相同props重新渲染
            rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(MemoizedComponent, {
                    data: mockData,
                    onItemClick: mockOnClick
                })
            }));
            // 验证没有重新渲染（由于React.memo）
            expect(_react1.screen.getByTestId('render-count')).toHaveTextContent('1');
            // 使用不同props重新渲染
            const newData = [
                ...mockData,
                {
                    id: 4,
                    name: 'Item 4'
                }
            ];
            rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(MemoizedComponent, {
                    data: newData,
                    onItemClick: mockOnClick
                })
            }));
            // 验证重新渲染
            expect(_react1.screen.getByTestId('render-count')).toHaveTextContent('2');
        });
    });
    describe('内存使用测试', ()=>{
        it('应该正确清理事件监听器', ()=>{
            const mockAddEventListener = jest.spyOn(window, 'addEventListener');
            const mockRemoveEventListener = jest.spyOn(window, 'removeEventListener');
            const ComponentWithEventListener = ()=>{
                _react.default.useEffect(()=>{
                    const handleResize = ()=>{
                    // Handle resize
                    };
                    window.addEventListener('resize', handleResize);
                    return ()=>window.removeEventListener('resize', handleResize);
                }, []);
                return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    "data-testid": "event-component",
                    children: "Component with event listener"
                });
            };
            const { unmount } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(ComponentWithEventListener, {})
            }));
            expect(mockAddEventListener).toHaveBeenCalledWith('resize', expect.any(Function));
            // 卸载组件
            unmount();
            expect(mockRemoveEventListener).toHaveBeenCalledWith('resize', expect.any(Function));
            mockAddEventListener.mockRestore();
            mockRemoveEventListener.mockRestore();
        });
        it('应该正确清理定时器', ()=>{
            jest.useFakeTimers();
            const mockClearTimeout = jest.spyOn(global, 'clearTimeout');
            const ComponentWithTimer = ()=>{
                const [count, setCount] = _react.default.useState(0);
                _react.default.useEffect(()=>{
                    const timer = setTimeout(()=>{
                        setCount(1);
                    }, 1000);
                    return ()=>clearTimeout(timer);
                }, []);
                return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    "data-testid": "timer-component",
                    children: count
                });
            };
            const { unmount } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(ComponentWithTimer, {})
            }));
            // 卸载组件
            unmount();
            expect(mockClearTimeout).toHaveBeenCalled();
            jest.useRealTimers();
            mockClearTimeout.mockRestore();
        });
        it('应该避免内存泄漏', ()=>{
            const ComponentWithState = ()=>{
                const [data, setData] = _react.default.useState([]);
                _react.default.useEffect(()=>{
                    // 模拟大量数据
                    const largeArray = Array.from({
                        length: 10000
                    }, (_, i)=>i);
                    setData(largeArray);
                    return ()=>{
                        // 清理数据
                        setData([]);
                    };
                }, []);
                return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    "data-testid": "state-component",
                    children: [
                        "Data length: ",
                        data.length
                    ]
                });
            };
            const { unmount } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(ComponentWithState, {})
            }));
            expect(_react1.screen.getByTestId('state-component')).toHaveTextContent('Data length: 10000');
            // 卸载组件应该清理状态
            unmount();
            // 验证组件已卸载
            expect(_react1.screen.queryByTestId('state-component')).not.toBeInTheDocument();
        });
    });
    describe('异步加载性能测试', ()=>{
        it('应该高效处理懒加载组件', async ()=>{
            performanceMonitor.start();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_react.default.Suspense, {
                    fallback: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        "data-testid": "suspense-loading",
                        children: "Loading..."
                    }),
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(LazyComponent, {})
                })
            }));
            // 验证Suspense fallback显示
            expect(_react1.screen.getByTestId('suspense-loading')).toBeInTheDocument();
            // 等待懒加载组件加载
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('lazy-component')).toBeInTheDocument();
            });
            const loadTime = performanceMonitor.end();
            // 验证加载时间
            expect(loadTime).toBeLessThan(500);
            expect(_react1.screen.queryByTestId('suspense-loading')).not.toBeInTheDocument();
        });
        it('应该优化并发请求', async ()=>{
            const mockFetch = jest.fn().mockImplementation(()=>Promise.resolve({
                    json: ()=>Promise.resolve({
                            data: 'test'
                        })
                }));
            global.fetch = mockFetch;
            const ConcurrentRequestComponent = ()=>{
                const [data, setData] = _react.default.useState([]);
                const [loading, setLoading] = _react.default.useState(true);
                _react.default.useEffect(()=>{
                    const fetchData = async ()=>{
                        try {
                            // 并发请求
                            const promises = Array.from({
                                length: 5
                            }, (_, i)=>fetch(`/api/data/${i}`));
                            const responses = await Promise.all(promises);
                            const results = await Promise.all(responses.map((response)=>response.json()));
                            setData(results);
                        } catch (error) {
                            console.error('Fetch error:', error);
                        } finally{
                            setLoading(false);
                        }
                    };
                    fetchData();
                }, []);
                if (loading) {
                    return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        "data-testid": "concurrent-loading",
                        children: "Loading..."
                    });
                }
                return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    "data-testid": "concurrent-data",
                    children: [
                        "Data count: ",
                        data.length
                    ]
                });
            };
            performanceMonitor.start();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(ConcurrentRequestComponent, {})
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('concurrent-data')).toBeInTheDocument();
            });
            const loadTime = performanceMonitor.end();
            // 验证并发请求性能
            expect(loadTime).toBeLessThan(1000);
            expect(mockFetch).toHaveBeenCalledTimes(5);
            expect(_react1.screen.getByTestId('concurrent-data')).toHaveTextContent('Data count: 5');
        });
    });
    describe('用户交互性能测试', ()=>{
        it('应该快速响应用户点击', async ()=>{
            const user = _userevent.default.setup();
            const mockClick = jest.fn();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                    "data-testid": "performance-button",
                    onClick: mockClick,
                    children: "Click me"
                })
            }));
            performanceMonitor.start();
            await user.click(_react1.screen.getByTestId('performance-button'));
            const responseTime = performanceMonitor.end();
            // 验证响应时间小于100ms
            expect(responseTime).toBeLessThan(100);
            expect(mockClick).toHaveBeenCalledTimes(1);
        });
        it('应该高效处理输入事件', async ()=>{
            const user = _userevent.default.setup();
            const mockChange = jest.fn();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                    "data-testid": "performance-input",
                    onChange: mockChange,
                    placeholder: "Type here..."
                })
            }));
            performanceMonitor.start();
            await user.type(_react1.screen.getByTestId('performance-input'), 'test input');
            const inputTime = performanceMonitor.end();
            // 验证输入响应时间
            expect(inputTime).toBeLessThan(200);
            expect(mockChange).toHaveBeenCalled();
        });
        it('应该优化滚动性能', ()=>{
            const items = Array.from({
                length: 1000
            }, (_, i)=>i);
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    "data-testid": "scrollable-container",
                    style: {
                        height: '400px',
                        overflow: 'auto'
                    },
                    children: items.map((item)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            style: {
                                height: '50px',
                                padding: '10px'
                            },
                            children: [
                                "Item ",
                                item
                            ]
                        }, item))
                })
            }));
            const container = _react1.screen.getByTestId('scrollable-container');
            performanceMonitor.start();
            // 模拟滚动
            container.scrollTop = 1000;
            const scrollTime = performanceMonitor.end();
            // 验证滚动性能
            expect(scrollTime).toBeLessThan(50);
            expect(container.scrollTop).toBe(1000);
        });
    });
    describe('资源加载性能测试', ()=>{
        it('应该优化图片加载', ()=>{
            const mockImage = {
                onload: null,
                onerror: null,
                src: ''
            };
            // Mock Image constructor
            global.Image = jest.fn().mockImplementation(()=>mockImage);
            const ImageComponent = ()=>{
                const [loaded, setLoaded] = _react.default.useState(false);
                const [error, setError] = _react.default.useState(false);
                _react.default.useEffect(()=>{
                    const img = new Image();
                    img.onload = ()=>setLoaded(true);
                    img.onerror = ()=>setError(true);
                    img.src = '/test-image.jpg';
                }, []);
                if (error) {
                    return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        "data-testid": "image-error",
                        children: "Image failed to load"
                    });
                }
                if (!loaded) {
                    return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        "data-testid": "image-loading",
                        children: "Loading image..."
                    });
                }
                return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    "data-testid": "image-loaded",
                    children: "Image loaded"
                });
            };
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(ImageComponent, {})
            }));
            expect(_react1.screen.getByTestId('image-loading')).toBeInTheDocument();
            // 模拟图片加载成功
            if (mockImage.onload) {
                mockImage.onload();
            }
            expect(_react1.screen.getByTestId('image-loaded')).toBeInTheDocument();
        });
        it('应该实现资源预加载', ()=>{
            const mockLink = {
                rel: '',
                href: '',
                as: ''
            };
            const mockCreateElement = jest.spyOn(document, 'createElement').mockImplementation((tagName)=>{
                if (tagName === 'link') {
                    return mockLink;
                }
                return document.createElement(tagName);
            });
            const mockAppendChild = jest.spyOn(document.head, 'appendChild').mockImplementation(()=>mockLink);
            const PreloadComponent = ()=>{
                _react.default.useEffect(()=>{
                    // 预加载关键资源
                    const preloadLink = document.createElement('link');
                    preloadLink.rel = 'preload';
                    preloadLink.href = '/critical-resource.js';
                    preloadLink.as = 'script';
                    document.head.appendChild(preloadLink);
                }, []);
                return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    "data-testid": "preload-component",
                    children: "Component with preload"
                });
            };
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(PreloadComponent, {})
            }));
            expect(mockCreateElement).toHaveBeenCalledWith('link');
            expect(mockAppendChild).toHaveBeenCalled();
            expect(mockLink.rel).toBe('preload');
            expect(mockLink.href).toBe('/critical-resource.js');
            expect(mockLink.as).toBe('script');
            mockCreateElement.mockRestore();
            mockAppendChild.mockRestore();
        });
    });
    describe('Bundle大小优化测试', ()=>{
        it('应该支持代码分割', async ()=>{
            const DynamicImportComponent = ()=>{
                const [Component, setComponent] = _react.default.useState(null);
                _react.default.useEffect(()=>{
                    // 动态导入
                    Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("./mock-module"))).then((module)=>{
                        setComponent(()=>module.default);
                    }).catch(()=>{
                        setComponent(()=>()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    children: "Failed to load"
                                }));
                    });
                }, []);
                if (!Component) {
                    return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        "data-testid": "dynamic-loading",
                        children: "Loading dynamic component..."
                    });
                }
                return /*#__PURE__*/ (0, _jsxruntime.jsx)(Component, {});
            };
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(DynamicImportComponent, {})
            }));
            expect(_react1.screen.getByTestId('dynamic-loading')).toBeInTheDocument();
        });
        it('应该优化依赖包大小', ()=>{
            // 验证只导入需要的模块
            const mockLodash = {
                debounce: jest.fn(),
                throttle: jest.fn()
            };
            // 模拟tree-shaking优化
            const { debounce } = mockLodash;
            const DebouncedComponent = ()=>{
                const [value, setValue] = _react.default.useState('');
                const debouncedSetValue = _react.default.useMemo(()=>debounce((newValue)=>setValue(newValue), 300), [
                    debounce
                ]);
                return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    "data-testid": "debounced-component",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                            onChange: (e)=>debouncedSetValue(e.target.value),
                            placeholder: "Debounced input"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            "data-testid": "debounced-value",
                            children: value
                        })
                    ]
                });
            };
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(DebouncedComponent, {})
            }));
            expect(_react1.screen.getByTestId('debounced-component')).toBeInTheDocument();
            // 验证只使用了需要的函数
            expect(debounce).toBeDefined();
        });
    });
    describe('缓存策略测试', ()=>{
        it('应该实现组件级缓存', ()=>{
            const expensiveCalculation = jest.fn((n)=>{
                // 模拟昂贵计算
                let result = 0;
                for(let i = 0; i < n; i++){
                    result += i;
                }
                return result;
            });
            const CachedComponent = ({ input })=>{
                const result = _react.default.useMemo(()=>expensiveCalculation(input), [
                    input
                ]);
                return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    "data-testid": "cached-component",
                    children: [
                        "Result: ",
                        result
                    ]
                });
            };
            CachedComponent.displayName = 'CachedComponent';
            const { rerender } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(CachedComponent, {
                    input: 1000
                })
            }));
            expect(expensiveCalculation).toHaveBeenCalledTimes(1);
            // 使用相同输入重新渲染
            rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(CachedComponent, {
                    input: 1000
                })
            }));
            // 验证缓存生效，没有重新计算
            expect(expensiveCalculation).toHaveBeenCalledTimes(1);
            // 使用不同输入重新渲染
            rerender(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(CachedComponent, {
                    input: 2000
                })
            }));
            // 验证重新计算
            expect(expensiveCalculation).toHaveBeenCalledTimes(2);
        });
        it('应该实现请求缓存', async ()=>{
            const mockFetch = jest.fn().mockResolvedValue({
                json: ()=>Promise.resolve({
                        data: 'cached data'
                    })
            });
            global.fetch = mockFetch;
            // 简单的请求缓存实现
            const requestCache = new Map();
            const cachedFetch = (url)=>{
                if (requestCache.has(url)) {
                    return requestCache.get(url);
                }
                const promise = fetch(url).then((response)=>response.json());
                requestCache.set(url, promise);
                return promise;
            };
            const CachedRequestComponent = ()=>{
                const [data, setData] = _react.default.useState(null);
                _react.default.useEffect(()=>{
                    cachedFetch('/api/data').then(setData);
                }, []);
                return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    "data-testid": "cached-request",
                    children: data ? JSON.stringify(data) : 'Loading...'
                });
            };
            // 渲染第一个组件
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(CachedRequestComponent, {})
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId('cached-request')).toHaveTextContent('cached data');
            });
            expect(mockFetch).toHaveBeenCalledTimes(1);
            // 渲染第二个相同的组件
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(TestWrapper, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(CachedRequestComponent, {})
            }));
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getAllByTestId('cached-request')).toHaveLength(2);
            });
            // 验证缓存生效，没有发起新请求
            expect(mockFetch).toHaveBeenCalledTimes(1);
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZWlkc29mdC9Eb3dubG9hZHMvcmVzZWFyY2gvaXRzbS9pdHNtLXByb3RvdHlwZS9zcmMvYXBwL19fdGVzdHNfXy9wZXJmb3JtYW5jZS9wZXJmb3JtYW5jZS50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOaAp+iDvea1i+ivlVxuICog5rWL6K+V57uE5Lu25riy5p+T5oCn6IO944CB5YaF5a2Y5L2/55So44CB5aSn5pWw5o2u5aSE55CG562J5oCn6IO955u45YWz5Yqf6IO9XG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCB3YWl0Rm9yIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgdXNlckV2ZW50IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvdXNlci1ldmVudCc7XG5pbXBvcnQgeyBDb25maWdQcm92aWRlciB9IGZyb20gJ2FudGQnO1xuaW1wb3J0IHpoQ04gZnJvbSAnYW50ZC9sb2NhbGUvemhfQ04nO1xuXG4vLyBNb2NrIHBlcmZvcm1hbmNlIEFQSVxuY29uc3QgbW9ja1BlcmZvcm1hbmNlID0ge1xuICBub3c6IGplc3QuZm4oKCkgPT4gRGF0ZS5ub3coKSksXG4gIG1hcms6IGplc3QuZm4oKSxcbiAgbWVhc3VyZTogamVzdC5mbigpLFxuICBnZXRFbnRyaWVzQnlUeXBlOiBqZXN0LmZuKCgpID0+IFtdKSxcbiAgZ2V0RW50cmllc0J5TmFtZTogamVzdC5mbigoKSA9PiBbXSksXG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAncGVyZm9ybWFuY2UnLCB7XG4gIHZhbHVlOiBtb2NrUGVyZm9ybWFuY2UsXG4gIHdyaXRhYmxlOiB0cnVlLFxufSk7XG5cbi8vIE1vY2sgUmVzaXplT2JzZXJ2ZXJcbmdsb2JhbC5SZXNpemVPYnNlcnZlciA9IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4gKHtcbiAgb2JzZXJ2ZTogamVzdC5mbigpLFxuICB1bm9ic2VydmU6IGplc3QuZm4oKSxcbiAgZGlzY29ubmVjdDogamVzdC5mbigpLFxufSkpO1xuXG4vLyBNb2NrIEludGVyc2VjdGlvbk9ic2VydmVyXG5nbG9iYWwuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XG4gIG9ic2VydmU6IGplc3QuZm4oKSxcbiAgdW5vYnNlcnZlOiBqZXN0LmZuKCksXG4gIGRpc2Nvbm5lY3Q6IGplc3QuZm4oKSxcbn0pKTtcblxuLy8gUGVyZm9ybWFuY2UgbW9uaXRvcmluZyB1dGlsaXRpZXNcbmNsYXNzIFBlcmZvcm1hbmNlTW9uaXRvciB7XG4gIHByaXZhdGUgc3RhcnRUaW1lOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGVuZFRpbWU6IG51bWJlciA9IDA7XG5cbiAgc3RhcnQoKSB7XG4gICAgdGhpcy5zdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgfVxuXG4gIGVuZCgpIHtcbiAgICB0aGlzLmVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICByZXR1cm4gdGhpcy5lbmRUaW1lIC0gdGhpcy5zdGFydFRpbWU7XG4gIH1cblxuICBnZXREdXJhdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5lbmRUaW1lIC0gdGhpcy5zdGFydFRpbWU7XG4gIH1cbn1cblxuLy8gTW9jayBoZWF2eSBjb21wdXRhdGlvbiBjb21wb25lbnRcbmNvbnN0IEhlYXZ5Q29tcHV0YXRpb25Db21wb25lbnQ6IFJlYWN0LkZDPHsgaXRlbUNvdW50OiBudW1iZXIgfT4gPSAoeyBpdGVtQ291bnQgfSkgPT4ge1xuICBjb25zdCBbaXRlbXMsIHNldEl0ZW1zXSA9IFJlYWN0LnVzZVN0YXRlPG51bWJlcltdPihbXSk7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSBSZWFjdC51c2VTdGF0ZSh0cnVlKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGdlbmVyYXRlSXRlbXMgPSAoKSA9PiB7XG4gICAgICBjb25zdCBuZXdJdGVtcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IGl0ZW1Db3VudCB9LCAoXywgaSkgPT4gaSk7XG4gICAgICBzZXRJdGVtcyhuZXdJdGVtcyk7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIH07XG5cbiAgICAvLyBTaW11bGF0ZSBoZWF2eSBjb21wdXRhdGlvblxuICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dChnZW5lcmF0ZUl0ZW1zLCAxMDApO1xuICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpO1xuICB9LCBbaXRlbUNvdW50XSk7XG5cbiAgaWYgKGlzTG9hZGluZykge1xuICAgIHJldHVybiA8ZGl2IGRhdGEtdGVzdGlkPVwibG9hZGluZ1wiPkxvYWRpbmcuLi48L2Rpdj47XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJoZWF2eS1jb21wb25lbnRcIj5cbiAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJpdGVtLWNvdW50XCI+e2l0ZW1zLmxlbmd0aH0gaXRlbXM8L2Rpdj5cbiAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJpdGVtcy1jb250YWluZXJcIj5cbiAgICAgICAge2l0ZW1zLm1hcChpdGVtID0+IChcbiAgICAgICAgICA8ZGl2IGtleT17aXRlbX0gZGF0YS10ZXN0aWQ9e2BpdGVtLSR7aXRlbX1gfSBjbGFzc05hbWU9XCJpdGVtXCI+XG4gICAgICAgICAgICBJdGVtIHtpdGVtfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gTW9jayB2aXJ0dWFsaXplZCBsaXN0IGNvbXBvbmVudFxuY29uc3QgVmlydHVhbGl6ZWRMaXN0OiBSZWFjdC5GQzx7IFxuICBpdGVtczogdW5rbm93bltdOyBcbiAgaXRlbUhlaWdodDogbnVtYmVyOyBcbiAgY29udGFpbmVySGVpZ2h0OiBudW1iZXI7XG59PiA9ICh7IGl0ZW1zLCBpdGVtSGVpZ2h0LCBjb250YWluZXJIZWlnaHQgfSkgPT4ge1xuICBjb25zdCBbc2Nyb2xsVG9wLCBzZXRTY3JvbGxUb3BdID0gUmVhY3QudXNlU3RhdGUoMCk7XG4gIGNvbnN0IFt2aXNpYmxlSXRlbXMsIHNldFZpc2libGVJdGVtc10gPSBSZWFjdC51c2VTdGF0ZTx1bmtub3duW10+KFtdKTtcblxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBNYXRoLmZsb29yKHNjcm9sbFRvcCAvIGl0ZW1IZWlnaHQpO1xuICAgIGNvbnN0IGVuZEluZGV4ID0gTWF0aC5taW4oXG4gICAgICBzdGFydEluZGV4ICsgTWF0aC5jZWlsKGNvbnRhaW5lckhlaWdodCAvIGl0ZW1IZWlnaHQpICsgMSxcbiAgICAgIGl0ZW1zLmxlbmd0aFxuICAgICk7XG4gICAgXG4gICAgc2V0VmlzaWJsZUl0ZW1zKGl0ZW1zLnNsaWNlKHN0YXJ0SW5kZXgsIGVuZEluZGV4KSk7XG4gIH0sIFtzY3JvbGxUb3AsIGl0ZW1zLCBpdGVtSGVpZ2h0LCBjb250YWluZXJIZWlnaHRdKTtcblxuICBjb25zdCBoYW5kbGVTY3JvbGwgPSAoZTogUmVhY3QuVUlFdmVudDxIVE1MRGl2RWxlbWVudD4pID0+IHtcbiAgICBzZXRTY3JvbGxUb3AoZS5jdXJyZW50VGFyZ2V0LnNjcm9sbFRvcCk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IFxuICAgICAgZGF0YS10ZXN0aWQ9XCJ2aXJ0dWFsaXplZC1saXN0XCJcbiAgICAgIHN0eWxlPXt7IGhlaWdodDogY29udGFpbmVySGVpZ2h0LCBvdmVyZmxvdzogJ2F1dG8nIH19XG4gICAgICBvblNjcm9sbD17aGFuZGxlU2Nyb2xsfVxuICAgID5cbiAgICAgIDxkaXYgc3R5bGU9e3sgaGVpZ2h0OiBpdGVtcy5sZW5ndGggKiBpdGVtSGVpZ2h0LCBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fT5cbiAgICAgICAge3Zpc2libGVJdGVtcy5tYXAoKF8sIGluZGV4KSA9PiB7XG4gICAgICAgICAgY29uc3QgYWN0dWFsSW5kZXggPSBNYXRoLmZsb29yKHNjcm9sbFRvcCAvIGl0ZW1IZWlnaHQpICsgaW5kZXg7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAga2V5PXthY3R1YWxJbmRleH1cbiAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e2B2aXJ0dWFsLWl0ZW0tJHthY3R1YWxJbmRleH1gfVxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgICAgIHRvcDogYWN0dWFsSW5kZXggKiBpdGVtSGVpZ2h0LFxuICAgICAgICAgICAgICAgIGhlaWdodDogaXRlbUhlaWdodCxcbiAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBWaXJ0dWFsIEl0ZW0ge2FjdHVhbEluZGV4fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbi8vIE1vY2sgbWVtb2l6ZWQgY29tcG9uZW50XG5jb25zdCBNZW1vaXplZENvbXBvbmVudCA9IFJlYWN0Lm1lbW88eyBcbiAgZGF0YTogeyBpZDogbnVtYmVyOyBuYW1lOiBzdHJpbmcgfVtdO1xuICBvbkl0ZW1DbGljazogKGlkOiBudW1iZXIpID0+IHZvaWQ7XG59PigoeyBkYXRhLCBvbkl0ZW1DbGljayB9KSA9PiB7XG4gIGNvbnN0IHJlbmRlckNvdW50ID0gUmVhY3QudXNlUmVmKDApO1xuICByZW5kZXJDb3VudC5jdXJyZW50ICs9IDE7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGRhdGEtdGVzdGlkPVwibWVtb2l6ZWQtY29tcG9uZW50XCI+XG4gICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwicmVuZGVyLWNvdW50XCI+e3JlbmRlckNvdW50LmN1cnJlbnR9PC9kaXY+XG4gICAgICB7ZGF0YS5tYXAoaXRlbSA9PiAoXG4gICAgICAgIDxkaXYgXG4gICAgICAgICAga2V5PXtpdGVtLmlkfSBcbiAgICAgICAgICBkYXRhLXRlc3RpZD17YG1lbW9pemVkLWl0ZW0tJHtpdGVtLmlkfWB9XG4gICAgICAgICAgb25DbGljaz17KCkgPT4gb25JdGVtQ2xpY2soaXRlbS5pZCl9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiY3Vyc29yLXBvaW50ZXIgcC0yIGhvdmVyOmJnLWdyYXktMTAwXCJcbiAgICAgICAgPlxuICAgICAgICAgIHtpdGVtLm5hbWV9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKSl9XG4gICAgPC9kaXY+XG4gICk7XG59KTtcblxuTWVtb2l6ZWRDb21wb25lbnQuZGlzcGxheU5hbWUgPSAnTWVtb2l6ZWRDb21wb25lbnQnO1xuXG4vLyBNb2NrIGxhenkgbG9hZGVkIGNvbXBvbmVudFxuY29uc3QgTGF6eUNvbXBvbmVudCA9IFJlYWN0LmxhenkoKCkgPT4gXG4gIFByb21pc2UucmVzb2x2ZSh7XG4gICAgZGVmYXVsdDogKCkgPT4gKFxuICAgICAgPGRpdiBkYXRhLXRlc3RpZD1cImxhenktY29tcG9uZW50XCI+XG4gICAgICAgIExhenkgbG9hZGVkIGNvbnRlbnRcbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfSlcbik7XG5cbi8vIFRlc3Qgd3JhcHBlclxuY29uc3QgVGVzdFdyYXBwZXI6IFJlYWN0LkZDPHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9PiA9ICh7IGNoaWxkcmVuIH0pID0+IHtcbiAgcmV0dXJuIChcbiAgICA8Q29uZmlnUHJvdmlkZXIgbG9jYWxlPXt6aENOfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0NvbmZpZ1Byb3ZpZGVyPlxuICApO1xufTtcblxuZGVzY3JpYmUoJ+aAp+iDvea1i+ivlScsICgpID0+IHtcbiAgbGV0IHBlcmZvcm1hbmNlTW9uaXRvcjogUGVyZm9ybWFuY2VNb25pdG9yO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIHBlcmZvcm1hbmNlTW9uaXRvciA9IG5ldyBQZXJmb3JtYW5jZU1vbml0b3IoKTtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ+a4suafk+aAp+iDvea1i+ivlScsICgpID0+IHtcbiAgICBpdCgn5bqU6K+l5Zyo5ZCI55CG5pe26Ze05YaF5riy5p+T5bCP5Z6L57uE5Lu2JywgKCkgPT4ge1xuICAgICAgcGVyZm9ybWFuY2VNb25pdG9yLnN0YXJ0KCk7XG4gICAgICBcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgIDxkaXYgZGF0YS10ZXN0aWQ9XCJzaW1wbGUtY29tcG9uZW50XCI+U2ltcGxlIENvbXBvbmVudDwvZGl2PlxuICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgKTtcblxuICAgICAgY29uc3QgcmVuZGVyVGltZSA9IHBlcmZvcm1hbmNlTW9uaXRvci5lbmQoKTtcblxuICAgICAgLy8g6aqM6K+B5riy5p+T5pe26Ze05bCP5LqONTBtc1xuICAgICAgZXhwZWN0KHJlbmRlclRpbWUpLnRvQmVMZXNzVGhhbig1MCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdzaW1wbGUtY29tcG9uZW50JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l6auY5pWI5riy5p+T5Lit562J5aSN5p2C5bqm57uE5Lu2JywgYXN5bmMgKCkgPT4ge1xuICAgICAgcGVyZm9ybWFuY2VNb25pdG9yLnN0YXJ0KCk7XG4gICAgICBcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgIDxIZWF2eUNvbXB1dGF0aW9uQ29tcG9uZW50IGl0ZW1Db3VudD17MTAwfSAvPlxuICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgKTtcblxuICAgICAgLy8g562J5b6F57uE5Lu25Yqg6L295a6M5oiQXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnaGVhdnktY29tcG9uZW50JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVuZGVyVGltZSA9IHBlcmZvcm1hbmNlTW9uaXRvci5lbmQoKTtcblxuICAgICAgLy8g6aqM6K+B5riy5p+T5pe26Ze05bCP5LqOMjAwbXNcbiAgICAgIGV4cGVjdChyZW5kZXJUaW1lKS50b0JlTGVzc1RoYW4oMjAwKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2l0ZW0tY291bnQnKSkudG9IYXZlVGV4dENvbnRlbnQoJzEwMCBpdGVtcycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ+W6lOivpeWkhOeQhuWkp+mHj+aVsOaNrueahOa4suafkycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGxhcmdlRGF0YXNldCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwMDAwIH0sIChfLCBpKSA9PiBpKTtcbiAgICAgIFxuICAgICAgcGVyZm9ybWFuY2VNb25pdG9yLnN0YXJ0KCk7XG4gICAgICBcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgIDxWaXJ0dWFsaXplZExpc3QgXG4gICAgICAgICAgICBpdGVtcz17bGFyZ2VEYXRhc2V0fVxuICAgICAgICAgICAgaXRlbUhlaWdodD17NTB9XG4gICAgICAgICAgICBjb250YWluZXJIZWlnaHQ9ezQwMH1cbiAgICAgICAgICAvPlxuICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgKTtcblxuICAgICAgY29uc3QgcmVuZGVyVGltZSA9IHBlcmZvcm1hbmNlTW9uaXRvci5lbmQoKTtcblxuICAgICAgLy8g6aqM6K+B6Jma5ouf5YyW5YiX6KGo5riy5p+T5pe26Ze0XG4gICAgICBleHBlY3QocmVuZGVyVGltZSkudG9CZUxlc3NUaGFuKDEwMCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCd2aXJ0dWFsaXplZC1saXN0JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBcbiAgICAgIC8vIOmqjOivgeWPqua4suafk+WPr+ingemhueebrlxuICAgICAgY29uc3QgdmlzaWJsZUl0ZW1zID0gc2NyZWVuLmdldEFsbEJ5VGVzdElkKC92aXJ0dWFsLWl0ZW0tLyk7XG4gICAgICBleHBlY3QodmlzaWJsZUl0ZW1zLmxlbmd0aCkudG9CZUxlc3NUaGFuKDIwKTsgLy8g5Y+q5riy5p+T5Y+v6KeB55qE6aG555uuXG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l5LyY5YyW6YeN5aSN5riy5p+TJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0RhdGEgPSBbXG4gICAgICAgIHsgaWQ6IDEsIG5hbWU6ICdJdGVtIDEnIH0sXG4gICAgICAgIHsgaWQ6IDIsIG5hbWU6ICdJdGVtIDInIH0sXG4gICAgICAgIHsgaWQ6IDMsIG5hbWU6ICdJdGVtIDMnIH0sXG4gICAgICBdO1xuICAgICAgY29uc3QgbW9ja09uQ2xpY2sgPSBqZXN0LmZuKCk7XG5cbiAgICAgIGNvbnN0IHsgcmVyZW5kZXIgfSA9IHJlbmRlcihcbiAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgIDxNZW1vaXplZENvbXBvbmVudCBkYXRhPXttb2NrRGF0YX0gb25JdGVtQ2xpY2s9e21vY2tPbkNsaWNrfSAvPlxuICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgKTtcblxuICAgICAgLy8g6aqM6K+B5Yid5aeL5riy5p+TXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdyZW5kZXItY291bnQnKSkudG9IYXZlVGV4dENvbnRlbnQoJzEnKTtcblxuICAgICAgLy8g5L2/55So55u45ZCMcHJvcHPph43mlrDmuLLmn5NcbiAgICAgIHJlcmVuZGVyKFxuICAgICAgICA8VGVzdFdyYXBwZXI+XG4gICAgICAgICAgPE1lbW9pemVkQ29tcG9uZW50IGRhdGE9e21vY2tEYXRhfSBvbkl0ZW1DbGljaz17bW9ja09uQ2xpY2t9IC8+XG4gICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICApO1xuXG4gICAgICAvLyDpqozor4HmsqHmnInph43mlrDmuLLmn5PvvIjnlLHkuo5SZWFjdC5tZW1v77yJXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdyZW5kZXItY291bnQnKSkudG9IYXZlVGV4dENvbnRlbnQoJzEnKTtcblxuICAgICAgLy8g5L2/55So5LiN5ZCMcHJvcHPph43mlrDmuLLmn5NcbiAgICAgIGNvbnN0IG5ld0RhdGEgPSBbLi4ubW9ja0RhdGEsIHsgaWQ6IDQsIG5hbWU6ICdJdGVtIDQnIH1dO1xuICAgICAgcmVyZW5kZXIoXG4gICAgICAgIDxUZXN0V3JhcHBlcj5cbiAgICAgICAgICA8TWVtb2l6ZWRDb21wb25lbnQgZGF0YT17bmV3RGF0YX0gb25JdGVtQ2xpY2s9e21vY2tPbkNsaWNrfSAvPlxuICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgKTtcblxuICAgICAgLy8g6aqM6K+B6YeN5paw5riy5p+TXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdyZW5kZXItY291bnQnKSkudG9IYXZlVGV4dENvbnRlbnQoJzInKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ+WGheWtmOS9v+eUqOa1i+ivlScsICgpID0+IHtcbiAgICBpdCgn5bqU6K+l5q2j56Gu5riF55CG5LqL5Lu255uR5ZCs5ZmoJywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0FkZEV2ZW50TGlzdGVuZXIgPSBqZXN0LnNweU9uKHdpbmRvdywgJ2FkZEV2ZW50TGlzdGVuZXInKTtcbiAgICAgIGNvbnN0IG1vY2tSZW1vdmVFdmVudExpc3RlbmVyID0gamVzdC5zcHlPbih3aW5kb3csICdyZW1vdmVFdmVudExpc3RlbmVyJyk7XG5cbiAgICAgIGNvbnN0IENvbXBvbmVudFdpdGhFdmVudExpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSByZXNpemVcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSk7XG4gICAgICAgICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpO1xuICAgICAgICB9LCBbXSk7XG5cbiAgICAgICAgcmV0dXJuIDxkaXYgZGF0YS10ZXN0aWQ9XCJldmVudC1jb21wb25lbnRcIj5Db21wb25lbnQgd2l0aCBldmVudCBsaXN0ZW5lcjwvZGl2PjtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHsgdW5tb3VudCB9ID0gcmVuZGVyKFxuICAgICAgICA8VGVzdFdyYXBwZXI+XG4gICAgICAgICAgPENvbXBvbmVudFdpdGhFdmVudExpc3RlbmVyIC8+XG4gICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICApO1xuXG4gICAgICBleHBlY3QobW9ja0FkZEV2ZW50TGlzdGVuZXIpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdyZXNpemUnLCBleHBlY3QuYW55KEZ1bmN0aW9uKSk7XG5cbiAgICAgIC8vIOWNuOi9vee7hOS7tlxuICAgICAgdW5tb3VudCgpO1xuXG4gICAgICBleHBlY3QobW9ja1JlbW92ZUV2ZW50TGlzdGVuZXIpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdyZXNpemUnLCBleHBlY3QuYW55KEZ1bmN0aW9uKSk7XG5cbiAgICAgIG1vY2tBZGRFdmVudExpc3RlbmVyLm1vY2tSZXN0b3JlKCk7XG4gICAgICBtb2NrUmVtb3ZlRXZlbnRMaXN0ZW5lci5tb2NrUmVzdG9yZSgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ+W6lOivpeato+ehrua4heeQhuWumuaXtuWZqCcsICgpID0+IHtcbiAgICAgIGplc3QudXNlRmFrZVRpbWVycygpO1xuICAgICAgY29uc3QgbW9ja0NsZWFyVGltZW91dCA9IGplc3Quc3B5T24oZ2xvYmFsLCAnY2xlYXJUaW1lb3V0Jyk7XG5cbiAgICAgIGNvbnN0IENvbXBvbmVudFdpdGhUaW1lciA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgW2NvdW50LCBzZXRDb3VudF0gPSBSZWFjdC51c2VTdGF0ZSgwKTtcblxuICAgICAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRDb3VudCgxKTtcbiAgICAgICAgICB9LCAxMDAwKTtcblxuICAgICAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICB9LCBbXSk7XG5cbiAgICAgICAgcmV0dXJuIDxkaXYgZGF0YS10ZXN0aWQ9XCJ0aW1lci1jb21wb25lbnRcIj57Y291bnR9PC9kaXY+O1xuICAgICAgfTtcblxuICAgICAgY29uc3QgeyB1bm1vdW50IH0gPSByZW5kZXIoXG4gICAgICAgIDxUZXN0V3JhcHBlcj5cbiAgICAgICAgICA8Q29tcG9uZW50V2l0aFRpbWVyIC8+XG4gICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICApO1xuXG4gICAgICAvLyDljbjovb3nu4Tku7ZcbiAgICAgIHVubW91bnQoKTtcblxuICAgICAgZXhwZWN0KG1vY2tDbGVhclRpbWVvdXQpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcblxuICAgICAgamVzdC51c2VSZWFsVGltZXJzKCk7XG4gICAgICBtb2NrQ2xlYXJUaW1lb3V0Lm1vY2tSZXN0b3JlKCk7XG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l6YG/5YWN5YaF5a2Y5rOE5ryPJywgKCkgPT4ge1xuICAgICAgY29uc3QgQ29tcG9uZW50V2l0aFN0YXRlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBbZGF0YSwgc2V0RGF0YV0gPSBSZWFjdC51c2VTdGF0ZTxudW1iZXJbXT4oW10pO1xuXG4gICAgICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgLy8g5qih5ouf5aSn6YeP5pWw5o2uXG4gICAgICAgICAgY29uc3QgbGFyZ2VBcnJheSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwMDAwIH0sIChfLCBpKSA9PiBpKTtcbiAgICAgICAgICBzZXREYXRhKGxhcmdlQXJyYXkpO1xuXG4gICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIC8vIOa4heeQhuaVsOaNrlxuICAgICAgICAgICAgc2V0RGF0YShbXSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSwgW10pO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGRpdiBkYXRhLXRlc3RpZD1cInN0YXRlLWNvbXBvbmVudFwiPlxuICAgICAgICAgICAgRGF0YSBsZW5ndGg6IHtkYXRhLmxlbmd0aH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHsgdW5tb3VudCB9ID0gcmVuZGVyKFxuICAgICAgICA8VGVzdFdyYXBwZXI+XG4gICAgICAgICAgPENvbXBvbmVudFdpdGhTdGF0ZSAvPlxuICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnc3RhdGUtY29tcG9uZW50JykpLnRvSGF2ZVRleHRDb250ZW50KCdEYXRhIGxlbmd0aDogMTAwMDAnKTtcblxuICAgICAgLy8g5Y246L2957uE5Lu25bqU6K+l5riF55CG54q25oCBXG4gICAgICB1bm1vdW50KCk7XG5cbiAgICAgIC8vIOmqjOivgee7hOS7tuW3suWNuOi9vVxuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGVzdElkKCdzdGF0ZS1jb21wb25lbnQnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCflvILmraXliqDovb3mgKfog73mtYvor5UnLCAoKSA9PiB7XG4gICAgaXQoJ+W6lOivpemrmOaViOWkhOeQhuaHkuWKoOi9vee7hOS7ticsIGFzeW5jICgpID0+IHtcbiAgICAgIHBlcmZvcm1hbmNlTW9uaXRvci5zdGFydCgpO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxUZXN0V3JhcHBlcj5cbiAgICAgICAgICA8UmVhY3QuU3VzcGVuc2UgZmFsbGJhY2s9ezxkaXYgZGF0YS10ZXN0aWQ9XCJzdXNwZW5zZS1sb2FkaW5nXCI+TG9hZGluZy4uLjwvZGl2Pn0+XG4gICAgICAgICAgICA8TGF6eUNvbXBvbmVudCAvPlxuICAgICAgICAgIDwvUmVhY3QuU3VzcGVuc2U+XG4gICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICApO1xuXG4gICAgICAvLyDpqozor4FTdXNwZW5zZSBmYWxsYmFja+aYvuekulxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnc3VzcGVuc2UtbG9hZGluZycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuXG4gICAgICAvLyDnrYnlvoXmh5LliqDovb3nu4Tku7bliqDovb1cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdsYXp5LWNvbXBvbmVudCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGxvYWRUaW1lID0gcGVyZm9ybWFuY2VNb25pdG9yLmVuZCgpO1xuXG4gICAgICAvLyDpqozor4HliqDovb3ml7bpl7RcbiAgICAgIGV4cGVjdChsb2FkVGltZSkudG9CZUxlc3NUaGFuKDUwMCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXN0SWQoJ3N1c3BlbnNlLWxvYWRpbmcnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l5LyY5YyW5bm25Y+R6K+35rGCJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0ZldGNoID0gamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PlxuICAgICAgICBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGRhdGE6ICd0ZXN0JyB9KSxcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGdsb2JhbC5mZXRjaCA9IG1vY2tGZXRjaCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPHR5cGVvZiBmZXRjaD47XG5cbiAgICAgIGNvbnN0IENvbmN1cnJlbnRSZXF1ZXN0Q29tcG9uZW50ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBbZGF0YSwgc2V0RGF0YV0gPSBSZWFjdC51c2VTdGF0ZTx1bmtub3duW10+KFtdKTtcbiAgICAgICAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gUmVhY3QudXNlU3RhdGUodHJ1ZSk7XG5cbiAgICAgICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICBjb25zdCBmZXRjaERhdGEgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAvLyDlubblj5Hor7fmsYJcbiAgICAgICAgICAgICAgY29uc3QgcHJvbWlzZXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA1IH0sIChfLCBpKSA9PlxuICAgICAgICAgICAgICAgIGZldGNoKGAvYXBpL2RhdGEvJHtpfWApXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VzID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VzLm1hcChyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgc2V0RGF0YShyZXN1bHRzKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZldGNoIGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBmZXRjaERhdGEoKTtcbiAgICAgICAgfSwgW10pO1xuXG4gICAgICAgIGlmIChsb2FkaW5nKSB7XG4gICAgICAgICAgcmV0dXJuIDxkaXYgZGF0YS10ZXN0aWQ9XCJjb25jdXJyZW50LWxvYWRpbmdcIj5Mb2FkaW5nLi4uPC9kaXY+O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwiY29uY3VycmVudC1kYXRhXCI+XG4gICAgICAgICAgICBEYXRhIGNvdW50OiB7ZGF0YS5sZW5ndGh9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgICB9O1xuXG4gICAgICBwZXJmb3JtYW5jZU1vbml0b3Iuc3RhcnQoKTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8VGVzdFdyYXBwZXI+XG4gICAgICAgICAgPENvbmN1cnJlbnRSZXF1ZXN0Q29tcG9uZW50IC8+XG4gICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnY29uY3VycmVudC1kYXRhJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbG9hZFRpbWUgPSBwZXJmb3JtYW5jZU1vbml0b3IuZW5kKCk7XG5cbiAgICAgIC8vIOmqjOivgeW5tuWPkeivt+axguaAp+iDvVxuICAgICAgZXhwZWN0KGxvYWRUaW1lKS50b0JlTGVzc1RoYW4oMTAwMCk7XG4gICAgICBleHBlY3QobW9ja0ZldGNoKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoNSk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdjb25jdXJyZW50LWRhdGEnKSkudG9IYXZlVGV4dENvbnRlbnQoJ0RhdGEgY291bnQ6IDUnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ+eUqOaIt+S6pOS6kuaAp+iDvea1i+ivlScsICgpID0+IHtcbiAgICBpdCgn5bqU6K+l5b+r6YCf5ZON5bqU55So5oi354K55Ye7JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgY29uc3QgbW9ja0NsaWNrID0gamVzdC5mbigpO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxUZXN0V3JhcHBlcj5cbiAgICAgICAgICA8YnV0dG9uIGRhdGEtdGVzdGlkPVwicGVyZm9ybWFuY2UtYnV0dG9uXCIgb25DbGljaz17bW9ja0NsaWNrfT5cbiAgICAgICAgICAgIENsaWNrIG1lXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICApO1xuXG4gICAgICBwZXJmb3JtYW5jZU1vbml0b3Iuc3RhcnQoKTtcbiAgICAgIFxuICAgICAgYXdhaXQgdXNlci5jbGljayhzY3JlZW4uZ2V0QnlUZXN0SWQoJ3BlcmZvcm1hbmNlLWJ1dHRvbicpKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2VUaW1lID0gcGVyZm9ybWFuY2VNb25pdG9yLmVuZCgpO1xuXG4gICAgICAvLyDpqozor4Hlk43lupTml7bpl7TlsI/kuo4xMDBtc1xuICAgICAgZXhwZWN0KHJlc3BvbnNlVGltZSkudG9CZUxlc3NUaGFuKDEwMCk7XG4gICAgICBleHBlY3QobW9ja0NsaWNrKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l6auY5pWI5aSE55CG6L6T5YWl5LqL5Lu2JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgY29uc3QgbW9ja0NoYW5nZSA9IGplc3QuZm4oKTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8VGVzdFdyYXBwZXI+XG4gICAgICAgICAgPGlucHV0IFxuICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJwZXJmb3JtYW5jZS1pbnB1dFwiXG4gICAgICAgICAgICBvbkNoYW5nZT17bW9ja0NoYW5nZX1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZSBoZXJlLi4uXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgKTtcblxuICAgICAgcGVyZm9ybWFuY2VNb25pdG9yLnN0YXJ0KCk7XG4gICAgICBcbiAgICAgIGF3YWl0IHVzZXIudHlwZShzY3JlZW4uZ2V0QnlUZXN0SWQoJ3BlcmZvcm1hbmNlLWlucHV0JyksICd0ZXN0IGlucHV0Jyk7XG4gICAgICBcbiAgICAgIGNvbnN0IGlucHV0VGltZSA9IHBlcmZvcm1hbmNlTW9uaXRvci5lbmQoKTtcblxuICAgICAgLy8g6aqM6K+B6L6T5YWl5ZON5bqU5pe26Ze0XG4gICAgICBleHBlY3QoaW5wdXRUaW1lKS50b0JlTGVzc1RoYW4oMjAwKTtcbiAgICAgIGV4cGVjdChtb2NrQ2hhbmdlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l5LyY5YyW5rua5Yqo5oCn6IO9JywgKCkgPT4ge1xuICAgICAgY29uc3QgaXRlbXMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMDAwIH0sIChfLCBpKSA9PiBpKTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8VGVzdFdyYXBwZXI+XG4gICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwic2Nyb2xsYWJsZS1jb250YWluZXJcIlxuICAgICAgICAgICAgc3R5bGU9e3sgaGVpZ2h0OiAnNDAwcHgnLCBvdmVyZmxvdzogJ2F1dG8nIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAge2l0ZW1zLm1hcChpdGVtID0+IChcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e2l0ZW19IHN0eWxlPXt7IGhlaWdodDogJzUwcHgnLCBwYWRkaW5nOiAnMTBweCcgfX0+XG4gICAgICAgICAgICAgICAgSXRlbSB7aXRlbX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHNjcmVlbi5nZXRCeVRlc3RJZCgnc2Nyb2xsYWJsZS1jb250YWluZXInKTtcbiAgICAgIFxuICAgICAgcGVyZm9ybWFuY2VNb25pdG9yLnN0YXJ0KCk7XG4gICAgICBcbiAgICAgIC8vIOaooeaLn+a7muWKqFxuICAgICAgY29udGFpbmVyLnNjcm9sbFRvcCA9IDEwMDA7XG4gICAgICBcbiAgICAgIGNvbnN0IHNjcm9sbFRpbWUgPSBwZXJmb3JtYW5jZU1vbml0b3IuZW5kKCk7XG5cbiAgICAgIC8vIOmqjOivgea7muWKqOaAp+iDvVxuICAgICAgZXhwZWN0KHNjcm9sbFRpbWUpLnRvQmVMZXNzVGhhbig1MCk7XG4gICAgICBleHBlY3QoY29udGFpbmVyLnNjcm9sbFRvcCkudG9CZSgxMDAwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ+i1hOa6kOWKoOi9veaAp+iDvea1i+ivlScsICgpID0+IHtcbiAgICBpdCgn5bqU6K+l5LyY5YyW5Zu+54mH5Yqg6L29JywgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0ltYWdlID0ge1xuICAgICAgICBvbmxvYWQ6IG51bGwgYXMgKCgpID0+IHZvaWQpIHwgbnVsbCxcbiAgICAgICAgb25lcnJvcjogbnVsbCBhcyAoKCkgPT4gdm9pZCkgfCBudWxsLFxuICAgICAgICBzcmM6ICcnLFxuICAgICAgfTtcblxuICAgICAgLy8gTW9jayBJbWFnZSBjb25zdHJ1Y3RvclxuICAgICAgZ2xvYmFsLkltYWdlID0gamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiBtb2NrSW1hZ2UpO1xuXG4gICAgICBjb25zdCBJbWFnZUNvbXBvbmVudCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgW2xvYWRlZCwgc2V0TG9hZGVkXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgICAgICAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG5cbiAgICAgICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICBpbWcub25sb2FkID0gKCkgPT4gc2V0TG9hZGVkKHRydWUpO1xuICAgICAgICAgIGltZy5vbmVycm9yID0gKCkgPT4gc2V0RXJyb3IodHJ1ZSk7XG4gICAgICAgICAgaW1nLnNyYyA9ICcvdGVzdC1pbWFnZS5qcGcnO1xuICAgICAgICB9LCBbXSk7XG5cbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIDxkaXYgZGF0YS10ZXN0aWQ9XCJpbWFnZS1lcnJvclwiPkltYWdlIGZhaWxlZCB0byBsb2FkPC9kaXY+O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFsb2FkZWQpIHtcbiAgICAgICAgICByZXR1cm4gPGRpdiBkYXRhLXRlc3RpZD1cImltYWdlLWxvYWRpbmdcIj5Mb2FkaW5nIGltYWdlLi4uPC9kaXY+O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIDxkaXYgZGF0YS10ZXN0aWQ9XCJpbWFnZS1sb2FkZWRcIj5JbWFnZSBsb2FkZWQ8L2Rpdj47XG4gICAgICB9O1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxUZXN0V3JhcHBlcj5cbiAgICAgICAgICA8SW1hZ2VDb21wb25lbnQgLz5cbiAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2ltYWdlLWxvYWRpbmcnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcblxuICAgICAgLy8g5qih5ouf5Zu+54mH5Yqg6L295oiQ5YqfXG4gICAgICBpZiAobW9ja0ltYWdlLm9ubG9hZCkge1xuICAgICAgICBtb2NrSW1hZ2Uub25sb2FkKCk7XG4gICAgICB9XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ2ltYWdlLWxvYWRlZCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ+W6lOivpeWunueOsOi1hOa6kOmihOWKoOi9vScsICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tMaW5rID0ge1xuICAgICAgICByZWw6ICcnLFxuICAgICAgICBocmVmOiAnJyxcbiAgICAgICAgYXM6ICcnLFxuICAgICAgfTtcblxuICAgICAgY29uc3QgbW9ja0NyZWF0ZUVsZW1lbnQgPSBqZXN0LnNweU9uKGRvY3VtZW50LCAnY3JlYXRlRWxlbWVudCcpLm1vY2tJbXBsZW1lbnRhdGlvbigodGFnTmFtZSkgPT4ge1xuICAgICAgICBpZiAodGFnTmFtZSA9PT0gJ2xpbmsnKSB7XG4gICAgICAgICAgcmV0dXJuIG1vY2tMaW5rIGFzIHVua25vd24gYXMgSFRNTExpbmtFbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IG1vY2tBcHBlbmRDaGlsZCA9IGplc3Quc3B5T24oZG9jdW1lbnQuaGVhZCwgJ2FwcGVuZENoaWxkJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IG1vY2tMaW5rIGFzIHVua25vd24gYXMgTm9kZSk7XG5cbiAgICAgIGNvbnN0IFByZWxvYWRDb21wb25lbnQgPSAoKSA9PiB7XG4gICAgICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgLy8g6aKE5Yqg6L295YWz6ZSu6LWE5rqQXG4gICAgICAgICAgY29uc3QgcHJlbG9hZExpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gICAgICAgICAgcHJlbG9hZExpbmsucmVsID0gJ3ByZWxvYWQnO1xuICAgICAgICAgIHByZWxvYWRMaW5rLmhyZWYgPSAnL2NyaXRpY2FsLXJlc291cmNlLmpzJztcbiAgICAgICAgICBwcmVsb2FkTGluay5hcyA9ICdzY3JpcHQnO1xuICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQocHJlbG9hZExpbmspO1xuICAgICAgICB9LCBbXSk7XG5cbiAgICAgICAgcmV0dXJuIDxkaXYgZGF0YS10ZXN0aWQ9XCJwcmVsb2FkLWNvbXBvbmVudFwiPkNvbXBvbmVudCB3aXRoIHByZWxvYWQ8L2Rpdj47XG4gICAgICB9O1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxUZXN0V3JhcHBlcj5cbiAgICAgICAgICA8UHJlbG9hZENvbXBvbmVudCAvPlxuICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KG1vY2tDcmVhdGVFbGVtZW50KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnbGluaycpO1xuICAgICAgZXhwZWN0KG1vY2tBcHBlbmRDaGlsZCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgZXhwZWN0KG1vY2tMaW5rLnJlbCkudG9CZSgncHJlbG9hZCcpO1xuICAgICAgZXhwZWN0KG1vY2tMaW5rLmhyZWYpLnRvQmUoJy9jcml0aWNhbC1yZXNvdXJjZS5qcycpO1xuICAgICAgZXhwZWN0KG1vY2tMaW5rLmFzKS50b0JlKCdzY3JpcHQnKTtcblxuICAgICAgbW9ja0NyZWF0ZUVsZW1lbnQubW9ja1Jlc3RvcmUoKTtcbiAgICAgIG1vY2tBcHBlbmRDaGlsZC5tb2NrUmVzdG9yZSgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQnVuZGxl5aSn5bCP5LyY5YyW5rWL6K+VJywgKCkgPT4ge1xuICAgIGl0KCflupTor6XmlK/mjIHku6PnoIHliIblibInLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBEeW5hbWljSW1wb3J0Q29tcG9uZW50ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBbQ29tcG9uZW50LCBzZXRDb21wb25lbnRdID0gUmVhY3QudXNlU3RhdGU8UmVhY3QuQ29tcG9uZW50VHlwZSB8IG51bGw+KG51bGwpO1xuXG4gICAgICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgLy8g5Yqo5oCB5a+85YWlXG4gICAgICAgICAgaW1wb3J0KCcuL21vY2stbW9kdWxlJykudGhlbigobW9kdWxlKSA9PiB7XG4gICAgICAgICAgICBzZXRDb21wb25lbnQoKCkgPT4gbW9kdWxlLmRlZmF1bHQpO1xuICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgIHNldENvbXBvbmVudCgoKSA9PiAoKSA9PiA8ZGl2PkZhaWxlZCB0byBsb2FkPC9kaXY+KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgW10pO1xuXG4gICAgICAgIGlmICghQ29tcG9uZW50KSB7XG4gICAgICAgICAgcmV0dXJuIDxkaXYgZGF0YS10ZXN0aWQ9XCJkeW5hbWljLWxvYWRpbmdcIj5Mb2FkaW5nIGR5bmFtaWMgY29tcG9uZW50Li4uPC9kaXY+O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIDxDb21wb25lbnQgLz47XG4gICAgICB9O1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxUZXN0V3JhcHBlcj5cbiAgICAgICAgICA8RHluYW1pY0ltcG9ydENvbXBvbmVudCAvPlxuICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnZHluYW1pYy1sb2FkaW5nJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l5LyY5YyW5L6d6LWW5YyF5aSn5bCPJywgKCkgPT4ge1xuICAgICAgLy8g6aqM6K+B5Y+q5a+85YWl6ZyA6KaB55qE5qih5Z2XXG4gICAgICBjb25zdCBtb2NrTG9kYXNoID0ge1xuICAgICAgICBkZWJvdW5jZTogamVzdC5mbigpLFxuICAgICAgICB0aHJvdHRsZTogamVzdC5mbigpLFxuICAgICAgfTtcblxuICAgICAgLy8g5qih5oufdHJlZS1zaGFraW5n5LyY5YyWXG4gICAgICBjb25zdCB7IGRlYm91bmNlIH0gPSBtb2NrTG9kYXNoO1xuICAgICAgXG4gICAgICBjb25zdCBEZWJvdW5jZWRDb21wb25lbnQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gUmVhY3QudXNlU3RhdGUoJycpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZGVib3VuY2VkU2V0VmFsdWUgPSBSZWFjdC51c2VNZW1vKFxuICAgICAgICAgICgpID0+IGRlYm91bmNlKChuZXdWYWx1ZTogc3RyaW5nKSA9PiBzZXRWYWx1ZShuZXdWYWx1ZSksIDMwMCksXG4gICAgICAgICAgW2RlYm91bmNlXVxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGRpdiBkYXRhLXRlc3RpZD1cImRlYm91bmNlZC1jb21wb25lbnRcIj5cbiAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBkZWJvdW5jZWRTZXRWYWx1ZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRGVib3VuY2VkIGlucHV0XCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwiZGVib3VuY2VkLXZhbHVlXCI+e3ZhbHVlfTwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgICAgfTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8VGVzdFdyYXBwZXI+XG4gICAgICAgICAgPERlYm91bmNlZENvbXBvbmVudCAvPlxuICAgICAgICA8L1Rlc3RXcmFwcGVyPlxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnZGVib3VuY2VkLWNvbXBvbmVudCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgLy8g6aqM6K+B5Y+q5L2/55So5LqG6ZyA6KaB55qE5Ye95pWwXG4gICAgICBleHBlY3QoZGVib3VuY2UpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCfnvJPlrZjnrZbnlaXmtYvor5UnLCAoKSA9PiB7XG4gICAgaXQoJ+W6lOivpeWunueOsOe7hOS7tue6p+e8k+WtmCcsICgpID0+IHtcbiAgICAgIGNvbnN0IGV4cGVuc2l2ZUNhbGN1bGF0aW9uID0gamVzdC5mbigobjogbnVtYmVyKSA9PiB7XG4gICAgICAgIC8vIOaooeaLn+aYgui0teiuoeeul1xuICAgICAgICBsZXQgcmVzdWx0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICByZXN1bHQgKz0gaTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IENhY2hlZENvbXBvbmVudDogUmVhY3QuRkM8eyBpbnB1dDogbnVtYmVyIH0+ID0gKHsgaW5wdXQgfSkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBSZWFjdC51c2VNZW1vKCgpID0+IGV4cGVuc2l2ZUNhbGN1bGF0aW9uKGlucHV0KSwgW2lucHV0XSk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwiY2FjaGVkLWNvbXBvbmVudFwiPlxuICAgICAgICAgICAgUmVzdWx0OiB7cmVzdWx0fVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgICAgfTtcblxuICAgICAgQ2FjaGVkQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gJ0NhY2hlZENvbXBvbmVudCc7XG5cbiAgICAgIGNvbnN0IHsgcmVyZW5kZXIgfSA9IHJlbmRlcihcbiAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgIDxDYWNoZWRDb21wb25lbnQgaW5wdXQ9ezEwMDB9IC8+XG4gICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICApO1xuXG4gICAgICBleHBlY3QoZXhwZW5zaXZlQ2FsY3VsYXRpb24pLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcblxuICAgICAgLy8g5L2/55So55u45ZCM6L6T5YWl6YeN5paw5riy5p+TXG4gICAgICByZXJlbmRlcihcbiAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgIDxDYWNoZWRDb21wb25lbnQgaW5wdXQ9ezEwMDB9IC8+XG4gICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICApO1xuXG4gICAgICAvLyDpqozor4HnvJPlrZjnlJ/mlYjvvIzmsqHmnInph43mlrDorqHnrpdcbiAgICAgIGV4cGVjdChleHBlbnNpdmVDYWxjdWxhdGlvbikudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuXG4gICAgICAvLyDkvb/nlKjkuI3lkIzovpPlhaXph43mlrDmuLLmn5NcbiAgICAgIHJlcmVuZGVyKFxuICAgICAgICA8VGVzdFdyYXBwZXI+XG4gICAgICAgICAgPENhY2hlZENvbXBvbmVudCBpbnB1dD17MjAwMH0gLz5cbiAgICAgICAgPC9UZXN0V3JhcHBlcj5cbiAgICAgICk7XG5cbiAgICAgIC8vIOmqjOivgemHjeaWsOiuoeeul1xuICAgICAgZXhwZWN0KGV4cGVuc2l2ZUNhbGN1bGF0aW9uKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMik7XG4gICAgfSk7XG5cbiAgICBpdCgn5bqU6K+l5a6e546w6K+35rGC57yT5a2YJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0ZldGNoID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgZGF0YTogJ2NhY2hlZCBkYXRhJyB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBnbG9iYWwuZmV0Y2ggPSBtb2NrRmV0Y2ggYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjx0eXBlb2YgZmV0Y2g+O1xuXG4gICAgICAvLyDnroDljZXnmoTor7fmsYLnvJPlrZjlrp7njrBcbiAgICAgIGNvbnN0IHJlcXVlc3RDYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCBQcm9taXNlPHVua25vd24+PigpO1xuXG4gICAgICBjb25zdCBjYWNoZWRGZXRjaCA9ICh1cmw6IHN0cmluZykgPT4ge1xuICAgICAgICBpZiAocmVxdWVzdENhY2hlLmhhcyh1cmwpKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcXVlc3RDYWNoZS5nZXQodXJsKSE7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwcm9taXNlID0gZmV0Y2godXJsKS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgIHJlcXVlc3RDYWNoZS5zZXQodXJsLCBwcm9taXNlKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBDYWNoZWRSZXF1ZXN0Q29tcG9uZW50ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBbZGF0YSwgc2V0RGF0YV0gPSBSZWFjdC51c2VTdGF0ZTx1bmtub3duPihudWxsKTtcblxuICAgICAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgIGNhY2hlZEZldGNoKCcvYXBpL2RhdGEnKS50aGVuKHNldERhdGEpO1xuICAgICAgICB9LCBbXSk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwiY2FjaGVkLXJlcXVlc3RcIj5cbiAgICAgICAgICAgIHtkYXRhID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiAnTG9hZGluZy4uLid9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgICB9O1xuXG4gICAgICAvLyDmuLLmn5PnrKzkuIDkuKrnu4Tku7ZcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgIDxDYWNoZWRSZXF1ZXN0Q29tcG9uZW50IC8+XG4gICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnY2FjaGVkLXJlcXVlc3QnKSkudG9IYXZlVGV4dENvbnRlbnQoJ2NhY2hlZCBkYXRhJyk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KG1vY2tGZXRjaCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuXG4gICAgICAvLyDmuLLmn5PnrKzkuozkuKrnm7jlkIznmoTnu4Tku7ZcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPFRlc3RXcmFwcGVyPlxuICAgICAgICAgIDxDYWNoZWRSZXF1ZXN0Q29tcG9uZW50IC8+XG4gICAgICAgIDwvVGVzdFdyYXBwZXI+XG4gICAgICApO1xuXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRBbGxCeVRlc3RJZCgnY2FjaGVkLXJlcXVlc3QnKSkudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIOmqjOivgee8k+WtmOeUn+aViO+8jOayoeacieWPkei1t+aWsOivt+axglxuICAgICAgZXhwZWN0KG1vY2tGZXRjaCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAgIH0pO1xuICB9KTtcbn0pOyJdLCJuYW1lcyI6WyJtb2NrUGVyZm9ybWFuY2UiLCJub3ciLCJqZXN0IiwiZm4iLCJEYXRlIiwibWFyayIsIm1lYXN1cmUiLCJnZXRFbnRyaWVzQnlUeXBlIiwiZ2V0RW50cmllc0J5TmFtZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwid2luZG93IiwidmFsdWUiLCJ3cml0YWJsZSIsImdsb2JhbCIsIlJlc2l6ZU9ic2VydmVyIiwibW9ja0ltcGxlbWVudGF0aW9uIiwib2JzZXJ2ZSIsInVub2JzZXJ2ZSIsImRpc2Nvbm5lY3QiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsIlBlcmZvcm1hbmNlTW9uaXRvciIsInN0YXJ0Iiwic3RhcnRUaW1lIiwicGVyZm9ybWFuY2UiLCJlbmQiLCJlbmRUaW1lIiwiZ2V0RHVyYXRpb24iLCJIZWF2eUNvbXB1dGF0aW9uQ29tcG9uZW50IiwiaXRlbUNvdW50IiwiaXRlbXMiLCJzZXRJdGVtcyIsIlJlYWN0IiwidXNlU3RhdGUiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJ1c2VFZmZlY3QiLCJnZW5lcmF0ZUl0ZW1zIiwibmV3SXRlbXMiLCJBcnJheSIsImZyb20iLCJsZW5ndGgiLCJfIiwiaSIsInRpbWVyIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImRpdiIsImRhdGEtdGVzdGlkIiwibWFwIiwiaXRlbSIsImNsYXNzTmFtZSIsIlZpcnR1YWxpemVkTGlzdCIsIml0ZW1IZWlnaHQiLCJjb250YWluZXJIZWlnaHQiLCJzY3JvbGxUb3AiLCJzZXRTY3JvbGxUb3AiLCJ2aXNpYmxlSXRlbXMiLCJzZXRWaXNpYmxlSXRlbXMiLCJzdGFydEluZGV4IiwiTWF0aCIsImZsb29yIiwiZW5kSW5kZXgiLCJtaW4iLCJjZWlsIiwic2xpY2UiLCJoYW5kbGVTY3JvbGwiLCJlIiwiY3VycmVudFRhcmdldCIsInN0eWxlIiwiaGVpZ2h0Iiwib3ZlcmZsb3ciLCJvblNjcm9sbCIsInBvc2l0aW9uIiwiaW5kZXgiLCJhY3R1YWxJbmRleCIsInRvcCIsIndpZHRoIiwiTWVtb2l6ZWRDb21wb25lbnQiLCJtZW1vIiwiZGF0YSIsIm9uSXRlbUNsaWNrIiwicmVuZGVyQ291bnQiLCJ1c2VSZWYiLCJjdXJyZW50IiwiaWQiLCJvbkNsaWNrIiwibmFtZSIsImRpc3BsYXlOYW1lIiwiTGF6eUNvbXBvbmVudCIsImxhenkiLCJQcm9taXNlIiwicmVzb2x2ZSIsImRlZmF1bHQiLCJUZXN0V3JhcHBlciIsImNoaWxkcmVuIiwiQ29uZmlnUHJvdmlkZXIiLCJsb2NhbGUiLCJ6aENOIiwiZGVzY3JpYmUiLCJwZXJmb3JtYW5jZU1vbml0b3IiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIml0IiwicmVuZGVyIiwicmVuZGVyVGltZSIsImV4cGVjdCIsInRvQmVMZXNzVGhhbiIsInNjcmVlbiIsImdldEJ5VGVzdElkIiwidG9CZUluVGhlRG9jdW1lbnQiLCJ3YWl0Rm9yIiwidG9IYXZlVGV4dENvbnRlbnQiLCJsYXJnZURhdGFzZXQiLCJnZXRBbGxCeVRlc3RJZCIsIm1vY2tEYXRhIiwibW9ja09uQ2xpY2siLCJyZXJlbmRlciIsIm5ld0RhdGEiLCJtb2NrQWRkRXZlbnRMaXN0ZW5lciIsInNweU9uIiwibW9ja1JlbW92ZUV2ZW50TGlzdGVuZXIiLCJDb21wb25lbnRXaXRoRXZlbnRMaXN0ZW5lciIsImhhbmRsZVJlc2l6ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidW5tb3VudCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiYW55IiwiRnVuY3Rpb24iLCJtb2NrUmVzdG9yZSIsInVzZUZha2VUaW1lcnMiLCJtb2NrQ2xlYXJUaW1lb3V0IiwiQ29tcG9uZW50V2l0aFRpbWVyIiwiY291bnQiLCJzZXRDb3VudCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJ1c2VSZWFsVGltZXJzIiwiQ29tcG9uZW50V2l0aFN0YXRlIiwic2V0RGF0YSIsImxhcmdlQXJyYXkiLCJxdWVyeUJ5VGVzdElkIiwibm90IiwiU3VzcGVuc2UiLCJmYWxsYmFjayIsImxvYWRUaW1lIiwibW9ja0ZldGNoIiwianNvbiIsImZldGNoIiwiQ29uY3VycmVudFJlcXVlc3RDb21wb25lbnQiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImZldGNoRGF0YSIsInByb21pc2VzIiwicmVzcG9uc2VzIiwiYWxsIiwicmVzdWx0cyIsInJlc3BvbnNlIiwiZXJyb3IiLCJjb25zb2xlIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwidXNlciIsInVzZXJFdmVudCIsInNldHVwIiwibW9ja0NsaWNrIiwiYnV0dG9uIiwiY2xpY2siLCJyZXNwb25zZVRpbWUiLCJtb2NrQ2hhbmdlIiwiaW5wdXQiLCJvbkNoYW5nZSIsInBsYWNlaG9sZGVyIiwidHlwZSIsImlucHV0VGltZSIsInBhZGRpbmciLCJjb250YWluZXIiLCJzY3JvbGxUaW1lIiwidG9CZSIsIm1vY2tJbWFnZSIsIm9ubG9hZCIsIm9uZXJyb3IiLCJzcmMiLCJJbWFnZSIsIkltYWdlQ29tcG9uZW50IiwibG9hZGVkIiwic2V0TG9hZGVkIiwic2V0RXJyb3IiLCJpbWciLCJtb2NrTGluayIsInJlbCIsImhyZWYiLCJhcyIsIm1vY2tDcmVhdGVFbGVtZW50IiwiZG9jdW1lbnQiLCJ0YWdOYW1lIiwiY3JlYXRlRWxlbWVudCIsIm1vY2tBcHBlbmRDaGlsZCIsImhlYWQiLCJQcmVsb2FkQ29tcG9uZW50IiwicHJlbG9hZExpbmsiLCJhcHBlbmRDaGlsZCIsIkR5bmFtaWNJbXBvcnRDb21wb25lbnQiLCJDb21wb25lbnQiLCJzZXRDb21wb25lbnQiLCJ0aGVuIiwibW9kdWxlIiwiY2F0Y2giLCJtb2NrTG9kYXNoIiwiZGVib3VuY2UiLCJ0aHJvdHRsZSIsIkRlYm91bmNlZENvbXBvbmVudCIsInNldFZhbHVlIiwiZGVib3VuY2VkU2V0VmFsdWUiLCJ1c2VNZW1vIiwibmV3VmFsdWUiLCJ0YXJnZXQiLCJ0b0JlRGVmaW5lZCIsImV4cGVuc2l2ZUNhbGN1bGF0aW9uIiwibiIsInJlc3VsdCIsIkNhY2hlZENvbXBvbmVudCIsIm1vY2tSZXNvbHZlZFZhbHVlIiwicmVxdWVzdENhY2hlIiwiTWFwIiwiY2FjaGVkRmV0Y2giLCJ1cmwiLCJoYXMiLCJnZXQiLCJwcm9taXNlIiwic2V0IiwiQ2FjaGVkUmVxdWVzdENvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b0hhdmVMZW5ndGgiXSwibWFwcGluZ3MiOiJBQUFBOzs7Q0FHQzs7Ozs7OERBRWlCO3dCQUNzQjtrRUFDbEI7c0JBQ1M7OERBQ2Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRWpCLHVCQUF1QjtBQUN2QixNQUFNQSxrQkFBa0I7SUFDdEJDLEtBQUtDLEtBQUtDLEVB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