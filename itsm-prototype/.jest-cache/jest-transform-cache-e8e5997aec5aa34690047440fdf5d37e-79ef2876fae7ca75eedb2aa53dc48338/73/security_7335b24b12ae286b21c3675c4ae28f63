597174ffe9417fb48cefb6f668c8b9f5
// 安全工具库
// XSS防护
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    contentSecurity: function() {
        return contentSecurity;
    },
    csrfProtection: function() {
        return csrfProtection;
    },
    encryption: function() {
        return encryption;
    },
    inputSanitization: function() {
        return inputSanitization;
    },
    networkSecurity: function() {
        return networkSecurity;
    },
    passwordSecurity: function() {
        return passwordSecurity;
    },
    security: function() {
        return security;
    },
    securityConfig: function() {
        return securityConfig;
    },
    securityLogger: function() {
        return securityLogger;
    },
    sessionSecurity: function() {
        return sessionSecurity;
    },
    xssProtection: function() {
        return xssProtection;
    }
});
const xssProtection = {
    // HTML转义
    escapeHtml: (text)=>{
        const map = {
            '&': '&amp;',
            '<': '&lt;',
            '>': '&gt;',
            '"': '&quot;',
            "'": '&#39;',
            '/': '&#x2F;'
        };
        return text.replace(/[&<>"'\/]/g, (s)=>map[s]);
    },
    // HTML反转义
    unescapeHtml: (text)=>{
        const map = {
            '&amp;': '&',
            '&lt;': '<',
            '&gt;': '>',
            '&quot;': '"',
            '&#39;': "'",
            '&#x2F;': '/'
        };
        return text.replace(/&(amp|lt|gt|quot|#39|#x2F);/g, (s)=>map[s]);
    },
    // 清理HTML标签
    stripHtml: (html)=>{
        return html.replace(/<[^>]*>/g, '');
    },
    // 安全的innerHTML设置
    safeInnerHTML: (element, html)=>{
        element.innerHTML = xssProtection.escapeHtml(html);
    }
};
const csrfProtection = {
    // 生成CSRF令牌
    generateToken: ()=>{
        const array = new Uint8Array(32);
        crypto.getRandomValues(array);
        return Array.from(array, (byte)=>byte.toString(16).padStart(2, '0')).join('');
    },
    // 验证CSRF令牌
    validateToken: (token, expectedToken)=>{
        if (!token || !expectedToken) return false;
        return token === expectedToken;
    },
    // 从meta标签获取CSRF令牌
    getTokenFromMeta: ()=>{
        const metaTag = document.querySelector('meta[name="csrf-token"]');
        return metaTag ? metaTag.getAttribute('content') : null;
    }
};
const inputSanitization = {
    // 清理用户输入
    sanitizeInput: (input)=>{
        return input.trim().replace(/[<>"'&]/g, '') // 移除潜在的XSS字符
        .substring(0, 1000); // 限制长度
    },
    // 验证邮箱格式
    isValidEmail: (email)=>{
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email) && email.length <= 254;
    },
    // 验证URL格式
    isValidUrl: (url)=>{
        try {
            const urlObj = new URL(url);
            return [
                'http:',
                'https:'
            ].includes(urlObj.protocol);
        } catch  {
            return false;
        }
    },
    // 验证文件类型
    isValidFileType: (fileName, allowedTypes)=>{
        const extension = fileName.split('.').pop()?.toLowerCase();
        return extension ? allowedTypes.includes(extension) : false;
    },
    // 验证文件大小
    isValidFileSize: (fileSize, maxSizeInMB)=>{
        const maxSizeInBytes = maxSizeInMB * 1024 * 1024;
        return fileSize <= maxSizeInBytes;
    }
};
const passwordSecurity = {
    // 密码强度检查
    checkPasswordStrength: (password)=>{
        const feedback = [];
        let score = 0;
        // 长度检查
        if (password.length >= 8) {
            score += 1;
        } else {
            feedback.push('密码长度至少需要8个字符');
        }
        // 包含小写字母
        if (/[a-z]/.test(password)) {
            score += 1;
        } else {
            feedback.push('密码需要包含小写字母');
        }
        // 包含大写字母
        if (/[A-Z]/.test(password)) {
            score += 1;
        } else {
            feedback.push('密码需要包含大写字母');
        }
        // 包含数字
        if (/\d/.test(password)) {
            score += 1;
        } else {
            feedback.push('密码需要包含数字');
        }
        // 包含特殊字符
        if (/[!@#$%^&*(),.?":{}|<>]/.test(password)) {
            score += 1;
        } else {
            feedback.push('密码需要包含特殊字符');
        }
        // 不包含常见弱密码
        const commonPasswords = [
            '123456',
            'password',
            '123456789',
            'qwerty',
            'abc123'
        ];
        if (commonPasswords.includes(password.toLowerCase())) {
            score = 0;
            feedback.push('请不要使用常见的弱密码');
        }
        return {
            score,
            feedback,
            isStrong: score >= 4
        };
    },
    // 生成随机密码
    generateRandomPassword: (length = 12)=>{
        const charset = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*';
        let password = '';
        for(let i = 0; i < length; i++){
            const randomIndex = Math.floor(Math.random() * charset.length);
            password += charset[randomIndex];
        }
        return password;
    }
};
const sessionSecurity = {
    // 检查会话是否过期
    isSessionExpired: (expirationTime)=>{
        return Date.now() > expirationTime;
    },
    // 生成会话ID
    generateSessionId: ()=>{
        const array = new Uint8Array(16);
        crypto.getRandomValues(array);
        return Array.from(array, (byte)=>byte.toString(16).padStart(2, '0')).join('');
    },
    // 安全的localStorage操作
    // 警告：localStorage不是一个安全的地方来存储敏感信息，例如认证令牌。
    // 任何在同一域名下运行的脚本都可以访问localStorage。
    // 对于敏感数据，请使用HttpOnly cookies。
    secureStorage: {
        setItem: (key, value, expirationMinutes)=>{
            const item = {
                value,
                timestamp: Date.now(),
                expiration: expirationMinutes ? Date.now() + expirationMinutes * 60 * 1000 : null
            };
            localStorage.setItem(key, JSON.stringify(item));
        },
        getItem: (key)=>{
            try {
                const itemStr = localStorage.getItem(key);
                if (!itemStr) return null;
                const item = JSON.parse(itemStr);
                // 检查是否过期
                if (item.expiration && Date.now() > item.expiration) {
                    localStorage.removeItem(key);
                    return null;
                }
                return item.value;
            } catch  {
                return null;
            }
        },
        removeItem: (key)=>{
            localStorage.removeItem(key);
        },
        clear: ()=>{
            localStorage.clear();
        }
    }
};
const contentSecurity = {
    // 验证内容类型
    validateContentType: (contentType, allowedTypes)=>{
        return allowedTypes.some((type)=>contentType.includes(type));
    },
    // 检查恶意脚本
    containsMaliciousScript: (content)=>{
        const maliciousPatterns = [
            /<script[^>]*>.*?<\/script>/gi,
            /javascript:/gi,
            /on\w+\s*=/gi,
            /eval\s*\(/gi,
            /document\.write/gi
        ];
        return maliciousPatterns.some((pattern)=>pattern.test(content));
    },
    // 清理危险内容
    sanitizeContent: (content)=>{
        return content.replace(/<script[^>]*>.*?<\/script>/gi, '').replace(/javascript:/gi, '').replace(/on\w+\s*=/gi, '').replace(/eval\s*\(/gi, '').replace(/document\.write/gi, '');
    }
};
const networkSecurity = {
    // 检查是否为HTTPS
    isHttps: ()=>{
        return window.location.protocol === 'https:';
    },
    // 验证请求来源
    validateOrigin: (origin, allowedOrigins)=>{
        return allowedOrigins.includes(origin);
    },
    // 生成安全的请求头
    getSecureHeaders: (csrfToken)=>{
        const headers = {
            'Content-Type': 'application/json',
            'X-Requested-With': 'XMLHttpRequest'
        };
        if (csrfToken) {
            headers['X-CSRF-Token'] = csrfToken;
        }
        return headers;
    }
};
const encryption = {
    // Base64编码
    base64Encode: (text)=>{
        return btoa(unescape(encodeURIComponent(text)));
    },
    // Base64解码
    base64Decode: (encodedText)=>{
        return decodeURIComponent(escape(atob(encodedText)));
    },
    // 简单的字符串混淆（不是真正的加密）
    obfuscate: (text, key)=>{
        let result = '';
        for(let i = 0; i < text.length; i++){
            const textChar = text.charCodeAt(i);
            const keyChar = key.charCodeAt(i % key.length);
            result += String.fromCharCode(textChar ^ keyChar);
        }
        return encryption.base64Encode(result);
    },
    // 简单的字符串反混淆
    deobfuscate: (obfuscatedText, key)=>{
        const decodedText = encryption.base64Decode(obfuscatedText);
        let result = '';
        for(let i = 0; i < decodedText.length; i++){
            const textChar = decodedText.charCodeAt(i);
            const keyChar = key.charCodeAt(i % key.length);
            result += String.fromCharCode(textChar ^ keyChar);
        }
        return result;
    }
};
const securityConfig = {
    // 默认安全配置
    defaults: {
        maxFileSize: 10,
        allowedFileTypes: [
            'jpg',
            'jpeg',
            'png',
            'gif',
            'pdf',
            'doc',
            'docx'
        ],
        sessionTimeout: 30,
        maxLoginAttempts: 5,
        passwordMinLength: 8,
        csrfTokenExpiry: 60
    },
    // 获取配置值
    get: (key)=>{
        return securityConfig.defaults[key];
    },
    // 设置配置值
    set: (key, value)=>{
        securityConfig.defaults[key] = value;
    }
};
const securityLogger = {
    // 记录安全事件
    logSecurityEvent: (event, details)=>{
        const logEntry = {
            timestamp: new Date().toISOString(),
            event,
            details,
            userAgent: navigator.userAgent,
            url: window.location.href
        };
        // 在开发环境下输出到控制台
        if (process.env.NODE_ENV === 'development') {
            console.warn('[Security Event]', logEntry);
        }
        // 在生产环境下可以发送到安全监控服务
        if (process.env.NODE_ENV === 'production') {
        // TODO: 发送到安全监控服务
        // sendToSecurityService(logEntry);
        }
    },
    // 记录登录尝试
    logLoginAttempt: (success, username)=>{
        securityLogger.logSecurityEvent('login_attempt', {
            success,
            username: username ? `${username.substring(0, 3)}***` : 'unknown'
        });
    },
    // 记录可疑活动
    logSuspiciousActivity: (activity, details)=>{
        securityLogger.logSecurityEvent('suspicious_activity', {
            activity,
            ...details
        });
    }
};
const security = {
    xss: xssProtection,
    csrf: csrfProtection,
    input: inputSanitization,
    password: passwordSecurity,
    session: sessionSecurity,
    content: contentSecurity,
    network: networkSecurity,
    encryption,
    config: securityConfig,
    logger: securityLogger
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZWlkc29mdC9Eb3dubG9hZHMvcmVzZWFyY2gvaXRzbS9pdHNtLXByb3RvdHlwZS9zcmMvbGliL3NlY3VyaXR5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIOWuieWFqOW3peWFt+W6k1xuXG4vLyBYU1PpmLLmiqRcbmV4cG9ydCBjb25zdCB4c3NQcm90ZWN0aW9uID0ge1xuICAvLyBIVE1M6L2s5LmJXG4gIGVzY2FwZUh0bWw6ICh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IG1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgICcmJzogJyZhbXA7JyxcbiAgICAgICc8JzogJyZsdDsnLFxuICAgICAgJz4nOiAnJmd0OycsXG4gICAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICAgIFwiJ1wiOiAnJiMzOTsnLFxuICAgICAgJy8nOiAnJiN4MkY7JyxcbiAgICB9O1xuICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoL1smPD5cIidcXC9dL2csIChzKSA9PiBtYXBbc10pO1xuICB9LFxuXG4gIC8vIEhUTUzlj43ovazkuYlcbiAgdW5lc2NhcGVIdG1sOiAodGV4dDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICBjb25zdCBtYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICAnJmFtcDsnOiAnJicsXG4gICAgICAnJmx0Oyc6ICc8JyxcbiAgICAgICcmZ3Q7JzogJz4nLFxuICAgICAgJyZxdW90Oyc6ICdcIicsXG4gICAgICAnJiMzOTsnOiBcIidcIixcbiAgICAgICcmI3gyRjsnOiAnLycsXG4gICAgfTtcbiAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC8mKGFtcHxsdHxndHxxdW90fCMzOXwjeDJGKTsvZywgKHMpID0+IG1hcFtzXSk7XG4gIH0sXG5cbiAgLy8g5riF55CGSFRNTOagh+etvlxuICBzdHJpcEh0bWw6IChodG1sOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIHJldHVybiBodG1sLnJlcGxhY2UoLzxbXj5dKj4vZywgJycpO1xuICB9LFxuXG4gIC8vIOWuieWFqOeahGlubmVySFRNTOiuvue9rlxuICBzYWZlSW5uZXJIVE1MOiAoZWxlbWVudDogSFRNTEVsZW1lbnQsIGh0bWw6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgIGVsZW1lbnQuaW5uZXJIVE1MID0geHNzUHJvdGVjdGlvbi5lc2NhcGVIdG1sKGh0bWwpO1xuICB9LFxufTtcblxuLy8gQ1NSRumYsuaKpFxuZXhwb3J0IGNvbnN0IGNzcmZQcm90ZWN0aW9uID0ge1xuICAvLyDnlJ/miJBDU1JG5Luk54mMXG4gIGdlbmVyYXRlVG9rZW46ICgpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoMzIpO1xuICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYXJyYXkpO1xuICAgIHJldHVybiBBcnJheS5mcm9tKGFycmF5LCBieXRlID0+IGJ5dGUudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJykpLmpvaW4oJycpO1xuICB9LFxuXG4gIC8vIOmqjOivgUNTUkbku6TniYxcbiAgdmFsaWRhdGVUb2tlbjogKHRva2VuOiBzdHJpbmcsIGV4cGVjdGVkVG9rZW46IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgIGlmICghdG9rZW4gfHwgIWV4cGVjdGVkVG9rZW4pIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdG9rZW4gPT09IGV4cGVjdGVkVG9rZW47XG4gIH0sXG5cbiAgLy8g5LuObWV0Yeagh+etvuiOt+WPlkNTUkbku6TniYxcbiAgZ2V0VG9rZW5Gcm9tTWV0YTogKCk6IHN0cmluZyB8IG51bGwgPT4ge1xuICAgIGNvbnN0IG1ldGFUYWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJjc3JmLXRva2VuXCJdJyk7XG4gICAgcmV0dXJuIG1ldGFUYWcgPyBtZXRhVGFnLmdldEF0dHJpYnV0ZSgnY29udGVudCcpIDogbnVsbDtcbiAgfSxcbn07XG5cbi8vIOi+k+WFpemqjOivgeWSjOa4heeQhlxuZXhwb3J0IGNvbnN0IGlucHV0U2FuaXRpemF0aW9uID0ge1xuICAvLyDmuIXnkIbnlKjmiLfovpPlhaVcbiAgc2FuaXRpemVJbnB1dDogKGlucHV0OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgLnRyaW0oKVxuICAgICAgLnJlcGxhY2UoL1s8PlwiJyZdL2csICcnKSAvLyDnp7vpmaTmvZzlnKjnmoRYU1PlrZfnrKZcbiAgICAgIC5zdWJzdHJpbmcoMCwgMTAwMCk7IC8vIOmZkOWItumVv+W6plxuICB9LFxuXG4gIC8vIOmqjOivgemCrueuseagvOW8j1xuICBpc1ZhbGlkRW1haWw6IChlbWFpbDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgZW1haWxSZWdleCA9IC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvO1xuICAgIHJldHVybiBlbWFpbFJlZ2V4LnRlc3QoZW1haWwpICYmIGVtYWlsLmxlbmd0aCA8PSAyNTQ7XG4gIH0sXG5cbiAgLy8g6aqM6K+BVVJM5qC85byPXG4gIGlzVmFsaWRVcmw6ICh1cmw6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmxPYmogPSBuZXcgVVJMKHVybCk7XG4gICAgICByZXR1cm4gWydodHRwOicsICdodHRwczonXS5pbmNsdWRlcyh1cmxPYmoucHJvdG9jb2wpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcblxuICAvLyDpqozor4Hmlofku7bnsbvlnotcbiAgaXNWYWxpZEZpbGVUeXBlOiAoZmlsZU5hbWU6IHN0cmluZywgYWxsb3dlZFR5cGVzOiBzdHJpbmdbXSk6IGJvb2xlYW4gPT4ge1xuICAgIGNvbnN0IGV4dGVuc2lvbiA9IGZpbGVOYW1lLnNwbGl0KCcuJykucG9wKCk/LnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIGV4dGVuc2lvbiA/IGFsbG93ZWRUeXBlcy5pbmNsdWRlcyhleHRlbnNpb24pIDogZmFsc2U7XG4gIH0sXG5cbiAgLy8g6aqM6K+B5paH5Lu25aSn5bCPXG4gIGlzVmFsaWRGaWxlU2l6ZTogKGZpbGVTaXplOiBudW1iZXIsIG1heFNpemVJbk1COiBudW1iZXIpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCBtYXhTaXplSW5CeXRlcyA9IG1heFNpemVJbk1CICogMTAyNCAqIDEwMjQ7XG4gICAgcmV0dXJuIGZpbGVTaXplIDw9IG1heFNpemVJbkJ5dGVzO1xuICB9LFxufTtcblxuLy8g5a+G56CB5a6J5YWoXG5leHBvcnQgY29uc3QgcGFzc3dvcmRTZWN1cml0eSA9IHtcbiAgLy8g5a+G56CB5by65bqm5qOA5p+lXG4gIGNoZWNrUGFzc3dvcmRTdHJlbmd0aDogKHBhc3N3b3JkOiBzdHJpbmcpOiB7XG4gICAgc2NvcmU6IG51bWJlcjtcbiAgICBmZWVkYmFjazogc3RyaW5nW107XG4gICAgaXNTdHJvbmc6IGJvb2xlYW47XG4gIH0gPT4ge1xuICAgIGNvbnN0IGZlZWRiYWNrOiBzdHJpbmdbXSA9IFtdO1xuICAgIGxldCBzY29yZSA9IDA7XG5cbiAgICAvLyDplb/luqbmo4Dmn6VcbiAgICBpZiAocGFzc3dvcmQubGVuZ3RoID49IDgpIHtcbiAgICAgIHNjb3JlICs9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZlZWRiYWNrLnB1c2goJ+WvhueggemVv+W6puiHs+WwkemcgOimgTjkuKrlrZfnrKYnKTtcbiAgICB9XG5cbiAgICAvLyDljIXlkKvlsI/lhpnlrZfmr41cbiAgICBpZiAoL1thLXpdLy50ZXN0KHBhc3N3b3JkKSkge1xuICAgICAgc2NvcmUgKz0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmVlZGJhY2sucHVzaCgn5a+G56CB6ZyA6KaB5YyF5ZCr5bCP5YaZ5a2X5q+NJyk7XG4gICAgfVxuXG4gICAgLy8g5YyF5ZCr5aSn5YaZ5a2X5q+NXG4gICAgaWYgKC9bQS1aXS8udGVzdChwYXNzd29yZCkpIHtcbiAgICAgIHNjb3JlICs9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZlZWRiYWNrLnB1c2goJ+WvhueggemcgOimgeWMheWQq+Wkp+WGmeWtl+avjScpO1xuICAgIH1cblxuICAgIC8vIOWMheWQq+aVsOWtl1xuICAgIGlmICgvXFxkLy50ZXN0KHBhc3N3b3JkKSkge1xuICAgICAgc2NvcmUgKz0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmVlZGJhY2sucHVzaCgn5a+G56CB6ZyA6KaB5YyF5ZCr5pWw5a2XJyk7XG4gICAgfVxuXG4gICAgLy8g5YyF5ZCr54m55q6K5a2X56ymXG4gICAgaWYgKC9bIUAjJCVeJiooKSwuP1wiOnt9fDw+XS8udGVzdChwYXNzd29yZCkpIHtcbiAgICAgIHNjb3JlICs9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZlZWRiYWNrLnB1c2goJ+WvhueggemcgOimgeWMheWQq+eJueauiuWtl+espicpO1xuICAgIH1cblxuICAgIC8vIOS4jeWMheWQq+W4uOingeW8seWvhueggVxuICAgIGNvbnN0IGNvbW1vblBhc3N3b3JkcyA9IFsnMTIzNDU2JywgJ3Bhc3N3b3JkJywgJzEyMzQ1Njc4OScsICdxd2VydHknLCAnYWJjMTIzJ107XG4gICAgaWYgKGNvbW1vblBhc3N3b3Jkcy5pbmNsdWRlcyhwYXNzd29yZC50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgc2NvcmUgPSAwO1xuICAgICAgZmVlZGJhY2sucHVzaCgn6K+35LiN6KaB5L2/55So5bi46KeB55qE5byx5a+G56CBJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHNjb3JlLFxuICAgICAgZmVlZGJhY2ssXG4gICAgICBpc1N0cm9uZzogc2NvcmUgPj0gNCxcbiAgICB9O1xuICB9LFxuXG4gIC8vIOeUn+aIkOmaj+acuuWvhueggVxuICBnZW5lcmF0ZVJhbmRvbVBhc3N3b3JkOiAobGVuZ3RoID0gMTIpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IGNoYXJzZXQgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWjAxMjM0NTY3ODkhQCMkJV4mKic7XG4gICAgbGV0IHBhc3N3b3JkID0gJyc7XG4gICAgXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjaGFyc2V0Lmxlbmd0aCk7XG4gICAgICBwYXNzd29yZCArPSBjaGFyc2V0W3JhbmRvbUluZGV4XTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHBhc3N3b3JkO1xuICB9LFxufTtcblxuLy8g5Lya6K+d5a6J5YWoXG5leHBvcnQgY29uc3Qgc2Vzc2lvblNlY3VyaXR5ID0ge1xuICAvLyDmo4Dmn6XkvJror53mmK/lkKbov4fmnJ9cbiAgaXNTZXNzaW9uRXhwaXJlZDogKGV4cGlyYXRpb25UaW1lOiBudW1iZXIpOiBib29sZWFuID0+IHtcbiAgICByZXR1cm4gRGF0ZS5ub3coKSA+IGV4cGlyYXRpb25UaW1lO1xuICB9LFxuXG4gIC8vIOeUn+aIkOS8muivnUlEXG4gIGdlbmVyYXRlU2Vzc2lvbklkOiAoKTogc3RyaW5nID0+IHtcbiAgICBjb25zdCBhcnJheSA9IG5ldyBVaW50OEFycmF5KDE2KTtcbiAgICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGFycmF5KTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShhcnJheSwgYnl0ZSA9PiBieXRlLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpKS5qb2luKCcnKTtcbiAgfSxcblxuICAvLyDlronlhajnmoRsb2NhbFN0b3JhZ2Xmk43kvZxcbiAgLy8g6K2m5ZGK77yabG9jYWxTdG9yYWdl5LiN5piv5LiA5Liq5a6J5YWo55qE5Zyw5pa55p2l5a2Y5YKo5pWP5oSf5L+h5oGv77yM5L6L5aaC6K6k6K+B5Luk54mM44CCXG4gIC8vIOS7u+S9leWcqOWQjOS4gOWfn+WQjeS4i+i/kOihjOeahOiEmuacrOmDveWPr+S7peiuv+mXrmxvY2FsU3RvcmFnZeOAglxuICAvLyDlr7nkuo7mlY/mhJ/mlbDmja7vvIzor7fkvb/nlKhIdHRwT25seSBjb29raWVz44CCXG4gIHNlY3VyZVN0b3JhZ2U6IHtcbiAgICBzZXRJdGVtOiAoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIGV4cGlyYXRpb25NaW51dGVzPzogbnVtYmVyKTogdm9pZCA9PiB7XG4gICAgICBjb25zdCBpdGVtID0ge1xuICAgICAgICB2YWx1ZSxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICBleHBpcmF0aW9uOiBleHBpcmF0aW9uTWludXRlcyA/IERhdGUubm93KCkgKyAoZXhwaXJhdGlvbk1pbnV0ZXMgKiA2MCAqIDEwMDApIDogbnVsbCxcbiAgICAgIH07XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KGl0ZW0pKTtcbiAgICB9LFxuXG4gICAgZ2V0SXRlbTogKGtleTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBpdGVtU3RyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgaWYgKCFpdGVtU3RyKSByZXR1cm4gbnVsbDtcblxuICAgICAgICBjb25zdCBpdGVtID0gSlNPTi5wYXJzZShpdGVtU3RyKTtcbiAgICAgICAgXG4gICAgICAgIC8vIOajgOafpeaYr+WQpui/h+acn1xuICAgICAgICBpZiAoaXRlbS5leHBpcmF0aW9uICYmIERhdGUubm93KCkgPiBpdGVtLmV4cGlyYXRpb24pIHtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWU7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlbW92ZUl0ZW06IChrZXk6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICB9LFxuXG4gICAgY2xlYXI6ICgpOiB2b2lkID0+IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpO1xuICAgIH0sXG4gIH0sXG59O1xuXG4vLyDlhoXlrrnlronlhajnrZbnlaVcbmV4cG9ydCBjb25zdCBjb250ZW50U2VjdXJpdHkgPSB7XG4gIC8vIOmqjOivgeWGheWuueexu+Wei1xuICB2YWxpZGF0ZUNvbnRlbnRUeXBlOiAoY29udGVudFR5cGU6IHN0cmluZywgYWxsb3dlZFR5cGVzOiBzdHJpbmdbXSk6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiBhbGxvd2VkVHlwZXMuc29tZSh0eXBlID0+IGNvbnRlbnRUeXBlLmluY2x1ZGVzKHR5cGUpKTtcbiAgfSxcblxuICAvLyDmo4Dmn6XmgbbmhI/ohJrmnKxcbiAgY29udGFpbnNNYWxpY2lvdXNTY3JpcHQ6IChjb250ZW50OiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCBtYWxpY2lvdXNQYXR0ZXJucyA9IFtcbiAgICAgIC88c2NyaXB0W14+XSo+Lio/PFxcL3NjcmlwdD4vZ2ksXG4gICAgICAvamF2YXNjcmlwdDovZ2ksXG4gICAgICAvb25cXHcrXFxzKj0vZ2ksXG4gICAgICAvZXZhbFxccypcXCgvZ2ksXG4gICAgICAvZG9jdW1lbnRcXC53cml0ZS9naSxcbiAgICBdO1xuICAgIFxuICAgIHJldHVybiBtYWxpY2lvdXNQYXR0ZXJucy5zb21lKHBhdHRlcm4gPT4gcGF0dGVybi50ZXN0KGNvbnRlbnQpKTtcbiAgfSxcblxuICAvLyDmuIXnkIbljbHpmanlhoXlrrlcbiAgc2FuaXRpemVDb250ZW50OiAoY29udGVudDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICByZXR1cm4gY29udGVudFxuICAgICAgLnJlcGxhY2UoLzxzY3JpcHRbXj5dKj4uKj88XFwvc2NyaXB0Pi9naSwgJycpXG4gICAgICAucmVwbGFjZSgvamF2YXNjcmlwdDovZ2ksICcnKVxuICAgICAgLnJlcGxhY2UoL29uXFx3K1xccyo9L2dpLCAnJylcbiAgICAgIC5yZXBsYWNlKC9ldmFsXFxzKlxcKC9naSwgJycpXG4gICAgICAucmVwbGFjZSgvZG9jdW1lbnRcXC53cml0ZS9naSwgJycpO1xuICB9LFxufTtcblxuLy8g572R57uc5a6J5YWoXG5leHBvcnQgY29uc3QgbmV0d29ya1NlY3VyaXR5ID0ge1xuICAvLyDmo4Dmn6XmmK/lkKbkuLpIVFRQU1xuICBpc0h0dHBzOiAoKTogYm9vbGVhbiA9PiB7XG4gICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHBzOic7XG4gIH0sXG5cbiAgLy8g6aqM6K+B6K+35rGC5p2l5rqQXG4gIHZhbGlkYXRlT3JpZ2luOiAob3JpZ2luOiBzdHJpbmcsIGFsbG93ZWRPcmlnaW5zOiBzdHJpbmdbXSk6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiBhbGxvd2VkT3JpZ2lucy5pbmNsdWRlcyhvcmlnaW4pO1xuICB9LFxuXG4gIC8vIOeUn+aIkOWuieWFqOeahOivt+axguWktFxuICBnZXRTZWN1cmVIZWFkZXJzOiAoY3NyZlRva2VuPzogc3RyaW5nKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9PiB7XG4gICAgY29uc3QgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAnWC1SZXF1ZXN0ZWQtV2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcsXG4gICAgfTtcblxuICAgIGlmIChjc3JmVG9rZW4pIHtcbiAgICAgIGhlYWRlcnNbJ1gtQ1NSRi1Ub2tlbiddID0gY3NyZlRva2VuO1xuICAgIH1cblxuICAgIHJldHVybiBoZWFkZXJzO1xuICB9LFxufTtcblxuLy8g5pWw5o2u5Yqg5a+G77yI566A5Y2V5a6e546w77yM55Sf5Lqn546v5aKD5bu66K6u5L2/55So5LiT5Lia5Yqg5a+G5bqT77yJXG4vLyDorablkYrvvJrov5nkupvlh73mlbDkuI3mmK/nnJ/mraPnmoTliqDlr4bvvIzkuI3lupTnlKjkuo7mlY/mhJ/mlbDmja7jgIJcbmV4cG9ydCBjb25zdCBlbmNyeXB0aW9uID0ge1xuICAvLyBCYXNlNjTnvJbnoIFcbiAgYmFzZTY0RW5jb2RlOiAodGV4dDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICByZXR1cm4gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQodGV4dCkpKTtcbiAgfSxcblxuICAvLyBCYXNlNjTop6PnoIFcbiAgYmFzZTY0RGVjb2RlOiAoZW5jb2RlZFRleHQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoYXRvYihlbmNvZGVkVGV4dCkpKTtcbiAgfSxcblxuICAvLyDnroDljZXnmoTlrZfnrKbkuLLmt7fmt4bvvIjkuI3mmK/nnJ/mraPnmoTliqDlr4bvvIlcbiAgb2JmdXNjYXRlOiAodGV4dDogc3RyaW5nLCBrZXk6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgbGV0IHJlc3VsdCA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdGV4dENoYXIgPSB0ZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgICBjb25zdCBrZXlDaGFyID0ga2V5LmNoYXJDb2RlQXQoaSAlIGtleS5sZW5ndGgpO1xuICAgICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUodGV4dENoYXIgXiBrZXlDaGFyKTtcbiAgICB9XG4gICAgcmV0dXJuIGVuY3J5cHRpb24uYmFzZTY0RW5jb2RlKHJlc3VsdCk7XG4gIH0sXG5cbiAgLy8g566A5Y2V55qE5a2X56ym5Liy5Y+N5re35reGXG4gIGRlb2JmdXNjYXRlOiAob2JmdXNjYXRlZFRleHQ6IHN0cmluZywga2V5OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IGRlY29kZWRUZXh0ID0gZW5jcnlwdGlvbi5iYXNlNjREZWNvZGUob2JmdXNjYXRlZFRleHQpO1xuICAgIGxldCByZXN1bHQgPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlY29kZWRUZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB0ZXh0Q2hhciA9IGRlY29kZWRUZXh0LmNoYXJDb2RlQXQoaSk7XG4gICAgICBjb25zdCBrZXlDaGFyID0ga2V5LmNoYXJDb2RlQXQoaSAlIGtleS5sZW5ndGgpO1xuICAgICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUodGV4dENoYXIgXiBrZXlDaGFyKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcbn07XG5cbi8vIOWuieWFqOmFjee9ruexu+Wei+WumuS5iVxuaW50ZXJmYWNlIFNlY3VyaXR5RGVmYXVsdHMge1xuICBtYXhGaWxlU2l6ZTogbnVtYmVyO1xuICBhbGxvd2VkRmlsZVR5cGVzOiBzdHJpbmdbXTtcbiAgc2Vzc2lvblRpbWVvdXQ6IG51bWJlcjtcbiAgbWF4TG9naW5BdHRlbXB0czogbnVtYmVyO1xuICBwYXNzd29yZE1pbkxlbmd0aDogbnVtYmVyO1xuICBjc3JmVG9rZW5FeHBpcnk6IG51bWJlcjtcbn1cblxuLy8g5a6J5YWo6YWN572uXG5leHBvcnQgY29uc3Qgc2VjdXJpdHlDb25maWc6IHtcbiAgZGVmYXVsdHM6IFNlY3VyaXR5RGVmYXVsdHM7XG4gIGdldDogKGtleToga2V5b2YgU2VjdXJpdHlEZWZhdWx0cykgPT4gbnVtYmVyIHwgc3RyaW5nW107XG4gIHNldDogKGtleToga2V5b2YgU2VjdXJpdHlEZWZhdWx0cywgdmFsdWU6IG51bWJlciB8IHN0cmluZ1tdKSA9PiB2b2lkO1xufSA9IHtcbiAgLy8g6buY6K6k5a6J5YWo6YWN572uXG4gIGRlZmF1bHRzOiB7XG4gICAgbWF4RmlsZVNpemU6IDEwLCAvLyBNQlxuICAgIGFsbG93ZWRGaWxlVHlwZXM6IFsnanBnJywgJ2pwZWcnLCAncG5nJywgJ2dpZicsICdwZGYnLCAnZG9jJywgJ2RvY3gnXSxcbiAgICBzZXNzaW9uVGltZW91dDogMzAsIC8vIOWIhumSn1xuICAgIG1heExvZ2luQXR0ZW1wdHM6IDUsXG4gICAgcGFzc3dvcmRNaW5MZW5ndGg6IDgsXG4gICAgY3NyZlRva2VuRXhwaXJ5OiA2MCwgLy8g5YiG6ZKfXG4gIH0sXG5cbiAgLy8g6I635Y+W6YWN572u5YC8XG4gIGdldDogKGtleToga2V5b2YgU2VjdXJpdHlEZWZhdWx0cykgPT4ge1xuICAgIHJldHVybiBzZWN1cml0eUNvbmZpZy5kZWZhdWx0c1trZXldO1xuICB9LFxuXG4gIC8vIOiuvue9rumFjee9ruWAvFxuICBzZXQ6IChrZXk6IGtleW9mIFNlY3VyaXR5RGVmYXVsdHMsIHZhbHVlOiBudW1iZXIgfCBzdHJpbmdbXSkgPT4ge1xuICAgIChzZWN1cml0eUNvbmZpZy5kZWZhdWx0cyBhcyB1bmtub3duIGFzIFJlY29yZDxzdHJpbmcsIG51bWJlciB8IHN0cmluZ1tdPilba2V5XSA9IHZhbHVlO1xuICB9LFxufVxuXG4vLyDlronlhajkuovku7bml6Xlv5dcbmV4cG9ydCBjb25zdCBzZWN1cml0eUxvZ2dlciA9IHtcbiAgLy8g6K6w5b2V5a6J5YWo5LqL5Lu2XG4gIGxvZ1NlY3VyaXR5RXZlbnQ6IChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPik6IHZvaWQgPT4ge1xuICAgIGNvbnN0IGxvZ0VudHJ5ID0ge1xuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBldmVudCxcbiAgICAgIGRldGFpbHMsXG4gICAgICB1c2VyQWdlbnQ6IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxuICAgIH07XG5cbiAgICAvLyDlnKjlvIDlj5Hnjq/looPkuIvovpPlh7rliLDmjqfliLblj7BcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICAgIGNvbnNvbGUud2FybignW1NlY3VyaXR5IEV2ZW50XScsIGxvZ0VudHJ5KTtcbiAgICB9XG5cbiAgICAvLyDlnKjnlJ/kuqfnjq/looPkuIvlj6/ku6Xlj5HpgIHliLDlronlhajnm5HmjqfmnI3liqFcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgLy8gVE9ETzog5Y+R6YCB5Yiw5a6J5YWo55uR5o6n5pyN5YqhXG4gICAgICAvLyBzZW5kVG9TZWN1cml0eVNlcnZpY2UobG9nRW50cnkpO1xuICAgIH1cbiAgfSxcblxuICAvLyDorrDlvZXnmbvlvZXlsJ3or5VcbiAgbG9nTG9naW5BdHRlbXB0OiAoc3VjY2VzczogYm9vbGVhbiwgdXNlcm5hbWU/OiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICBzZWN1cml0eUxvZ2dlci5sb2dTZWN1cml0eUV2ZW50KCdsb2dpbl9hdHRlbXB0Jywge1xuICAgICAgc3VjY2VzcyxcbiAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSA/IGAke3VzZXJuYW1lLnN1YnN0cmluZygwLCAzKX0qKipgIDogJ3Vua25vd24nLFxuICAgIH0pO1xuICB9LFxuXG4gIC8vIOiusOW9leWPr+eWkea0u+WKqFxuICBsb2dTdXNwaWNpb3VzQWN0aXZpdHk6IChhY3Rpdml0eTogc3RyaW5nLCBkZXRhaWxzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPik6IHZvaWQgPT4ge1xuICAgIHNlY3VyaXR5TG9nZ2VyLmxvZ1NlY3VyaXR5RXZlbnQoJ3N1c3BpY2lvdXNfYWN0aXZpdHknLCB7XG4gICAgICBhY3Rpdml0eSxcbiAgICAgIC4uLmRldGFpbHMsXG4gICAgfSk7XG4gIH0sXG59O1xuXG4vLyDlr7zlh7rmiYDmnInlronlhajlt6XlhbdcbmV4cG9ydCBjb25zdCBzZWN1cml0eSA9IHtcbiAgeHNzOiB4c3NQcm90ZWN0aW9uLFxuICBjc3JmOiBjc3JmUHJvdGVjdGlvbixcbiAgaW5wdXQ6IGlucHV0U2FuaXRpemF0aW9uLFxuICBwYXNzd29yZDogcGFzc3dvcmRTZWN1cml0eSxcbiAgc2Vzc2lvbjogc2Vzc2lvblNlY3VyaXR5LFxuICBjb250ZW50OiBjb250ZW50U2VjdXJpdHksXG4gIG5ldHdvcms6IG5ldHdvcmtTZWN1cml0eSxcbiAgZW5jcnlwdGlvbixcbiAgY29uZmlnOiBzZWN1cml0eUNvbmZpZyxcbiAgbG9nZ2VyOiBzZWN1cml0eUxvZ2dlcixcbn07Il0sIm5hbWVzIjpbImNvbnRlbnRTZWN1cml0eSIsImNzcmZQcm90ZWN0aW9uIiwiZW5jcnlwdGlvbiIsImlucHV0U2FuaXRpemF0aW9uIiwibmV0d29ya1NlY3VyaXR5IiwicGFzc3dvcmRTZWN1cml0eSIsInNlY3VyaXR5Iiwic2VjdXJpdHlDb25maWciLCJzZWN1cml0eUxvZ2dlciIsInNlc3Npb25TZWN1cml0eSIsInhzc1Byb3RlY3Rpb24iLCJlc2NhcGVIdG1sIiwidGV4dCIsIm1hcCIsInJlcGxhY2UiLCJzIiwidW5lc2NhcGVIdG1sIiwic3RyaXBIdG1sIiwiaHRtbCIsInNhZmVJbm5lckhUTUwiLCJlbGVtZW50IiwiaW5uZXJIVE1MIiwiZ2VuZXJhdGVUb2tlbiIsImFycmF5IiwiVWludDhBcnJheSIsImNyeXB0byIsImdldFJhbmRvbVZhbHVlcyIsIkFycmF5IiwiZnJvbSIsImJ5dGUiLCJ0b1N0cmluZyIsInBhZFN0YXJ0Iiwiam9pbiIsInZhbGlkYXRlVG9rZW4iLCJ0b2tlbiIsImV4cGVjdGVkVG9rZW4iLCJnZXRUb2tlbkZyb21NZXRhIiwibWV0YVRhZyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImdldEF0dHJpYnV0ZSIsInNhbml0aXplSW5wdXQiLCJpbnB1dCIsInRyaW0iLCJzdWJzdHJpbmciLCJpc1ZhbGlkRW1haWwiLCJlbWFpbCIsImVtYWlsUmVnZXgiLCJ0ZXN0IiwibGVuZ3RoIiwiaXNWYWxpZFVybCIsInVybCIsInVybE9iaiIsIlVSTCIsImluY2x1ZGVzIiwicHJvdG9jb2wiLCJpc1ZhbGlkRmlsZVR5cGUiLCJmaWxlTmFtZSIsImFsbG93ZWRUeXBlcyIsImV4dGVuc2lvbiIsInNwbGl0IiwicG9wIiwidG9Mb3dlckNhc2UiLCJpc1ZhbGlkRmlsZVNpemUiLCJmaWxlU2l6ZSIsIm1heFNpemVJbk1CIiwibWF4U2l6ZUluQnl0ZXMiLCJjaGVja1Bhc3N3b3JkU3RyZW5ndGgiLCJwYXNzd29yZCIsImZlZWRiYWNrIiwic2NvcmUiLCJwdXNoIiwiY29tbW9uUGFzc3dvcmRzIiwiaXNTdHJvbmciLCJnZW5lcmF0ZVJhbmRvbVBhc3N3b3JkIiwiY2hhcnNldCIsImkiLCJyYW5kb21JbmRleCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImlzU2Vzc2lvbkV4cGlyZWQiLCJleHBpcmF0aW9uVGltZSIsIkRhdGUiLCJub3ciLCJnZW5lcmF0ZVNlc3Npb25JZCIsInNlY3VyZVN0b3JhZ2UiLCJzZXRJdGVtIiwia2V5IiwidmFsdWUiLCJleHBpcmF0aW9uTWludXRlcyIsIml0ZW0iLCJ0aW1lc3RhbXAiLCJleHBpcmF0aW9uIiwibG9jYWxTdG9yYWdlIiwiSlNPTiIsInN0cmluZ2lmeSIsImdldEl0ZW0iLCJpdGVtU3RyIiwicGFyc2UiLCJyZW1vdmVJdGVtIiwiY2xlYXIiLCJ2YWxpZGF0ZUNvbnRlbnRUeXBlIiwiY29udGVudFR5cGUiLCJzb21lIiwidHlwZSIsImNvbnRhaW5zTWFsaWNpb3VzU2NyaXB0IiwiY29udGVudCIsIm1hbGljaW91c1BhdHRlcm5zIiwicGF0dGVybiIsInNhbml0aXplQ29udGVudCIsImlzSHR0cHMiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInZhbGlkYXRlT3JpZ2luIiwib3JpZ2luIiwiYWxsb3dlZE9yaWdpbnMiLCJnZXRTZWN1cmVIZWFkZXJzIiwiY3NyZlRva2VuIiwiaGVhZGVycyIsImJhc2U2NEVuY29kZSIsImJ0b2EiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImJhc2U2NERlY29kZSIsImVuY29kZWRUZXh0IiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZXNjYXBlIiwiYXRvYiIsIm9iZnVzY2F0ZSIsInJlc3VsdCIsInRleHRDaGFyIiwiY2hhckNvZGVBdCIsImtleUNoYXIiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJkZW9iZnVzY2F0ZSIsIm9iZnVzY2F0ZWRUZXh0IiwiZGVjb2RlZFRleHQiLCJkZWZhdWx0cyIsIm1heEZpbGVTaXplIiwiYWxsb3dlZEZpbGVUeXBlcyIsInNlc3Npb25UaW1lb3V0IiwibWF4TG9naW5BdHRlbXB0cyIsInBhc3N3b3JkTWluTGVuZ3RoIiwiY3NyZlRva2VuRXhwaXJ5IiwiZ2V0Iiwic2V0IiwibG9nU2VjdXJpdHlFdmVudCIsImV2ZW50IiwiZGV0YWlscyIsImxvZ0VudHJ5IiwidG9JU09TdHJpbmciLCJ1c2VyQWdlbnQiLCJuYXZpZ2F0b3IiLCJocmVmIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiY29uc29sZSIsIndhcm4iLCJsb2dMb2dpbkF0dGVtcHQiLCJzdWNjZXNzIiwidXNlcm5hbWUiLCJsb2dTdXNwaWNpb3VzQWN0aXZpdHkiLCJhY3Rpdml0eSIsInhzcyIsImNzcmYiLCJzZXNzaW9uIiwibmV0d29yayIsImNvbmZpZyIsImxvZ2dlciJdLCJtYXBwaW5ncyI6IkFBQUEsUUFBUTtBQUVSLFFBQVE7Ozs7Ozs7Ozs7OztJQXdPS0EsZUFBZTtlQUFmQTs7SUFoTUFDLGNBQWM7ZUFBZEE7O0lBMlBBQyxVQUFVO2VBQVZBOztJQXJPQUMsaUJBQWlCO2VBQWpCQTs7SUF5TUFDLGVBQWU7ZUFBZkE7O0lBbEtBQyxnQkFBZ0I7ZUFBaEJBOztJQWdUQUMsUUFBUTtlQUFSQTs7SUFwRUFDLGNBQWM7ZUFBZEE7O0lBMkJBQyxjQUFjO2VBQWRBOztJQTdMQUMsZUFBZTtlQUFmQTs7SUE5S0FDLGFBQWE7ZUFBYkE7OztBQUFOLE1BQU1BLGdCQUFnQjtJQUMzQixTQUFTO0lBQ1RDLFlBQVksQ0FBQ0M7UUFDWCxNQUFNQyxNQUE4QjtZQUNsQyxLQUFLO1lBQ0wsS0FBSztZQUNMLEtBQUs7WUFDTCxLQUFLO1lBQ0wsS0FBSztZQUNMLEtBQUs7UUFDUDtRQUNBLE9BQU9ELEtBQUtFLE9BQU8sQ0FBQyxjQUFjLENBQUNDLElBQU1G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