{"version":3,"names":["TicketCollaboration","TextArea","cov_1xqdu8ol3v","s","_antd","Input","Text","Typography","ticket","collaborators","b","messages","onSendMessage","onTyping","canCollaborate","f","message","antMessage","App","useApp","newMessage","setNewMessage","_react","useState","isTyping","setIsTyping","onlineUsers","setOnlineUsers","typingTimeoutRef","useRef","messagesEndRef","useEffect","filter","c","isOnline","current","scrollIntoView","behavior","handleInputChange","useCallback","value","length","clearTimeout","setTimeout","handleSendMessage","trim","error","console","getMessageIcon","type","_jsxruntime","jsxs","className","jsx","Card","size","title","Space","wrap","map","user","Tooltip","name","Badge","dot","status","offset","Avatar","src","avatar","icon","_icons","UserOutlined","id","MessageOutlined","count","showZero","bodyStyle","maxHeight","overflowY","List","dataSource","renderItem","Item","user_avatar","user_name","strong","_datefns","formatDistanceToNow","Date","created_at","addSuffix","locale","_locale","zhCN","content","ref","direction","onChange","e","target","onPressEnter","shiftKey","preventDefault","placeholder","rows","maxLength","showCount","Button","SendOutlined","onClick","disabled"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/components/business/TicketCollaboration.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport {\n  Card,\n  Input,\n  Button,\n  List,\n  Avatar,\n  Badge,\n  Space,\n  Typography,\n  message,\n  App,\n  Tooltip,\n} from 'antd';\nimport {\n  SendOutlined,\n  UserOutlined,\n  EyeOutlined,\n  MessageOutlined,\n} from '@ant-design/icons';\nimport { Ticket } from '@/lib/services/ticket-service';\nimport { formatDistanceToNow } from 'date-fns';\nimport { zhCN } from 'date-fns/locale';\n\nconst { TextArea } = Input;\nconst { Text } = Typography;\n\ninterface Collaborator {\n  id: number;\n  name: string;\n  avatar?: string;\n  isOnline: boolean;\n  lastSeen?: string;\n}\n\ninterface CollaborationMessage {\n  id: string;\n  user_id: number;\n  user_name: string;\n  user_avatar?: string;\n  content: string;\n  type: 'comment' | 'status_change' | 'assignment' | 'system';\n  created_at: string;\n}\n\ninterface TicketCollaborationProps {\n  ticket: Ticket;\n  collaborators?: Collaborator[];\n  messages?: CollaborationMessage[];\n  onSendMessage?: (content: string) => Promise<void>;\n  onTyping?: (isTyping: boolean) => void;\n  canCollaborate?: boolean;\n}\n\nexport const TicketCollaboration: React.FC<TicketCollaborationProps> = ({\n  ticket,\n  collaborators = [],\n  messages = [],\n  onSendMessage,\n  onTyping,\n  canCollaborate = true,\n}) => {\n  const { message: antMessage } = App.useApp();\n  const [newMessage, setNewMessage] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const [onlineUsers, setOnlineUsers] = useState<Collaborator[]>([]);\n  const typingTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  // Ê®°ÊãüÂú®Á∫øÁî®Êà∑ÔºàÂÆûÈôÖÂ∫îËØ•‰ªéWebSocketËé∑ÂèñÔºâ\n  useEffect(() => {\n    // TODO: ‰ªéWebSocketËé∑ÂèñÂú®Á∫øÁî®Êà∑ÂàóË°®\n    setOnlineUsers(collaborators.filter(c => c.isOnline));\n  }, [collaborators]);\n\n  // ÊªöÂä®Âà∞Â∫ïÈÉ®\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  // Â§ÑÁêÜËæìÂÖ•ÂèòÂåñÔºàÊâìÂ≠óÊåáÁ§∫Ôºâ\n  const handleInputChange = useCallback(\n    (value: string) => {\n      setNewMessage(value);\n      \n      if (!isTyping && value.length > 0) {\n        setIsTyping(true);\n        onTyping?.(true);\n      }\n\n      // Ê∏ÖÈô§‰πãÂâçÁöÑÂÆöÊó∂Âô®\n      if (typingTimeoutRef.current) {\n        clearTimeout(typingTimeoutRef.current);\n      }\n\n      // ËÆæÁΩÆÊñ∞ÁöÑÂÆöÊó∂Âô®\n      typingTimeoutRef.current = setTimeout(() => {\n        setIsTyping(false);\n        onTyping?.(false);\n        if (typingTimeoutRef.current) {\n          clearTimeout(typingTimeoutRef.current);\n        }\n      }, 2000);\n    },\n    [isTyping, onTyping]\n  );\n\n  // ÂèëÈÄÅÊ∂àÊÅØ\n  const handleSendMessage = useCallback(async () => {\n    if (!newMessage.trim() || !canCollaborate) {\n      return;\n    }\n\n    try {\n      await onSendMessage?.(newMessage);\n      setNewMessage('');\n      setIsTyping(false);\n      onTyping?.(false);\n    } catch (error) {\n      console.error('Failed to send message:', error);\n      antMessage.error('ÂèëÈÄÅÊ∂àÊÅØÂ§±Ë¥•');\n    }\n  }, [newMessage, onSendMessage, onTyping, canCollaborate, antMessage]);\n\n  // Ëé∑ÂèñÊ∂àÊÅØÂõæÊ†á\n  const getMessageIcon = (type: string) => {\n    switch (type) {\n      case 'status_change':\n        return 'üîÑ';\n      case 'assignment':\n        return 'üë§';\n      case 'system':\n        return '‚ÑπÔ∏è';\n      default:\n        return 'üí¨';\n    }\n  };\n\n  return (\n    <div className='space-y-4'>\n      {/* Âú®Á∫øÂçè‰ΩúËÄÖ */}\n      {onlineUsers.length > 0 && (\n        <Card size='small' title='Âú®Á∫øÂçè‰ΩúËÄÖ'>\n          <Space wrap>\n            {onlineUsers.map(user => (\n              <Tooltip key={user.id} title={user.name}>\n                <Badge dot status='success' offset={[-2, 2]}>\n                  <Avatar size='small' src={user.avatar} icon={<UserOutlined />}>\n                    {user.name?.[0]}\n                  </Avatar>\n                </Badge>\n              </Tooltip>\n            ))}\n          </Space>\n        </Card>\n      )}\n\n      {/* Âçè‰ΩúÊ∂àÊÅØÂàóË°® */}\n      <Card\n        title={\n          <div className='flex items-center gap-2'>\n            <MessageOutlined />\n            <span>ÂÆûÊó∂Âçè‰Ωú</span>\n            {messages.length > 0 && (\n              <Badge count={messages.length} showZero className='ml-2' />\n            )}\n          </div>\n        }\n        className='flex-1'\n        bodyStyle={{ maxHeight: '500px', overflowY: 'auto' }}\n      >\n        {messages.length > 0 ? (\n          <List\n            dataSource={messages}\n            renderItem={message => (\n              <List.Item className='!px-0 !py-2 border-b border-gray-100 last:border-0'>\n                <div className='flex items-start gap-3 w-full'>\n                  <Avatar size='small' src={message.user_avatar} icon={<UserOutlined />}>\n                    {message.user_name?.[0]}\n                  </Avatar>\n                  <div className='flex-1'>\n                    <div className='flex items-center gap-2 mb-1'>\n                      <Text strong className='text-sm'>\n                        {message.user_name}\n                      </Text>\n                      <Text type='secondary' className='text-xs'>\n                        {getMessageIcon(message.type)}\n                      </Text>\n                      <Text type='secondary' className='text-xs'>\n                        {formatDistanceToNow(new Date(message.created_at), {\n                          addSuffix: true,\n                          locale: zhCN,\n                        })}\n                      </Text>\n                    </div>\n                    <div className='text-sm text-gray-700 whitespace-pre-wrap'>\n                      {message.content}\n                    </div>\n                  </div>\n                </div>\n              </List.Item>\n            )}\n          />\n        ) : (\n          <div className='text-center py-8 text-gray-500'>\n            <MessageOutlined className='text-4xl mb-2 text-gray-300' />\n            <div>ÊöÇÊó†Âçè‰ΩúÊ∂àÊÅØ</div>\n          </div>\n        )}\n        <div ref={messagesEndRef} />\n      </Card>\n\n      {/* Ê∂àÊÅØËæìÂÖ•Ê°Ü */}\n      {canCollaborate && (\n        <Card size='small'>\n          <Space direction='vertical' className='w-full' size='small'>\n            <TextArea\n              value={newMessage}\n              onChange={e => handleInputChange(e.target.value)}\n              onPressEnter={e => {\n                if (e.shiftKey) {\n                  return; // Shift+EnterÊç¢Ë°å\n                }\n                e.preventDefault();\n                handleSendMessage();\n              }}\n              placeholder='ËæìÂÖ•Âçè‰ΩúÊ∂àÊÅØ...ÔºàEnterÂèëÈÄÅÔºåShift+EnterÊç¢Ë°åÔºâ'\n              rows={3}\n              maxLength={500}\n              showCount\n            />\n            <div className='flex items-center justify-between'>\n              <Text type='secondary' className='text-xs'>\n                {isTyping && 'Ê≠£Âú®ËæìÂÖ•...'}\n              </Text>\n              <Button\n                type='primary'\n                icon={<SendOutlined />}\n                onClick={handleSendMessage}\n                disabled={!newMessage.trim()}\n              >\n                ÂèëÈÄÅ\n              </Button>\n            </div>\n          </Space>\n        </Card>\n      )}\n    </div>\n  );\n};\n\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}