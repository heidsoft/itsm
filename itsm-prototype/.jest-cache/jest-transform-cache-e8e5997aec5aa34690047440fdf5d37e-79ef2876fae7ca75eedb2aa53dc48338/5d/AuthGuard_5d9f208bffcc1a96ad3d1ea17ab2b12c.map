{"version":3,"names":["cov_9uuofm8rx","actualCoverage","s","AuthGuard","f","PermissionGuard","RoleGuard","children","requireAuth","b","requiredPermissions","requiredRole","fallback","redirectTo","router","_navigation","useRouter","isAuthenticated","user","isLoading","hasPermission","hasRole","_authstore","useAuthStore","isInitializing","setIsInitializing","_react","useState","useEffect","initializeAuth","_authservice","AuthService","initialize","error","console","_jsxruntime","jsx","className","_LoadingSpinner","LoadingSpinner","size","Fragment","push","jsxs","onClick","back","length","hasAllPermissions","every","permission","permissions","role","requireAll","checkPermissions","some","roles","checkRoles"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/components/auth/AuthGuard.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuthStore } from '@/lib/store/auth-store';\nimport { AuthService } from '@/lib/auth/auth-service';\nimport { LoadingSpinner } from '@/components/ui/LoadingSpinner';\n\ninterface AuthGuardProps {\n  children: React.ReactNode;\n  requireAuth?: boolean;\n  requiredPermissions?: string[];\n  requiredRole?: string;\n  fallback?: React.ReactNode;\n  redirectTo?: string;\n}\n\n/**\n * 认证守卫组件\n * 用于保护需要认证的页面和组件\n */\nexport const AuthGuard: React.FC<AuthGuardProps> = ({\n  children,\n  requireAuth = true,\n  requiredPermissions = [],\n  requiredRole,\n  fallback,\n  redirectTo = '/login',\n}) => {\n  const router = useRouter();\n  const { isAuthenticated, user, isLoading, hasPermission, hasRole } = useAuthStore();\n  const [isInitializing, setIsInitializing] = useState(true);\n\n  useEffect(() => {\n    const initializeAuth = async () => {\n      try {\n        // 如果已经认证，跳过初始化\n        if (isAuthenticated && user) {\n          setIsInitializing(false);\n          return;\n        }\n\n        // 尝试从本地存储恢复认证状态\n        await AuthService.initialize();\n      } catch (error) {\n        console.error('Auth initialization failed:', error);\n      } finally {\n        setIsInitializing(false);\n      }\n    };\n\n    initializeAuth();\n  }, [isAuthenticated, user]);\n\n  // 正在初始化或加载中\n  if (isInitializing || isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <LoadingSpinner size=\"lg\" />\n      </div>\n    );\n  }\n\n  // 不需要认证，直接渲染子组件\n  if (!requireAuth) {\n    return <>{children}</>;\n  }\n\n  // 需要认证但未登录\n  if (!isAuthenticated || !user) {\n    if (fallback) {\n      return <>{fallback}</>;\n    }\n    \n    // 重定向到登录页\n    router.push(redirectTo);\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <LoadingSpinner size=\"lg\" />\n      </div>\n    );\n  }\n\n  // 检查角色权限\n  if (requiredRole && !hasRole(requiredRole)) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">访问被拒绝</h2>\n          <p className=\"text-gray-600 mb-6\">您没有访问此页面的权限</p>\n          <button\n            onClick={() => router.back()}\n            className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\n          >\n            返回上一页\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // 检查具体权限\n  if (requiredPermissions.length > 0) {\n    const hasAllPermissions = requiredPermissions.every((permission) =>\n      hasPermission(permission)\n    );\n\n    if (!hasAllPermissions) {\n      return (\n        <div className=\"flex items-center justify-center min-h-screen\">\n          <div className=\"text-center\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">权限不足</h2>\n            <p className=\"text-gray-600 mb-6\">您没有执行此操作的权限</p>\n            <button\n              onClick={() => router.back()}\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\n            >\n              返回上一页\n            </button>\n          </div>\n        </div>\n      );\n    }\n  }\n\n  // 通过所有检查，渲染子组件\n  return <>{children}</>;\n};\n\n/**\n * 权限检查组件\n * 用于在组件内部进行权限控制\n */\ninterface PermissionGuardProps {\n  children: React.ReactNode;\n  permissions?: string[];\n  role?: string;\n  fallback?: React.ReactNode;\n  requireAll?: boolean; // 是否需要所有权限，默认为 true\n}\n\nexport const PermissionGuard: React.FC<PermissionGuardProps> = ({\n  children,\n  permissions = [],\n  role,\n  fallback = null,\n  requireAll = true,\n}) => {\n  const { hasPermission, hasRole } = useAuthStore();\n\n  // 检查角色\n  if (role && !hasRole(role)) {\n    return <>{fallback}</>;\n  }\n\n  // 检查权限\n  if (permissions.length > 0) {\n    const checkPermissions = requireAll\n      ? permissions.every((permission) => hasPermission(permission))\n      : permissions.some((permission) => hasPermission(permission));\n\n    if (!checkPermissions) {\n      return <>{fallback}</>;\n    }\n  }\n\n  return <>{children}</>;\n};\n\n/**\n * 角色检查组件\n * 用于基于角色显示不同内容\n */\ninterface RoleGuardProps {\n  children: React.ReactNode;\n  roles: string[];\n  fallback?: React.ReactNode;\n  requireAll?: boolean;\n}\n\nexport const RoleGuard: React.FC<RoleGuardProps> = ({\n  children,\n  roles,\n  fallback = null,\n  requireAll = false,\n}) => {\n  const { hasRole } = useAuthStore();\n\n  const checkRoles = requireAll\n    ? roles.every((role) => hasRole(role))\n    : roles.some((role) => hasRole(role));\n\n  if (!checkRoles) {\n    return <>{fallback}</>;\n  }\n\n  return <>{children}</>;\n};"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}