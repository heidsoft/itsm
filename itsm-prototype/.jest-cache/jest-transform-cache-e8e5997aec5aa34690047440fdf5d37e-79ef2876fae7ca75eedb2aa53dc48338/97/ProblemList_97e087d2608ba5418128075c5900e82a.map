{"version":3,"names":["ProblemList","problems","loading","selectedRowKeys","onSelectedRowKeysChange","pagination","onTableChange","cov_89ka3dkio","f","router","s","_navigation","useRouter","statusConfig","open","color","text","backgroundColor","resolved","closed","priorityConfig","low","medium","high","critical","columns","title","key","width","render","_","record","_jsxruntime","jsxs","style","display","alignItems","jsx","height","borderRadius","justifyContent","marginRight","_lucidereact","AlertTriangle","size","fontWeight","marginBottom","fontSize","id","category","dataIndex","status","config","padding","priority","impact","impactConfig","b","_antd","Tag","assignee","name","created_at","Date","toLocaleDateString","Space","Button","type","icon","Eye","onClick","push","className","Edit","MoreHorizontal","Table","rowSelection","onChange","dataSource","rowKey","current","pageSize","total","showSizeChanger","showQuickJumper","showTotal","range","scroll","x"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/app/(main)/problems/components/ProblemList.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { Table, Tag, Button, Space, Badge } from 'antd';\nimport { Eye, Edit, MoreHorizontal, AlertTriangle } from 'lucide-react';\nimport { Problem, ProblemStatus, ProblemPriority } from '@/lib/services/problem-service';\nimport { useRouter } from 'next/navigation';\n\ninterface ProblemListProps {\n  problems: Problem[];\n  loading: boolean;\n  selectedRowKeys: React.Key[];\n  onSelectedRowKeysChange: (keys: React.Key[]) => void;\n  pagination: any;\n  onTableChange: (page: number, pageSize?: number) => void;\n}\n\nexport const ProblemList: React.FC<ProblemListProps> = ({\n  problems,\n  loading,\n  selectedRowKeys,\n  onSelectedRowKeysChange,\n  pagination,\n  onTableChange,\n}) => {\n  const router = useRouter();\n\n  const statusConfig: Record<string, { color: string; text: string; backgroundColor: string }> = {\n    open: {\n      color: '#fa8c16',\n      text: '待处理',\n      backgroundColor: '#fff7e6',\n    },\n    'in-progress': {\n      color: '#1890ff',\n      text: '处理中',\n      backgroundColor: '#e6f7ff',\n    },\n    resolved: {\n      color: '#52c41a',\n      text: '已解决',\n      backgroundColor: '#f6ffed',\n    },\n    closed: {\n      color: '#00000073',\n      text: '已关闭',\n      backgroundColor: '#fafafa',\n    },\n  };\n\n  const priorityConfig: Record<string, { color: string; text: string; backgroundColor: string }> =\n    {\n      low: {\n        color: '#52c41a',\n        text: '低',\n        backgroundColor: '#f6ffed',\n      },\n      medium: {\n        color: '#1890ff',\n        text: '中',\n        backgroundColor: '#e6f7ff',\n      },\n      high: {\n        color: '#fa8c16',\n        text: '高',\n        backgroundColor: '#fff7e6',\n      },\n      critical: {\n        color: '#ff4d4f',\n        text: '紧急',\n        backgroundColor: '#fff2f0',\n      },\n    };\n\n  const columns = [\n    {\n      title: '问题信息',\n      key: 'problem_info',\n      width: 300,\n      render: (_: unknown, record: Problem) => (\n        <div style={{ display: 'flex', alignItems: 'center' }}>\n          <div\n            style={{\n              width: 40,\n              height: 40,\n              backgroundColor: '#e6f7ff',\n              borderRadius: 8,\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              marginRight: 12,\n            }}\n          >\n            <AlertTriangle size={20} style={{ color: '#1890ff' }} />\n          </div>\n          <div>\n            <div style={{ fontWeight: 'medium', color: '#000', marginBottom: 4 }}>\n              {record.title}\n            </div>\n            <div style={{ fontSize: 'small', color: '#666' }}>\n              #{record.id} • {record.category}\n            </div>\n          </div>\n        </div>\n      ),\n    },\n    {\n      title: '状态',\n      dataIndex: 'status',\n      key: 'status',\n      width: 120,\n      render: (status: ProblemStatus) => {\n        const config = statusConfig[status];\n        return (\n          <span\n            style={{\n              padding: '4px 12px',\n              borderRadius: 16,\n              fontSize: 'small',\n              fontWeight: 500,\n              color: config.color,\n              backgroundColor: config.backgroundColor,\n            }}\n          >\n            {config.text}\n          </span>\n        );\n      },\n    },\n    {\n      title: '优先级',\n      dataIndex: 'priority',\n      key: 'priority',\n      width: 100,\n      render: (priority: ProblemPriority) => {\n        const config = priorityConfig[priority];\n        return (\n          <span\n            style={{\n              padding: '4px 12px',\n              borderRadius: 16,\n              fontSize: 'small',\n              fontWeight: 500,\n              color: config.color,\n              backgroundColor: config.backgroundColor,\n            }}\n          >\n            {config.text}\n          </span>\n        );\n      },\n    },\n    {\n      title: '影响范围',\n      dataIndex: 'impact',\n      key: 'impact',\n      width: 120,\n      render: (impact: string) => {\n        const impactConfig: Record<string, { color: string; text: string }> = {\n          low: { color: 'green', text: '低' },\n          medium: { color: 'orange', text: '中' },\n          high: { color: 'red', text: '高' },\n        };\n        const config = impactConfig[impact] || { color: 'default', text: impact };\n        return <Tag color={config.color}>{config.text}</Tag>;\n      },\n    },\n    {\n      title: '负责人',\n      dataIndex: 'assignee',\n      key: 'assignee',\n      width: 150,\n      render: (assignee: { name: string }) => (\n        <div style={{ fontSize: 'small' }}>{assignee?.name || '未分配'}</div>\n      ),\n    },\n    {\n      title: '创建时间',\n      dataIndex: 'created_at',\n      key: 'created_at',\n      width: 150,\n      render: (created_at: string) => (\n        <div style={{ fontSize: 'small', color: '#666' }}>\n          {new Date(created_at).toLocaleDateString('zh-CN')}\n        </div>\n      ),\n    },\n    {\n      title: '操作',\n      key: 'actions',\n      width: 150,\n      render: (_: unknown, record: Problem) => (\n        <Space size='small'>\n          <Button\n            type='text'\n            size='small'\n            icon={<Eye size={16} />}\n            onClick={() => router.push(`/problems/${record.id}`)}\n            className='text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-md transition-colors duration-200'\n            title='查看详情'\n          />\n          <Button\n            type='text'\n            size='small'\n            icon={<Edit size={16} />}\n            onClick={() => router.push(`/problems/${record.id}/edit`)}\n            className='text-green-600 hover:text-green-800 hover:bg-green-50 rounded-md transition-colors duration-200'\n            title='编辑问题'\n          />\n          <Button\n            type='text'\n            size='small'\n            icon={<MoreHorizontal size={16} />}\n            className='text-gray-600 hover:text-gray-800 hover:bg-gray-50 rounded-md transition-colors duration-200'\n            title='更多操作'\n          />\n        </Space>\n      ),\n    },\n  ];\n\n  return (\n    <Table\n      rowSelection={{\n        selectedRowKeys,\n        onChange: onSelectedRowKeysChange,\n      }}\n      columns={columns}\n      dataSource={problems}\n      rowKey='id'\n      loading={loading}\n      pagination={{\n        current: pagination.current,\n        pageSize: pagination.pageSize,\n        total: pagination.total,\n        showSizeChanger: true,\n        showQuickJumper: true,\n        showTotal: (total, range) => `第 ${range[0]}-${range[1]} 条，共 ${total} 条`,\n        onChange: onTableChange,\n      }}\n      scroll={{ x: 1200 }}\n      className='[&_.ant-table-thead>tr>th]:bg-gray-50 [&_.ant-table-thead>tr>th]:border-b-2 [&_.ant-table-thead>tr>th]:border-gray-200 [&_.ant-table-thead>tr>th]:font-semibold [&_.ant-table-thead>tr>th]:text-gray-900 [&_.ant-table-tbody>tr:hover>td]:bg-blue-50 [&_.ant-table-tbody>tr>td]:border-b [&_.ant-table-tbody>tr>td]:border-gray-100'\n    />\n  );\n};\n"],"mappings":"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","ignoreList":[]}