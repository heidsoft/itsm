{"version":3,"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/app/(main)/admin/approval-chains/components/__tests__/ApprovalChainStats.test.tsx"],"sourcesContent":["/**\n * 审批链统计组件测试\n */\n\nimport React from 'react';\nimport { render, screen } from '../../../../../lib/test-utils';\nimport { ApprovalChainStatsCards } from '../ApprovalChainStats';\nimport { ApprovalChainStats } from '../../../../../types/approval-chain';\n\ndescribe('ApprovalChainStatsCards', () => {\n  const mockStats: ApprovalChainStats = {\n    total: 100,\n    active: 80,\n    inactive: 20,\n    totalSteps: 200,\n    avgStepsPerChain: 2.5,\n  };\n\n  it('should render all stat cards correctly', () => {\n    render(<ApprovalChainStatsCards stats={mockStats} />);\n\n    expect(screen.getByText('总审批链数')).toBeInTheDocument();\n    expect(screen.getByText('100')).toBeInTheDocument();\n\n    expect(screen.getByText('活跃审批链')).toBeInTheDocument();\n    expect(screen.getByText('80')).toBeInTheDocument();\n\n    expect(screen.getByText('非活跃审批链')).toBeInTheDocument();\n    expect(screen.getByText('20')).toBeInTheDocument();\n\n    expect(screen.getByText('平均步骤数')).toBeInTheDocument();\n    expect(screen.getByText('2.5')).toBeInTheDocument();\n  });\n\n  it('should show loading state', () => {\n    render(<ApprovalChainStatsCards stats={mockStats} loading={true} />);\n\n    // 检查是否有加载状态\n    const cards = screen.getAllByRole('img', { hidden: true });\n    expect(cards.length).toBeGreaterThan(0);\n  });\n\n  it('should display correct icons', () => {\n    render(<ApprovalChainStatsCards stats={mockStats} />);\n\n    // 检查图标是否存在\n    expect(screen.getByText('总审批链数')).toBeInTheDocument();\n    expect(screen.getByText('活跃审批链')).toBeInTheDocument();\n    expect(screen.getByText('非活跃审批链')).toBeInTheDocument();\n    expect(screen.getByText('平均步骤数')).toBeInTheDocument();\n  });\n\n  it('should handle zero values', () => {\n    const zeroStats: ApprovalChainStats = {\n      total: 0,\n      active: 0,\n      inactive: 0,\n      totalSteps: 0,\n      avgStepsPerChain: 0,\n    };\n\n    render(<ApprovalChainStatsCards stats={zeroStats} />);\n\n    expect(screen.getByText('0')).toBeInTheDocument();\n  });\n\n  it('should handle large numbers', () => {\n    const largeStats: ApprovalChainStats = {\n      total: 999999,\n      active: 888888,\n      inactive: 111111,\n      totalSteps: 2000000,\n      avgStepsPerChain: 2.0,\n    };\n\n    render(<ApprovalChainStatsCards stats={largeStats} />);\n\n    expect(screen.getByText('999999')).toBeInTheDocument();\n    expect(screen.getByText('888888')).toBeInTheDocument();\n    expect(screen.getByText('111111')).toBeInTheDocument();\n    expect(screen.getByText('2.0')).toBeInTheDocument();\n  });\n});\n"],"names":["describe","mockStats","total","active","inactive","totalSteps","avgStepsPerChain","it","render","ApprovalChainStatsCards","stats","expect","screen","getByText","toBeInTheDocument","loading","cards","getAllByRole","hidden","length","toBeGreaterThan","zeroStats","largeStats"],"mappings":"AAAA;;CAEC;;;;;8DAEiB;2BACa;oCACS;;;;;;AAGxCA,SAAS,2BAA2B;IAClC,MAAMC,YAAgC;QACpCC,OAAO;QACPC,QAAQ;QACRC,UAAU;QACVC,YAAY;QACZC,kBAAkB;IACpB;IAEAC,GAAG,0CAA0C;QAC3CC,IAAAA,iBAAM,gBAAC,qBAACC,2CAAuB;YAACC,OAAOT;;QAEvCU,OAAOC,iBAAM,CAACC,SAAS,CAAC,UAAUC,iBAAiB;QACnDH,OAAOC,iBAAM,CAACC,SAAS,CAAC,QAAQC,iBAAiB;QAEjDH,OAAOC,iBAAM,CAACC,SAAS,CAAC,UAAUC,iBAAiB;QACnDH,OAAOC,iBAAM,CAACC,SAAS,CAAC,OAAOC,iBAAiB;QAEhDH,OAAOC,iBAAM,CAACC,SAAS,CAAC,WAAWC,iBAAiB;QACpDH,OAAOC,iBAAM,CAACC,SAAS,CAAC,OAAOC,iBAAiB;QAEhDH,OAAOC,iBAAM,CAACC,SAAS,CAAC,UAAUC,iBAAiB;QACnDH,OAAOC,iBAAM,CAACC,SAAS,CAAC,QAAQC,iBAAiB;IACnD;IAEAP,GAAG,6BAA6B;QAC9BC,IAAAA,iBAAM,gBAAC,qBAACC,2CAAuB;YAACC,OAAOT;YAAWc,SAAS;;QAE3D,YAAY;QACZ,MAAMC,QAAQJ,iBAAM,CAACK,YAAY,CAAC,OAAO;YAAEC,QAAQ;QAAK;QACxDP,OAAOK,MAAMG,MAAM,EAAEC,eAAe,CAAC;IACvC;IAEAb,GAAG,gCAAgC;QACjCC,IAAAA,iBAAM,gBAAC,qBAACC,2CAAuB;YAACC,OAAOT;;QAEvC,WAAW;QACXU,OAAOC,iBAAM,CAACC,SAAS,CAAC,UAAUC,iBAAiB;QACnDH,OAAOC,iBAAM,CAACC,SAAS,CAAC,UAAUC,iBAAiB;QACnDH,OAAOC,iBAAM,CAACC,SAAS,CAAC,WAAWC,iBAAiB;QACpDH,OAAOC,iBAAM,CAACC,SAAS,CAAC,UAAUC,iBAAiB;IACrD;IAEAP,GAAG,6BAA6B;QAC9B,MAAMc,YAAgC;YACpCnB,OAAO;YACPC,QAAQ;YACRC,UAAU;YACVC,YAAY;YACZC,kBAAkB;QACpB;QAEAE,IAAAA,iBAAM,gBAAC,qBAACC,2CAAuB;YAACC,OAAOW;;QAEvCV,OAAOC,iBAAM,CAACC,SAAS,CAAC,MAAMC,iBAAiB;IACjD;IAEAP,GAAG,+BAA+B;QAChC,MAAMe,aAAiC;YACrCpB,OAAO;YACPC,QAAQ;YACRC,UAAU;YACVC,YAAY;YACZC,kBAAkB;QACpB;QAEAE,IAAAA,iBAAM,gBAAC,qBAACC,2CAAuB;YAACC,OAAOY;;QAEvCX,OAAOC,iBAAM,CAACC,SAAS,CAAC,WAAWC,iBAAiB;QACpDH,OAAOC,iBAAM,CAACC,SAAS,CAAC,WAAWC,iBAAiB;QACpDH,OAAOC,iBAAM,CAACC,SAAS,CAAC,WAAWC,iBAAiB;QACpDH,OAAOC,iBAAM,CAACC,SAAS,CAAC,QAAQC,iBAAiB;IACnD;AACF"}