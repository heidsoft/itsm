{"version":3,"names":["cov_2iet9f82oa","actualCoverage","s","useKnowledgeBaseData","f","articles","setArticles","_react","useState","loading","setLoading","searchText","setSearchText","categoryFilter","setCategoryFilter","stats","setStats","total","accountManagement","troubleshooting","network","useEffect","loadArticles","loadStats","mockArticles","id","title","summary","category","views","error","console","filteredArticles","filter","article","matchesSearch","b","toLowerCase","includes","matchesCategory"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/app/(main)/knowledge-base/hooks/useKnowledgeBaseData.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { KnowledgeApi } from '../lib/knowledge-api';\n\ninterface Article {\n  id: string;\n  title: string;\n  summary: string;\n  category: string;\n  views: number;\n  content?: string;\n}\n\nexport const useKnowledgeBaseData = () => {\n  const [articles, setArticles] = useState<Article[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchText, setSearchText] = useState('');\n  const [categoryFilter, setCategoryFilter] = useState('');\n  const [stats, setStats] = useState({\n    total: 0,\n    accountManagement: 0,\n    troubleshooting: 0,\n    network: 0,\n  });\n\n  useEffect(() => {\n    loadArticles();\n    loadStats();\n  }, []);\n\n  const loadArticles = async () => {\n    setLoading(true);\n    try {\n      const mockArticles: Article[] = [\n        {\n          id: '1',\n          title: '如何重置企业邮箱密码',\n          summary: '本文介绍了如何通过自助服务重置企业邮箱密码的详细步骤。',\n          category: '账号管理',\n          views: 128,\n        },\n        {\n          id: '2',\n          title: 'VPN连接常见问题及解决方案',\n          summary: '整理了VPN连接过程中可能遇到的问题及其解决方案。',\n          category: '故障排除',\n          views: 96,\n        },\n        {\n          id: '3',\n          title: '内部系统访问权限申请流程',\n          summary: '详细说明了如何申请和审批内部系统的访问权限。',\n          category: '流程指南',\n          views: 75,\n        },\n      ];\n      setArticles(mockArticles);\n    } catch (error) {\n      console.error('加载知识库文章失败:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadStats = async () => {\n    try {\n      // 模拟统计数据\n      setStats({\n        total: 42,\n        accountManagement: 12,\n        troubleshooting: 18,\n        network: 8,\n      });\n    } catch (error) {\n      console.error('加载统计数据失败:', error);\n    }\n  };\n\n  const filteredArticles = articles.filter(article => {\n    const matchesSearch = searchText\n      ? article.title.toLowerCase().includes(searchText.toLowerCase()) ||\n        article.summary.toLowerCase().includes(searchText.toLowerCase())\n      : true;\n    const matchesCategory = categoryFilter ? article.category === categoryFilter : true;\n    return matchesSearch && matchesCategory;\n  });\n\n  return {\n    articles: filteredArticles,\n    loading,\n    stats,\n    setSearchText,\n    setCategoryFilter,\n    loadArticles,\n  };\n};\n"],"mappings":"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","ignoreList":[]}