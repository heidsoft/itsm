{"version":3,"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/__tests__/pages/tickets-page.test.tsx"],"sourcesContent":["/**\n * 工单页面测试\n * 测试工单列表页面的核心功能\n */\n\nimport React from 'react';\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport '@testing-library/jest-dom';\n\n// Mock Next.js router\njest.mock('next/navigation', () => ({\n  useRouter: () => ({\n    push: jest.fn(),\n    replace: jest.fn(),\n    prefetch: jest.fn(),\n  }),\n  usePathname: () => '/tickets',\n  useSearchParams: () => new URLSearchParams(),\n}));\n\n// Mock Ant Design message\njest.mock('antd', () => {\n  const actual = jest.requireActual('antd');\n  return {\n    ...actual,\n    message: {\n      success: jest.fn(),\n      error: jest.fn(),\n      warning: jest.fn(),\n      info: jest.fn(),\n    },\n  };\n});\n\n// Mock API\njest.mock('@/lib/api/ticket-api', () => ({\n  TicketApi: {\n    getTickets: jest.fn(() =>\n      Promise.resolve({\n        tickets: [\n          {\n            id: 1,\n            ticket_number: 'TK-001',\n            title: 'Test Ticket 1',\n            description: 'Test Description',\n            status: 'open',\n            priority: 'high',\n            created_at: '2024-01-01T00:00:00Z',\n          },\n          {\n            id: 2,\n            ticket_number: 'TK-002',\n            title: 'Test Ticket 2',\n            description: 'Test Description 2',\n            status: 'in_progress',\n            priority: 'medium',\n            created_at: '2024-01-02T00:00:00Z',\n          },\n        ],\n        total: 2,\n        page: 1,\n        pageSize: 10,\n      })\n    ),\n    getTicketStats: jest.fn(() =>\n      Promise.resolve({\n        total: 100,\n        open: 30,\n        in_progress: 25,\n        resolved: 35,\n        closed: 10,\n      })\n    ),\n    createTicket: jest.fn(data =>\n      Promise.resolve({\n        id: 3,\n        ticket_number: 'TK-003',\n        ...data,\n      })\n    ),\n    updateTicket: jest.fn((id, data) =>\n      Promise.resolve({\n        id,\n        ...data,\n      })\n    ),\n    deleteTicket: jest.fn(() => Promise.resolve()),\n  },\n}));\n\n// Mock auth store\njest.mock('@/lib/store/unified-auth-store', () => ({\n  useAuthStore: () => ({\n    user: {\n      id: 1,\n      username: 'testuser',\n      role: 'admin',\n      permissions: ['ticket:view', 'ticket:create', 'ticket:update', 'ticket:delete'],\n    },\n    isAuthenticated: true,\n  }),\n  usePermissions: () => ({\n    canViewTickets: () => true,\n    canCreateTickets: () => true,\n    canUpdateTickets: () => true,\n    canDeleteTickets: () => true,\n  }),\n}));\n\n// Test utilities\nconst createTestQueryClient = () =>\n  new QueryClient({\n    defaultOptions: {\n      queries: {\n        retry: false,\n        cacheTime: 0,\n      },\n    },\n  });\n\nconst renderWithProviders = (ui: React.ReactElement) => {\n  const queryClient = createTestQueryClient();\n  return render(<QueryClientProvider client={queryClient}>{ui}</QueryClientProvider>);\n};\n\ndescribe('TicketsPage', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('页面渲染', () => {\n    it('应该正确渲染工单列表页面', async () => {\n      const TicketsPage = (await import('@/app/(main)/tickets/page')).default;\n      renderWithProviders(<TicketsPage />);\n\n      // 检查页面标题\n      expect(screen.getByText(/工单管理/i)).toBeInTheDocument();\n    });\n\n    it('应该显示加载状态', async () => {\n      const TicketsPage = (await import('@/app/(main)/tickets/page')).default;\n      renderWithProviders(<TicketsPage />);\n\n      // 加载时应该显示骨架屏或加载指示器\n      await waitFor(\n        () => {\n          expect(screen.queryByText(/加载中/i) || screen.queryByRole('progressbar')).toBeTruthy();\n        },\n        { timeout: 100 }\n      );\n    });\n\n    it('应该显示工单统计信息', async () => {\n      const TicketsPage = (await import('@/app/(main)/tickets/page')).default;\n      renderWithProviders(<TicketsPage />);\n\n      await waitFor(() => {\n        // 应该显示统计卡片\n        expect(screen.getByText(/总数/i) || screen.getByText(/Total/i)).toBeTruthy();\n      });\n    });\n  });\n\n  describe('工单列表', () => {\n    it('应该显示工单列表', async () => {\n      const TicketsPage = (await import('@/app/(main)/tickets/page')).default;\n      renderWithProviders(<TicketsPage />);\n\n      await waitFor(() => {\n        expect(screen.getByText('Test Ticket 1')).toBeInTheDocument();\n        expect(screen.getByText('Test Ticket 2')).toBeInTheDocument();\n      });\n    });\n\n    it('应该显示工单编号', async () => {\n      const TicketsPage = (await import('@/app/(main)/tickets/page')).default;\n      renderWithProviders(<TicketsPage />);\n\n      await waitFor(() => {\n        expect(screen.getByText(/TK-001/)).toBeInTheDocument();\n        expect(screen.getByText(/TK-002/)).toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('筛选功能', () => {\n    it('应该支持按状态筛选', async () => {\n      const TicketsPage = (await import('@/app/(main)/tickets/page')).default;\n      const { container } = renderWithProviders(<TicketsPage />);\n\n      await waitFor(() => {\n        // 查找状态选择器\n        const statusFilter = container.querySelector('[data-testid=\"status-filter\"]');\n        if (statusFilter) {\n          fireEvent.click(statusFilter);\n        }\n      });\n    });\n\n    it('应该支持按优先级筛选', async () => {\n      const TicketsPage = (await import('@/app/(main)/tickets/page')).default;\n      const { container } = renderWithProviders(<TicketsPage />);\n\n      await waitFor(() => {\n        // 查找优先级选择器\n        const priorityFilter = container.querySelector('[data-testid=\"priority-filter\"]');\n        if (priorityFilter) {\n          fireEvent.click(priorityFilter);\n        }\n      });\n    });\n\n    it('应该支持搜索', async () => {\n      const TicketsPage = (await import('@/app/(main)/tickets/page')).default;\n      const { container } = renderWithProviders(<TicketsPage />);\n\n      await waitFor(() => {\n        // 查找搜索框\n        const searchInput = container.querySelector('input[placeholder*=\"搜索\"]');\n        if (searchInput) {\n          fireEvent.change(searchInput, { target: { value: 'test' } });\n        }\n      });\n    });\n  });\n\n  describe('分页功能', () => {\n    it('应该显示分页器', async () => {\n      const TicketsPage = (await import('@/app/(main)/tickets/page')).default;\n      renderWithProviders(<TicketsPage />);\n\n      await waitFor(() => {\n        // 应该有分页组件\n        const pagination = screen.queryByRole('navigation');\n        expect(pagination).toBeTruthy();\n      });\n    });\n\n    it('应该支持切换页码', async () => {\n      const TicketsPage = (await import('@/app/(main)/tickets/page')).default;\n      const { container } = renderWithProviders(<TicketsPage />);\n\n      await waitFor(() => {\n        // 查找下一页按钮\n        const nextButton = container.querySelector('.ant-pagination-next');\n        if (nextButton) {\n          fireEvent.click(nextButton);\n        }\n      });\n    });\n  });\n\n  describe('刷新功能', () => {\n    it('应该支持刷新数据', async () => {\n      const TicketsPage = (await import('@/app/(main)/tickets/page')).default;\n      const { container } = renderWithProviders(<TicketsPage />);\n\n      await waitFor(() => {\n        // 查找刷新按钮\n        const refreshButton =\n          container.querySelector('[data-testid=\"refresh-button\"]') ||\n          container.querySelector('[aria-label*=\"刷新\"]');\n        if (refreshButton) {\n          fireEvent.click(refreshButton);\n        }\n      });\n    });\n  });\n\n  describe('错误处理', () => {\n    it('应该显示错误信息', async () => {\n      // Mock API 错误\n      const { TicketApi } = require('@/lib/api/ticket-api');\n      TicketApi.getTickets.mockRejectedValueOnce(new Error('Network Error'));\n\n      const TicketsPage = (await import('@/app/(main)/tickets/page')).default;\n      renderWithProviders(<TicketsPage />);\n\n      await waitFor(() => {\n        // 应该显示错误提示\n        expect(screen.queryByText(/错误/i) || screen.queryByText(/Error/i)).toBeTruthy();\n      });\n    });\n\n    it('应该提供重试按钮', async () => {\n      // Mock API 错误\n      const { TicketApi } = require('@/lib/api/ticket-api');\n      TicketApi.getTickets.mockRejectedValueOnce(new Error('Network Error'));\n\n      const TicketsPage = (await import('@/app/(main)/tickets/page')).default;\n      const { container } = renderWithProviders(<TicketsPage />);\n\n      await waitFor(() => {\n        // 查找重试按钮\n        const retryButton = screen.queryByText(/重试/i) || screen.queryByText(/Retry/i);\n        expect(retryButton).toBeTruthy();\n      });\n    });\n  });\n\n  describe('权限控制', () => {\n    it('应该根据权限显示创建按钮', async () => {\n      const TicketsPage = (await import('@/app/(main)/tickets/page')).default;\n      renderWithProviders(<TicketsPage />);\n\n      await waitFor(() => {\n        // 有权限时应该显示创建按钮\n        const createButton = screen.queryByText(/创建工单/i) || screen.queryByText(/Create/i);\n        expect(createButton).toBeTruthy();\n      });\n    });\n\n    it('无权限时应该隐藏操作按钮', async () => {\n      // Mock 无权限的用户\n      const { usePermissions } = require('@/lib/store/unified-auth-store');\n      usePermissions.mockReturnValueOnce({\n        canViewTickets: () => true,\n        canCreateTickets: () => false,\n        canUpdateTickets: () => false,\n        canDeleteTickets: () => false,\n      });\n\n      const TicketsPage = (await import('@/app/(main)/tickets/page')).default;\n      renderWithProviders(<TicketsPage />);\n\n      await waitFor(() => {\n        // 无权限时不应该显示创建按钮\n        const createButton = screen.queryByText(/创建工单/i);\n        // 根据实际实现，按钮可能被隐藏或禁用\n      });\n    });\n  });\n});\n"],"names":["jest","mock","useRouter","push","fn","replace","prefetch","usePathname","useSearchParams","URLSearchParams","actual","requireActual","message","success","error","warning","info","TicketApi","getTickets","Promise","resolve","tickets","id","ticket_number","title","description","status","priority","created_at","total","page","pageSize","getTicketStats","open","in_progress","resolved","closed","createTicket","data","updateTicket","deleteTicket","useAuthStore","user","username","role","permissions","isAuthenticated","usePermissions","canViewTickets","canCreateTickets","canUpdateTickets","canDeleteTickets","createTestQueryClient","QueryClient","defaultOptions","queries","retry","cacheTime","renderWithProviders","ui","queryClient","render","QueryClientProvider","client","describe","beforeEach","clearAllMocks","it","TicketsPage","default","expect","screen","getByText","toBeInTheDocument","waitFor","queryByText","queryByRole","toBeTruthy","timeout","container","statusFilter","querySelector","fireEvent","click","priorityFilter","searchInput","change","target","value","pagination","nextButton","refreshButton","require","mockRejectedValueOnce","Error","retryButton","createButton","mockReturnValueOnce"],"mappings":"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"}