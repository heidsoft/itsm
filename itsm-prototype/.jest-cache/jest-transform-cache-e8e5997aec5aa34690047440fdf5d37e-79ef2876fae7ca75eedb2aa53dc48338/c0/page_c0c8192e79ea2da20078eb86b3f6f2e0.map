{"version":3,"names":["_default","ChangeListPageSkeleton","cov_ifir53opu","f","s","_jsxruntime","jsxs","jsx","_antd","Skeleton","active","paragraph","rows","style","marginTop","ChangeListPage","t","_i18n","useI18n","changes","loading","stats","filter","setFilter","searchText","setSearchText","pagination","handleTableChange","fetchChanges","_useChangesData","useChangesData","selectedRowKeys","setSelectedRowKeys","_react","useState","handleCreateChange","console","log","b","className","_ChangeStats","ChangeStats","_ChangeFilters","ChangeFilters","onSearchTextChange","onFilterChange","onFetchChanges","length","Badge","count","Button","type","icon","_lucidereact","Plus","size","onClick","_ChangeList","ChangeList","onSelectedRowKeysChange","onTableChange"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/app/(main)/changes/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { Button, Skeleton, Badge } from 'antd';\nimport { Plus } from 'lucide-react';\nimport { useChangesData } from './hooks/useChangesData';\nimport { ChangeStats } from './components/ChangeStats';\nimport { ChangeFilters } from './components/ChangeFilters';\nimport { ChangeList } from './components/ChangeList';\nimport { useI18n } from '@/lib/i18n';\n\nconst ChangeListPageSkeleton: React.FC = () => (\n  <div>\n    <Skeleton active paragraph={{ rows: 4 }} />\n    <Skeleton active paragraph={{ rows: 2 }} style={{ marginTop: 24 }} />\n    <Skeleton active paragraph={{ rows: 8 }} style={{ marginTop: 24 }} />\n  </div>\n);\n\nconst ChangeListPage = () => {\n  const { t } = useI18n();\n  const {\n    changes,\n    loading,\n    stats,\n    filter,\n    setFilter,\n    searchText,\n    setSearchText,\n    pagination,\n    handleTableChange,\n    fetchChanges,\n  } = useChangesData();\n  const [selectedRowKeys, setSelectedRowKeys] = useState<React.Key[]>([]);\n\n  const handleCreateChange = () => {\n    console.log('创建变更');\n  };\n\n  if (loading) {\n    return <ChangeListPageSkeleton />;\n  }\n\n  return (\n    <div className='p-6 bg-gray-50 min-h-screen'>\n      <ChangeStats stats={stats} />\n      <ChangeFilters\n        loading={loading}\n        searchText={searchText}\n        onSearchTextChange={setSearchText}\n        filter={filter}\n        onFilterChange={setFilter}\n        onFetchChanges={fetchChanges}\n      />\n      <div className='flex justify-between items-center mb-6'>\n        <div>\n          <h3 className='text-xl font-semibold text-gray-800 mb-1'>{t('changes.listTitle')}</h3>\n          <p className='text-gray-600'>{t('changes.listDescription')}</p>\n        </div>\n        <div className='flex items-center space-x-3'>\n          {selectedRowKeys.length > 0 && (\n            <Badge\n              count={selectedRowKeys.length}\n              className='bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium'\n            >\n              {t('changes.selected', { count: selectedRowKeys.length })}\n            </Badge>\n          )}\n          <Button\n            type='primary'\n            icon={<Plus size={20} />}\n            onClick={handleCreateChange}\n            size='large'\n            className='bg-blue-600 hover:bg-blue-700 border-blue-600 hover:border-blue-700 shadow-sm'\n          >\n            {t('changes.create')}\n          </Button>\n        </div>\n      </div>\n      <ChangeList\n        changes={changes}\n        loading={loading}\n        pagination={pagination}\n        selectedRowKeys={selectedRowKeys}\n        onSelectedRowKeysChange={setSelectedRowKeys}\n        onTableChange={handleTableChange}\n      />\n    </div>\n  );\n};\n\nexport default ChangeListPage;\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}