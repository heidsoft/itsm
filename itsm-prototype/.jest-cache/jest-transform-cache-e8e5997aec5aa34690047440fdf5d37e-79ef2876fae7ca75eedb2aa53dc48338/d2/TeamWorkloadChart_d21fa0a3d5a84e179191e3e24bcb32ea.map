{"version":3,"names":["_default","TeamWorkloadChart","cov_1c0qobmu0c","s","_react","default","memo","data","f","config","map","item","assignee","ticketCount","completionRate","xField","yField","seriesField","color","barStyle","radius","label","position","style","fill","fontSize","formatter","datum","tooltip","name","value","legend","responsive","totalTickets","reduce","sum","avgCompletion","length","_jsxruntime","jsx","_DashboardChartCard","DashboardChartCard","title","subtitle","icon","_lucidereact","Users","width","height","iconColor","extra","jsxs","textAlign","fontWeight","toFixed","_charts","Column","displayName"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/app/(main)/dashboard/components/TeamWorkloadChart.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { Column } from '@ant-design/charts';\nimport { Users } from 'lucide-react';\nimport { TeamWorkload } from '../types/dashboard.types';\nimport { DashboardChartCard } from './DashboardChartCard';\n\nconst TeamWorkloadChart: React.FC<{ data: TeamWorkload[] }> = React.memo(({ data }) => {\n  const config = {\n    data: data.map(item => ({\n      assignee: item.assignee,\n      ticketCount: item.ticketCount,\n      completionRate: item.completionRate,\n    })),\n    xField: 'ticketCount',\n    yField: 'assignee',\n    seriesField: 'assignee',\n    color: ['#3b82f6', '#10b981', '#f59e0b', '#ec4899', '#8b5cf6'],\n    barStyle: {\n      radius: [0, 8, 8, 0],\n    },\n    label: {\n      position: 'right' as const,\n      style: {\n        fill: '#666',\n        fontSize: 12,\n      },\n      formatter: (datum: any) => `${datum.ticketCount}个`,\n    },\n    tooltip: {\n      formatter: (datum: any) => ({\n        name: '工单数',\n        value: `${datum.ticketCount}个 (完成率: ${datum.completionRate}%)`,\n      }),\n    },\n    legend: false,\n    responsive: true,\n  };\n\n  const totalTickets = data.reduce((sum, item) => sum + item.ticketCount, 0);\n  const avgCompletion = data.reduce((sum, item) => sum + item.completionRate, 0) / data.length;\n\n  return (\n    <DashboardChartCard\n      title='团队工作负载'\n      subtitle='各成员工单处理情况'\n      icon={<Users style={{ width: 20, height: 20 }} />}\n      iconColor='#3b82f6'\n      extra={\n        <div style={{ textAlign: 'right' }}>\n          <div style={{ fontSize: 12, color: '#8c8c8c' }}>平均完成率</div>\n          <div style={{ fontSize: 16, fontWeight: 600, color: '#1890ff' }}>\n            {avgCompletion.toFixed(1)}%\n          </div>\n        </div>\n      }\n    >\n      <div style={{ height: '280px' }}>\n        <Column {...config} />\n      </div>\n    </DashboardChartCard>\n  );\n});\n\nTeamWorkloadChart.displayName = 'TeamWorkloadChart';\n\nexport default TeamWorkloadChart;\n"],"mappings":"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","ignoreList":[]}