{"version":3,"names":["FormTextarea","Textarea","cov_89ch97wbb","s","_react","forwardRef","value","b","placeholder","disabled","readonly","rows","cols","maxLength","minLength","resize","autoResize","onChange","onBlur","onFocus","className","props","ref","f","textareaRef","useRef","combinedRef","handleChange","e","target","useEffect","current","textarea","style","height","scrollHeight","textareaClasses","filter","Boolean","join","currentLength","length","showCounter","_jsxruntime","jsxs","jsx","readOnly","displayName","label","error","help","textareaProps","_formfield","FormField","name","required"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/lib/components/form/form-textarea.tsx"],"sourcesContent":["'use client';\n\nimport React, { forwardRef, useEffect, useRef } from 'react';\nimport { FormTextareaProps } from './types';\nimport { FormField } from './form-field';\n\nconst Textarea = forwardRef<HTMLTextAreaElement, Omit<FormTextareaProps, 'label' | 'error' | 'help'>>(\n  ({\n    value = '',\n    placeholder,\n    disabled = false,\n    readonly = false,\n    rows = 4,\n    cols,\n    maxLength,\n    minLength,\n    resize = 'vertical',\n    autoResize = false,\n    onChange,\n    onBlur,\n    onFocus,\n    className = '',\n    ...props\n  }, ref) => {\n    const textareaRef = useRef<HTMLTextAreaElement>(null);\n    const combinedRef = ref || textareaRef;\n\n    const handleChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n      onChange?.(e.target.value);\n    };\n\n    // 自动调整高度\n    useEffect(() => {\n      if (autoResize && combinedRef && 'current' in combinedRef && combinedRef.current) {\n        const textarea = combinedRef.current;\n        textarea.style.height = 'auto';\n        textarea.style.height = `${textarea.scrollHeight}px`;\n      }\n    }, [value, autoResize, combinedRef]);\n\n    const textareaClasses = [\n      'block w-full rounded-md border-gray-300 shadow-sm',\n      'focus:border-blue-500 focus:ring-blue-500',\n      'disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed',\n      'readonly:bg-gray-50 readonly:cursor-default',\n      'px-3 py-2',\n      resize === 'none' ? 'resize-none' : \n      resize === 'horizontal' ? 'resize-x' :\n      resize === 'vertical' ? 'resize-y' : 'resize',\n      className\n    ].filter(Boolean).join(' ');\n\n    const currentLength = typeof value === 'string' ? value.length : 0;\n    const showCounter = maxLength && maxLength > 0;\n\n    return (\n      <div className=\"relative\">\n        <textarea\n          ref={combinedRef}\n          value={value}\n          placeholder={placeholder}\n          disabled={disabled}\n          readOnly={readonly}\n          rows={rows}\n          cols={cols}\n          maxLength={maxLength}\n          minLength={minLength}\n          onChange={handleChange}\n          onBlur={onBlur}\n          onFocus={onFocus}\n          className={textareaClasses}\n          {...props}\n        />\n        \n        {showCounter && (\n          <div className=\"absolute bottom-2 right-2 text-xs text-gray-400 bg-white px-1\">\n            {currentLength}/{maxLength}\n          </div>\n        )}\n      </div>\n    );\n  }\n);\n\nTextarea.displayName = 'Textarea';\n\nexport const FormTextarea: React.FC<FormTextareaProps> = (props) => {\n  const { label, error, help, ...textareaProps } = props;\n\n  if (label || error || help) {\n    return (\n      <FormField\n        name={props.name}\n        label={label}\n        required={props.required}\n        error={error}\n        help={help}\n      >\n        <Textarea {...textareaProps} />\n      </FormField>\n    );\n  }\n\n  return <Textarea {...textareaProps} />;\n};"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}