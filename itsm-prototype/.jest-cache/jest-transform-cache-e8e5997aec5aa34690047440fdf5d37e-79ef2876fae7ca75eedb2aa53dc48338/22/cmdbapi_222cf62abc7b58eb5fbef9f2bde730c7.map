{"version":3,"names":["cov_1rl1aekv70","actualCoverage","s","CMDBApi","list","params","f","_httpclient","httpClient","get","id","create","data","post","update","put","remove","delete"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/app/lib/cmdb-api.ts"],"sourcesContent":["export interface CIItem {\n  id: number;\n  name: string;\n  ci_type_id: number;\n  description?: string;\n  status: string;\n  tenant_id: number;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface ListCIsParams {\n  tenant_id?: number; // 后端从JWT注入，这里可选\n  ci_type_id?: number;\n  status?: string;\n  limit?: number;\n  offset?: number;\n}\n\nexport interface ListCIsResponse {\n  cis: Array<{ id: number; name: string; ci_type_id: number; description?: string; status: string; tenant_id: number; created_at: string; updated_at: string; }>;\n  total: number;\n}\n\nexport interface CreateCIRequest {\n  name: string;\n  ci_type_id: number;\n  description?: string;\n  status: 'active' | 'inactive' | 'maintenance';\n  attributes?: Record<string, unknown>;\n}\n\nexport interface UpdateCIRequest {\n  name?: string;\n  description?: string;\n  status?: 'active' | 'inactive' | 'maintenance';\n  attributes?: Record<string, unknown>;\n}\n\nimport { httpClient } from './http-client';\n\nexport class CMDBApi {\n  static list(params?: ListCIsParams) {\n    return httpClient.get<ListCIsResponse>('/api/v1/cmdb/items', params);\n  }\n  static get(id: number) {\n    return httpClient.get<CIItem>(`/api/v1/cmdb/items/${id}`);\n  }\n  static create(data: CreateCIRequest) {\n    return httpClient.post<CIItem>('/api/v1/cmdb/items', data);\n  }\n  static update(id: number, data: UpdateCIRequest) {\n    return httpClient.put<CIItem>(`/api/v1/cmdb/items/${id}`, data);\n  }\n  static remove(id: number) {\n    return httpClient.delete<void>(`/api/v1/cmdb/items/${id}`);\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA6CS;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAAAA,cAAA,GAAAE,CAAA;;;;;;+BAJI;;;;;;WAAAC,OAAA;;;;;kCAFc;AAEpB,MAAMA,OAAA;EACX,OAAOC,KAAKC,MAAsB,EAAE;IAAA;IAAAL,cAAA,GAAAM,CAAA;IAAAN,cAAA,GAAAE,CAAA;IAClC,OAAOK,WAAA,CAAAC,UAAU,CAACC,GAAG,CAAkB,sBAAsBJ,MAAA;EAC/D;EACA,OAAOI,IAAIC,EAAU,EAAE;IAAA;IAAAV,cAAA,GAAAM,CAAA;IAAAN,cAAA,GAAAE,CAAA;IACrB,OAAOK,WAAA,CAAAC,UAAU,CAACC,GAAG,CAAS,sBAAsBC,EAAA,EAAI;EAC1D;EACA,OAAOC,OAAOC,IAAqB,EAAE;IAAA;IAAAZ,cAAA,GAAAM,CAAA;IAAAN,cAAA,GAAAE,CAAA;IACnC,OAAOK,WAAA,CAAAC,UAAU,CAACK,IAAI,CAAS,sBAAsBD,IAAA;EACvD;EACA,OAAOE,OAAOJ,EAAU,EAAEE,IAAqB,EAAE;IAAA;IAAAZ,cAAA,GAAAM,CAAA;IAAAN,cAAA,GAAAE,CAAA;IAC/C,OAAOK,WAAA,CAAAC,UAAU,CAACO,GAAG,CAAS,sBAAsBL,EAAA,EAAI,EAAEE,IAAA;EAC5D;EACA,OAAOI,OAAON,EAAU,EAAE;IAAA;IAAAV,cAAA,GAAAM,CAAA;IAAAN,cAAA,GAAAE,CAAA;IACxB,OAAOK,WAAA,CAAAC,UAAU,CAACS,MAAM,CAAO,sBAAsBP,EAAA,EAAI;EAC3D;AACF","ignoreList":[]}