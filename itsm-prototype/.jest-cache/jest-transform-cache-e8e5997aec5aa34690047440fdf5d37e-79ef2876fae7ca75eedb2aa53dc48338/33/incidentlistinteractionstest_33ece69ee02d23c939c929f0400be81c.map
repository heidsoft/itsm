{"version":3,"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/app/__tests__/incident-list-interactions.test.tsx"],"sourcesContent":["import React from 'react'\nimport { render, waitFor } from '@testing-library/react'\nimport '@testing-library/jest-dom'\nimport IncidentManagement from '@/components/business/IncidentManagement'\nimport { IncidentAPI } from '@/lib/api/incident-api'\nimport { App as AntdApp } from 'antd'\n\njest.mock('@/lib/store/auth-store', () => ({\n  useAuthStore: () => ({ currentTenant: { id: 1 } }),\n}))\n\ndescribe('IncidentManagement interactions', () => {\n  it('loads incidents via API layer with pagination', async () => {\n    const spy = jest.spyOn(IncidentAPI, 'listIncidents').mockResolvedValue({ incidents: [], total: 0 } as any)\n    render(\n      <AntdApp>\n        <IncidentManagement />\n      </AntdApp>\n    )\n    await waitFor(() => expect(spy).toHaveBeenCalled())\n    const params = (spy.mock.calls[0] || [])[0] as any\n    expect(params.page).toBe(1)\n    expect(params.page_size).toBeGreaterThan(0)\n    spy.mockRestore()\n  })\n})\n\n"],"names":["jest","mock","useAuthStore","currentTenant","id","describe","it","spy","spyOn","IncidentAPI","mockResolvedValue","incidents","total","render","AntdApp","IncidentManagement","waitFor","expect","toHaveBeenCalled","params","calls","page","toBe","page_size","toBeGreaterThan","mockRestore"],"mappings":";AAOAA,KAAKC,IAAI,CAAC,0BAA0B,IAAO,CAAA;QACzCC,cAAc,IAAO,CAAA;gBAAEC,eAAe;oBAAEC,IAAI;gBAAE;YAAE,CAAA;IAClD,CAAA;;;;;8DATkB;wBACc;QACzB;2EACwB;6BACH;sBACG;;;;;;AAM/BC,SAAS,mCAAmC;IAC1CC,GAAG,iDAAiD;QAClD,MAAMC,MAAMP,KAAKQ,KAAK,CAACC,wBAAW,EAAE,iBAAiBC,iBAAiB,CAAC;YAAEC,WAAW,EAAE;YAAEC,OAAO;QAAE;QACjGC,IAAAA,cAAM,gBACJ,qBAACC,SAAO;sBACN,cAAA,qBAACC,2BAAkB;;QAGvB,MAAMC,IAAAA,eAAO,EAAC,IAAMC,OAAOV,KAAKW,gBAAgB;QAChD,MAAMC,SAAS,AAACZ,CAAAA,IAAIN,IAAI,CAACmB,KAAK,CAAC,EAAE,IAAI,EAAE,AAAD,CAAE,CAAC,EAAE;QAC3CH,OAAOE,OAAOE,IAAI,EAAEC,IAAI,CAAC;QACzBL,OAAOE,OAAOI,SAAS,EAAEC,eAAe,CAAC;QACzCjB,IAAIkB,WAAW;IACjB;AACF"}