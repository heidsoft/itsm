{"version":3,"names":["IncidentsPage","IncidentsPageSkeleton","cov_1ynplmy31j","f","s","_jsxruntime","jsxs","jsx","_antd","Skeleton","active","paragraph","rows","style","marginTop","t","_i18n","useI18n","incidents","loading","total","currentPage","pageSize","metrics","setCurrentPage","setPageSize","handleSearch","handleFilterChange","loadIncidents","_useIncidentsData","useIncidentsData","selectedRowKeys","setSelectedRowKeys","_react","useState","handleCreateIncident","window","location","href","b","_IncidentStats","IncidentStats","_IncidentFilters","IncidentFilters","onSearch","onFilterChange","onRefresh","className","Space","size","Button","icon","_icons","DownloadOutlined","type","PlusOutlined","onClick","_IncidentList","IncidentList","onSelectedRowKeysChange","onEdit","incident","id","onView","Pagination","current","showSizeChanger","showQuickJumper","showTotal","range","start","end","onChange","page","textAlign"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/app/(main)/incidents/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { Button, Space, Pagination, Skeleton } from 'antd';\nimport { DownloadOutlined, PlusOutlined } from '@ant-design/icons';\nimport { useIncidentsData } from './hooks/useIncidentsData';\nimport { IncidentStats } from './components/IncidentStats';\nimport { IncidentFilters } from './components/IncidentFilters';\nimport { IncidentList } from './components/IncidentList';\nimport { useI18n } from '@/lib/i18n';\n\nconst IncidentsPageSkeleton: React.FC = () => (\n  <div>\n    <Skeleton active paragraph={{ rows: 4 }} />\n    <Skeleton active paragraph={{ rows: 2 }} style={{ marginTop: 24 }} />\n    <Skeleton active paragraph={{ rows: 8 }} style={{ marginTop: 24 }} />\n  </div>\n);\n\nexport default function IncidentsPage() {\n  const { t } = useI18n();\n  const {\n    incidents,\n    loading,\n    total,\n    currentPage,\n    pageSize,\n    metrics,\n    setCurrentPage,\n    setPageSize,\n    handleSearch,\n    handleFilterChange,\n    loadIncidents,\n  } = useIncidentsData();\n  const [selectedRowKeys, setSelectedRowKeys] = useState<React.Key[]>([]);\n\n  const handleCreateIncident = () => {\n    window.location.href = '/incidents/new';\n  };\n\n  if (loading) {\n    return <IncidentsPageSkeleton />;\n  }\n\n  return (\n    <div>\n      <IncidentStats metrics={metrics} />\n      <IncidentFilters\n        loading={loading}\n        onSearch={handleSearch}\n        onFilterChange={handleFilterChange}\n        onRefresh={loadIncidents}\n      />\n      <div className='bg-white/60 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-lg mb-6'>\n        <div className='flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6'>\n          <div className='flex items-center space-x-4'>\n            <div>\n              <h3 className='text-lg font-semibold text-gray-800'>{t('incidents.listTitle')}</h3>\n              <p className='text-sm text-gray-600'>{t('incidents.listDescription')}</p>\n            </div>\n          </div>\n          <Space size='middle' className='flex-wrap'>\n            <Button\n              icon={<DownloadOutlined />}\n              size='large'\n              className='bg-white border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300 shadow-sm hover:shadow-md transition-all duration-200 rounded-lg font-medium'\n            >\n              {t('incidents.export')}\n            </Button>\n            <Button\n              type='primary'\n              icon={<PlusOutlined />}\n              size='large'\n              onClick={handleCreateIncident}\n              className='bg-gradient-to-r from-green-500 to-emerald-600 border-0 text-white hover:from-green-600 hover:to-emerald-700 shadow-lg hover:shadow-xl transition-all duration-200 rounded-lg font-medium'\n            >\n              {t('incidents.create')}\n            </Button>\n          </Space>\n        </div>\n        <IncidentList\n          incidents={incidents}\n          loading={loading}\n          selectedRowKeys={selectedRowKeys}\n          onSelectedRowKeysChange={setSelectedRowKeys}\n          onEdit={incident => (window.location.href = `/incidents/${incident.id}/edit`)}\n          onView={incident => (window.location.href = `/incidents/${incident.id}`)}\n        />\n        <Pagination\n          current={currentPage}\n          pageSize={pageSize}\n          total={total}\n          showSizeChanger\n          showQuickJumper\n          showTotal={(total, range) => t('incidents.paginationItems', { start: range[0], end: range[1], total })}\n          onChange={(page, size) => {\n            setCurrentPage(page);\n            setPageSize(size);\n          }}\n          style={{ marginTop: 16, textAlign: 'right' }}\n        />\n      </div>\n    </div>\n  );\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}