{"version":3,"names":["RelationGraph","selectedCI","relations","cis","onClose","cov_17aolnvug3","f","t","s","_i18n","useI18n","b","_jsxruntime","jsxs","style","textAlign","padding","color","jsx","margin","fontSize","_icons","ClusterOutlined","relatedRelations","filter","rel","source","id","target","marginBottom","display","justifyContent","alignItems","name","_antd","Button","icon","CloseOutlined","onClick","height","border","borderRadius","backgroundColor","count","length","marginTop","Table","columns","title","dataIndex","key","render","ci","find","c","dataSource","pagination","rowKey"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/app/(main)/cmdb/components/RelationGraph.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { Card, Button, Table } from 'antd';\nimport { ClusterOutlined, CloseOutlined } from '@ant-design/icons';\nimport { useI18n } from '@/lib/i18n';\n\ninterface RelationGraphProps {\n  selectedCI: any;\n  relations: any[];\n  cis: any[];\n  onClose: () => void;\n}\n\nexport const RelationGraph: React.FC<RelationGraphProps> = ({\n  selectedCI,\n  relations,\n  cis,\n  onClose,\n}) => {\n    const { t } = useI18n();\n  if (!selectedCI) {\n    return (\n      <div style={{ textAlign: 'center', padding: '100px 0', color: '#666' }}>\n        <div style={{ margin: '0 auto 16px', color: '#1890ff', fontSize: 48 }}>\n          <ClusterOutlined />\n        </div>\n        <p>{t('cmdb.selectCIForRelations')}</p>\n      </div>\n    );\n  }\n\n  const relatedRelations = relations.filter(\n    rel => rel.source === selectedCI.id || rel.target === selectedCI.id\n  );\n\n  return (\n    <div style={{ padding: 24 }}>\n      <div\n        style={{\n          marginBottom: 24,\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n        }}\n      >\n        <h3 style={{ margin: 0 }}>{selectedCI.name} {t('cmdb.ciRelations')}</h3>\n        <Button icon={<CloseOutlined />} onClick={onClose}>\n          {t('cmdb.close')}\n        </Button>\n      </div>\n\n      <div\n        style={{\n          height: 500,\n          border: '1px solid #f0f0f0',\n          borderRadius: 8,\n          backgroundColor: '#fafafa',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n      >\n        <div style={{ textAlign: 'center' }}>\n          <div style={{ fontSize: 48, color: '#1890ff', marginBottom: 16 }}>\n            <ClusterOutlined />\n          </div>\n          <div style={{ fontSize: 16, color: '#666' }}>{t('cmdb.relationsCount', { count: relatedRelations.length })}</div>\n        </div>\n      </div>\n\n      <div style={{ marginTop: 24 }}>\n        <h4>{t('cmdb.relationDetails')}</h4>\n        <Table\n          columns={[\n            {\n              title: t('cmdb.sourceCI'),\n              dataIndex: 'source',\n              key: 'source',\n              render: (source: string) => {\n                const ci = cis.find(c => c.id === source);\n                return ci ? ci.name : source;\n              },\n            },\n            {\n              title: t('cmdb.targetCI'),\n              dataIndex: 'target',\n              key: 'target',\n              render: (target: string) => {\n                const ci = cis.find(c => c.id === target);\n                return ci ? ci.name : target;\n              },\n            },\n            {\n              title: t('cmdb.relationType'),\n              dataIndex: 'type',\n              key: 'type',\n            },\n            {\n              title: t('cmdb.relationDescription'),\n              dataIndex: 'description',\n              key: 'description',\n            },\n          ]}\n          dataSource={relatedRelations}\n          pagination={false}\n          rowKey='id'\n        />\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]}