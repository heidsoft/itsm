{"version":3,"names":["_default","EnhancedBPMNDesigner","xml","onSave","onChange","height","cov_9ds58w4rb","b","f","s","handleSave","data","mockXML","handleChange","_jsxruntime","jsx","style","border","borderRadius","padding","jsxs","className","length","_antd","Button","type","onClick"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/app/components/EnhancedBPMNDesigner.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { Button } from \"antd\";\n\ninterface EnhancedBPMNDesignerProps {\n  xml: string;\n  onSave: (xml: string) => void;\n  onChange?: (xml: string) => void;\n  height?: number;\n}\n\nconst EnhancedBPMNDesigner: React.FC<EnhancedBPMNDesignerProps> = ({\n  xml,\n  onSave,\n  onChange,\n  height = 600,\n}) => {\n  const handleSave = (data: any) => {\n    // 将 WorkflowDesigner 的数据转换为 BPMN XML 格式\n    // 这里简化处理，实际应该根据 elements  and connections 生成 XML\n    const mockXML = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<bpmn:definitions xmlns:bpmn=\"http://www.omg.org/spec/BPMN/20100524/MODEL\">\n  <bpmn:process id=\"Process_1\" name=\"工作流\">\n    <!-- 这里应该根据实际数据生成 -->\n  </bpmn:process>\n</bpmn:definitions>`;\n\n    onSave(mockXML);\n  };\n\n  const handleChange = (data: any) => {\n    if (onChange) {\n      // 模拟XML变化\n      const mockXML = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<bpmn:definitions xmlns:bpmn=\"http://www.omg.org/spec/BPMN/20100524/MODEL\">\n  <bpmn:process id=\"Process_1\" name=\"工作流\">\n    <!-- 这里应该根据实际数据生成 -->\n  </bpmn:process>\n</bpmn:definitions>`;\n\n      onChange(mockXML);\n    }\n  };\n\n  return (\n    <div\n      style={{\n        height,\n        border: \"1px solid #d9d9d9\",\n        borderRadius: \"6px\",\n        padding: \"16px\",\n      }}\n    >\n      <div className=\"text-center text-gray-500\">\n        <div className=\"mb-4\">\n          <h3>BPMN流程设计器</h3>\n          <p>当前XML内容长度: {xml.length} 字符</p>\n        </div>\n        <div className=\"space-y-2\">\n          <Button type=\"primary\" onClick={handleSave}>\n            保存流程\n          </Button>\n          <Button onClick={handleChange}>模拟变更</Button>\n        </div>\n        <div className=\"mt-4 text-xs text-gray-400\">\n          <p>这是一个简化的BPMN设计器演示</p>\n          <p>实际项目中应该集成专业的BPMN设计器组件</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EnhancedBPMNDesigner;\n"],"mappings":"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","ignoreList":[]}