8ecd05b4e50f87ee934a1f8c65551680
"use strict";

/* istanbul ignore next */
function cov_l4q4cwriy() {
  var path = "/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/lib/api/ticket-rating-api.ts";
  var hash = "6e9aaf939c1b16033bf4a8c07188bbbec765088e";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/lib/api/ticket-rating-api.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 5,
          column: 0
        },
        end: {
          line: 10,
          column: 3
        }
      },
      "2": {
        start: {
          line: 8,
          column: 8
        },
        end: {
          line: 8,
          column: 31
        }
      },
      "3": {
        start: {
          line: 11,
          column: 20
        },
        end: {
          line: 11,
          column: 44
        }
      },
      "4": {
        start: {
          line: 15,
          column: 8
        },
        end: {
          line: 15,
          column: 87
        }
      },
      "5": {
        start: {
          line: 19,
          column: 8
        },
        end: {
          line: 19,
          column: 80
        }
      },
      "6": {
        start: {
          line: 23,
          column: 8
        },
        end: {
          line: 23,
          column: 82
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 7,
            column: 9
          },
          end: {
            line: 7,
            column: 10
          }
        },
        loc: {
          start: {
            line: 7,
            column: 20
          },
          end: {
            line: 9,
            column: 5
          }
        },
        line: 7
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 14,
            column: 4
          },
          end: {
            line: 14,
            column: 5
          }
        },
        loc: {
          start: {
            line: 14,
            column: 46
          },
          end: {
            line: 16,
            column: 5
          }
        },
        line: 14
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 18,
            column: 4
          },
          end: {
            line: 18,
            column: 5
          }
        },
        loc: {
          start: {
            line: 18,
            column: 37
          },
          end: {
            line: 20,
            column: 5
          }
        },
        line: 18
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 22,
            column: 4
          },
          end: {
            line: 22,
            column: 5
          }
        },
        loc: {
          start: {
            line: 22,
            column: 40
          },
          end: {
            line: 24,
            column: 5
          }
        },
        line: 22
      }
    },
    branchMap: {},
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0
    },
    b: {},
    inputSourceMap: {
      version: 3,
      sources: ["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/lib/api/ticket-rating-api.ts"],
      sourcesContent: ["import { httpClient } from './http-client';\n\n// \u5DE5\u5355\u8BC4\u5206\u7C7B\u578B\u5B9A\u4E49\nexport interface TicketRating {\n  rating: number; // 1-5\u661F\n  comment: string;\n  rated_at?: string;\n  rated_by: number;\n  rated_by_name?: string;\n}\n\nexport interface SubmitTicketRatingRequest {\n  rating: number; // 1-5\u661F\n  comment?: string;\n}\n\nexport interface RatingStats {\n  total_ratings: number;\n  average_rating: number;\n  rating_distribution: {\n    [key: number]: number; // {1: 10, 2: 5, 3: 8, 4: 20, 5: 30}\n  };\n  by_assignee?: {\n    [key: number]: {\n      assignee_id: number;\n      assignee_name: string;\n      total_ratings: number;\n      average_rating: number;\n    };\n  };\n  by_category?: {\n    [key: number]: {\n      category_id: number;\n      category_name: string;\n      total_ratings: number;\n      average_rating: number;\n    };\n  };\n}\n\nexport interface GetRatingStatsParams {\n  assignee_id?: number;\n  category_id?: number;\n  start_date?: string;\n  end_date?: string;\n}\n\nexport class TicketRatingApi {\n  // \u63D0\u4EA4\u5DE5\u5355\u8BC4\u5206\n  static async submitRating(ticketId: number, data: SubmitTicketRatingRequest): Promise<TicketRating> {\n    return httpClient.post<TicketRating>(`/api/v1/tickets/${ticketId}/rating`, data);\n  }\n\n  // \u83B7\u53D6\u5DE5\u5355\u8BC4\u5206\n  static async getRating(ticketId: number): Promise<TicketRating | null> {\n    return httpClient.get<TicketRating | null>(`/api/v1/tickets/${ticketId}/rating`);\n  }\n\n  // \u83B7\u53D6\u8BC4\u5206\u7EDF\u8BA1\n  static async getRatingStats(params?: GetRatingStatsParams): Promise<RatingStats> {\n    return httpClient.get<RatingStats>('/api/v1/tickets/rating-stats', params);\n  }\n}\n\n"],
      names: ["TicketRatingApi", "submitRating", "ticketId", "data", "httpClient", "post", "getRating", "get", "getRatingStats", "params"],
      mappings: ";;;;+BA+CaA;;;eAAAA;;;4BA/Cc;AA+CpB,MAAMA;IACX,SAAS;IACT,aAAaC,aAAaC,QAAgB,EAAEC,IAA+B,EAAyB;QAClG,OAAOC,sBAAU,CAACC,IAAI,CAAe,CAAC,gBAAgB,EAAEH,SAAS,OAAO,CAAC,EAAEC;IAC7E;IAEA,SAAS;IACT,aAAaG,UAAUJ,QAAgB,EAAgC;QACrE,OAAOE,sBAAU,CAACG,GAAG,CAAsB,CAAC,gBAAgB,EAAEL,SAAS,OAAO,CAAC;IACjF;IAEA,SAAS;IACT,aAAaM,eAAeC,MAA6B,EAAwB;QAC/E,OAAOL,sBAAU,CAACG,GAAG,CAAc,gCAAgCE;IACrE;AACF"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "6e9aaf939c1b16033bf4a8c07188bbbec765088e"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_l4q4cwriy = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_l4q4cwriy();
cov_l4q4cwriy().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_l4q4cwriy().s[1]++;
Object.defineProperty(exports, "TicketRatingApi", {
  enumerable: true,
  get: function () {
    /* istanbul ignore next */
    cov_l4q4cwriy().f[0]++;
    cov_l4q4cwriy().s[2]++;
    return TicketRatingApi;
  }
});
const _httpclient =
/* istanbul ignore next */
(cov_l4q4cwriy().s[3]++, require("./http-client"));
class TicketRatingApi {
  // 提交工单评分
  static async submitRating(ticketId, data) {
    /* istanbul ignore next */
    cov_l4q4cwriy().f[1]++;
    cov_l4q4cwriy().s[4]++;
    return _httpclient.httpClient.post(`/api/v1/tickets/${ticketId}/rating`, data);
  }
  // 获取工单评分
  static async getRating(ticketId) {
    /* istanbul ignore next */
    cov_l4q4cwriy().f[2]++;
    cov_l4q4cwriy().s[5]++;
    return _httpclient.httpClient.get(`/api/v1/tickets/${ticketId}/rating`);
  }
  // 获取评分统计
  static async getRatingStats(params) {
    /* istanbul ignore next */
    cov_l4q4cwriy().f[3]++;
    cov_l4q4cwriy().s[6]++;
    return _httpclient.httpClient.get('/api/v1/tickets/rating-stats', params);
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfbDRxNGN3cml5IiwiYWN0dWFsQ292ZXJhZ2UiLCJzIiwiVGlja2V0UmF0aW5nQXBpIiwic3VibWl0UmF0aW5nIiwidGlja2V0SWQiLCJkYXRhIiwiZiIsIl9odHRwY2xpZW50IiwiaHR0cENsaWVudCIsInBvc3QiLCJnZXRSYXRpbmciLCJnZXQiLCJnZXRSYXRpbmdTdGF0cyIsInBhcmFtcyJdLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZWlkc29mdC9Eb3dubG9hZHMvcmVzZWFyY2gvaXRzbS9pdHNtLXByb3RvdHlwZS9zcmMvbGliL2FwaS90aWNrZXQtcmF0aW5nLWFwaS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBodHRwQ2xpZW50IH0gZnJvbSAnLi9odHRwLWNsaWVudCc7XG5cbi8vIOW3peWNleivhOWIhuexu+Wei+WumuS5iVxuZXhwb3J0IGludGVyZmFjZSBUaWNrZXRSYXRpbmcge1xuICByYXRpbmc6IG51bWJlcjsgLy8gMS015pifXG4gIGNvbW1lbnQ6IHN0cmluZztcbiAgcmF0ZWRfYXQ/OiBzdHJpbmc7XG4gIHJhdGVkX2J5OiBudW1iZXI7XG4gIHJhdGVkX2J5X25hbWU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3VibWl0VGlja2V0UmF0aW5nUmVxdWVzdCB7XG4gIHJhdGluZzogbnVtYmVyOyAvLyAxLTXmmJ9cbiAgY29tbWVudD86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSYXRpbmdTdGF0cyB7XG4gIHRvdGFsX3JhdGluZ3M6IG51bWJlcjtcbiAgYXZlcmFnZV9yYXRpbmc6IG51bWJlcjtcbiAgcmF0aW5nX2Rpc3RyaWJ1dGlvbjoge1xuICAgIFtrZXk6IG51bWJlcl06IG51bWJlcjsgLy8gezE6IDEwLCAyOiA1LCAzOiA4LCA0OiAyMCwgNTogMzB9XG4gIH07XG4gIGJ5X2Fzc2lnbmVlPzoge1xuICAgIFtrZXk6IG51bWJlcl06IHtcbiAgICAgIGFzc2lnbmVlX2lkOiBudW1iZXI7XG4gICAgICBhc3NpZ25lZV9uYW1lOiBzdHJpbmc7XG4gICAgICB0b3RhbF9yYXRpbmdzOiBudW1iZXI7XG4gICAgICBhdmVyYWdlX3JhdGluZzogbnVtYmVyO1xuICAgIH07XG4gIH07XG4gIGJ5X2NhdGVnb3J5Pzoge1xuICAgIFtrZXk6IG51bWJlcl06IHtcbiAgICAgIGNhdGVnb3J5X2lkOiBudW1iZXI7XG4gICAgICBjYXRlZ29yeV9uYW1lOiBzdHJpbmc7XG4gICAgICB0b3RhbF9yYXRpbmdzOiBudW1iZXI7XG4gICAgICBhdmVyYWdlX3JhdGluZzogbnVtYmVyO1xuICAgIH07XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2V0UmF0aW5nU3RhdHNQYXJhbXMge1xuICBhc3NpZ25lZV9pZD86IG51bWJlcjtcbiAgY2F0ZWdvcnlfaWQ/OiBudW1iZXI7XG4gIHN0YXJ0X2RhdGU/OiBzdHJpbmc7XG4gIGVuZF9kYXRlPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgVGlja2V0UmF0aW5nQXBpIHtcbiAgLy8g5o+Q5Lqk5bel5Y2V6K+E5YiGXG4gIHN0YXRpYyBhc3luYyBzdWJtaXRSYXRpbmcodGlja2V0SWQ6IG51bWJlciwgZGF0YTogU3VibWl0VGlja2V0UmF0aW5nUmVxdWVzdCk6IFByb21pc2U8VGlja2V0UmF0aW5nPiB7XG4gICAgcmV0dXJuIGh0dHBDbGllbnQucG9zdDxUaWNrZXRSYXRpbmc+KGAvYXBpL3YxL3RpY2tldHMvJHt0aWNrZXRJZH0vcmF0aW5nYCwgZGF0YSk7XG4gIH1cblxuICAvLyDojrflj5blt6XljZXor4TliIZcbiAgc3RhdGljIGFzeW5jIGdldFJhdGluZyh0aWNrZXRJZDogbnVtYmVyKTogUHJvbWlzZTxUaWNrZXRSYXRpbmcgfCBudWxsPiB7XG4gICAgcmV0dXJuIGh0dHBDbGllbnQuZ2V0PFRpY2tldFJhdGluZyB8IG51bGw+KGAvYXBpL3YxL3RpY2tldHMvJHt0aWNrZXRJZH0vcmF0aW5nYCk7XG4gIH1cblxuICAvLyDojrflj5bor4TliIbnu5/orqFcbiAgc3RhdGljIGFzeW5jIGdldFJhdGluZ1N0YXRzKHBhcmFtcz86IEdldFJhdGluZ1N0YXRzUGFyYW1zKTogUHJvbWlzZTxSYXRpbmdTdGF0cz4ge1xuICAgIHJldHVybiBodHRwQ2xpZW50LmdldDxSYXRpbmdTdGF0cz4oJy9hcGkvdjEvdGlja2V0cy9yYXRpbmctc3RhdHMnLCBwYXJhbXMpO1xuICB9XG59XG5cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBbURFO0lBQUFBLGFBQUEsWUFBQUEsQ0FBQTtNQUFBLE9BQUFDLGNBQUE7SUFBQTtFQUFBO0VBQUEsT0FBQUEsY0FBQTtBQUFBO0FBQUFELGFBQUE7QUFBQUEsYUFBQSxHQUFBRSxDQUFBOzs7Ozs7K0JBSlc7Ozs7OztXQUFBQyxlQUFBOzs7OztpQ0EvQ2M7QUErQ3BCLE1BQU1BLGVBQUE7RUFDWDtFQUNBLGFBQWFDLGFBQWFDLFFBQWdCLEVBQUVDLElBQStCLEVBQXlCO0lBQUE7SUFBQU4sYUFBQSxHQUFBTyxDQUFBO0lBQUFQLGFBQUEsR0FBQUUsQ0FBQTtJQUNsRyxPQUFPTSxXQUFBLENBQUFDLFVBQVUsQ0FBQ0MsSUFBSSxDQUFlLG1CQUFtQkwsUUFBQSxTQUFpQixFQUFFQyxJQUFBO0VBQzdFO0VBRUE7RUFDQSxhQUFhSyxVQUFVTixRQUFnQixFQUFnQztJQUFBO0lBQUFMLGFBQUEsR0FBQU8sQ0FBQTtJQUFBUCxhQUFBLEdBQUFFLENBQUE7SUFDckUsT0FBT00sV0FBQSxDQUFBQyxVQUFVLENBQUNHLEdBQUcsQ0FBc0IsbUJBQW1CUCxRQUFBLFNBQWlCO0VBQ2pGO0VBRUE7RUFDQSxhQUFhUSxlQUFlQyxNQUE2QixFQUF3QjtJQUFBO0lBQUFkLGFBQUEsR0FBQU8sQ0FBQTtJQUFBUCxhQUFBLEdBQUFFLENBQUE7SUFDL0UsT0FBT00sV0FBQSxDQUFBQyxVQUFVLENBQUNHLEdBQUcsQ0FBYyxnQ0FBZ0NFLE1BQUE7RUFDckU7QUFDRiIsImlnbm9yZUxpc3QiOltdfQ==