9690ac89920daba64617df8dfe6c5ef3
/**
 * 统一表格组件测试
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _testutils = require("../../../lib/test-utils");
const _UnifiedTable = require("../UnifiedTable");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock数据
const mockData = [
    {
        id: 1,
        name: '测试项目1',
        status: 'active',
        createdAt: '2024-01-01'
    },
    {
        id: 2,
        name: '测试项目2',
        status: 'inactive',
        createdAt: '2024-01-02'
    },
    {
        id: 3,
        name: '测试项目3',
        status: 'active',
        createdAt: '2024-01-03'
    }
];
const mockColumns = [
    {
        key: 'name',
        title: '名称',
        dataIndex: 'name',
        width: 200
    },
    {
        key: 'status',
        title: '状态',
        dataIndex: 'status',
        width: 100,
        render: (value)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                className: value === 'active' ? 'text-green-500' : 'text-red-500',
                children: value === 'active' ? '活跃' : '非活跃'
            })
    },
    {
        key: 'createdAt',
        title: '创建时间',
        dataIndex: 'createdAt',
        width: 150
    }
];
const mockFilters = [
    {
        key: 'status',
        label: '状态',
        type: 'select',
        options: [
            {
                label: '活跃',
                value: 'active'
            },
            {
                label: '非活跃',
                value: 'inactive'
            }
        ]
    },
    {
        key: 'name',
        label: '名称',
        type: 'text',
        placeholder: '搜索名称'
    }
];
const mockActions = [
    {
        key: 'create',
        label: '创建',
        type: 'primary',
        onClick: ()=>console.log('创建')
    }
];
describe('UnifiedTable', ()=>{
    it('should render table with data', ()=>{
        (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedTable.UnifiedTable, {
            dataSource: mockData,
            columns: mockColumns,
            pagination: {
                current: 1,
                pageSize: 10,
                total: 3
            }
        }));
        expect(_testutils.screen.getByText('测试项目1')).toBeInTheDocument();
        expect(_testutils.screen.getByText('测试项目2')).toBeInTheDocument();
        expect(_testutils.screen.getByText('测试项目3')).toBeInTheDocument();
    });
    it('should render table header with title and actions', ()=>{
        (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedTable.UnifiedTable, {
            dataSource: mockData,
            columns: mockColumns,
            title: "测试表格",
            actions: mockActions
        }));
        expect(_testutils.screen.getByText('测试表格')).toBeInTheDocument();
        expect(_testutils.screen.getByText('创建')).toBeInTheDocument();
    });
    it('should render search input when search config is provided', ()=>{
        (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedTable.UnifiedTable, {
            dataSource: mockData,
            columns: mockColumns,
            search: {
                placeholder: '搜索...',
                onSearch: jest.fn()
            }
        }));
        expect(_testutils.screen.getByPlaceholderText('搜索...')).toBeInTheDocument();
    });
    it('should render filters when provided', ()=>{
        (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedTable.UnifiedTable, {
            dataSource: mockData,
            columns: mockColumns,
            filters: mockFilters,
            onFilterChange: jest.fn()
        }));
        expect(_testutils.screen.getByText('状态')).toBeInTheDocument();
        expect(_testutils.screen.getByText('名称')).toBeInTheDocument();
    });
    it('should handle search input change', async ()=>{
        const mockOnSearch = jest.fn();
        (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedTable.UnifiedTable, {
            dataSource: mockData,
            columns: mockColumns,
            search: {
                placeholder: '搜索...',
                onSearch: mockOnSearch
            }
        }));
        const searchInput = _testutils.screen.getByPlaceholderText('搜索...');
        _testutils.fireEvent.change(searchInput, {
            target: {
                value: '测试'
            }
        });
        await (0, _testutils.waitFor)(()=>{
            expect(mockOnSearch).toHaveBeenCalledWith('测试');
        });
    });
    it('should handle filter change', async ()=>{
        const mockOnFilterChange = jest.fn();
        (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedTable.UnifiedTable, {
            dataSource: mockData,
            columns: mockColumns,
            filters: mockFilters,
            onFilterChange: mockOnFilterChange
        }));
        const statusSelect = _testutils.screen.getByDisplayValue('');
        _testutils.fireEvent.change(statusSelect, {
            target: {
                value: 'active'
            }
        });
        await (0, _testutils.waitFor)(()=>{
            expect(mockOnFilterChange).toHaveBeenCalled();
        });
    });
    it('should handle pagination change', ()=>{
        const mockOnPaginationChange = jest.fn();
        (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedTable.UnifiedTable, {
            dataSource: mockData,
            columns: mockColumns,
            pagination: {
                current: 1,
                pageSize: 10,
                total: 3
            },
            onPaginationChange: mockOnPaginationChange
        }));
        // 这里需要找到分页按钮并点击
        // 由于Ant Design的分页组件比较复杂，这里简化测试
        expect(_testutils.screen.getByText('第 1-3 条，共 3 条')).toBeInTheDocument();
    });
    it('should show loading state', ()=>{
        (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedTable.UnifiedTable, {
            dataSource: mockData,
            columns: mockColumns,
            loading: true
        }));
        // 检查是否有加载状态
        expect(_testutils.screen.getByRole('table')).toBeInTheDocument();
    });
    it('should handle empty data', ()=>{
        (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedTable.UnifiedTable, {
            dataSource: [],
            columns: mockColumns
        }));
        expect(_testutils.screen.getByText('暂无数据')).toBeInTheDocument();
    });
    it('should render batch actions when rows are selected', ()=>{
        const mockOnBatchDelete = jest.fn();
        (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedTable.UnifiedTable, {
            dataSource: mockData,
            columns: mockColumns,
            selectedRowKeys: [
                1,
                2
            ],
            onBatchDelete: mockOnBatchDelete,
            batchActions: [
                {
                    key: 'delete',
                    label: '批量删除',
                    type: 'default',
                    danger: true,
                    onClick: mockOnBatchDelete
                }
            ]
        }));
        expect(_testutils.screen.getByText('已选择 2 项')).toBeInTheDocument();
        expect(_testutils.screen.getByText('批量删除')).toBeInTheDocument();
    });
    it('should handle row selection', ()=>{
        const mockOnRowSelectionChange = jest.fn();
        (0, _testutils.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedTable.UnifiedTable, {
            dataSource: mockData,
            columns: mockColumns,
            onRowSelectionChange: mockOnRowSelectionChange
        }));
        // 这里需要模拟选择行的操作
        // 由于Ant Design的表格组件比较复杂，这里简化测试
        expect(_testutils.screen.getByRole('table')).toBeInTheDocument();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZWlkc29mdC9Eb3dubG9hZHMvcmVzZWFyY2gvaXRzbS9pdHNtLXByb3RvdHlwZS9zcmMvY29tcG9uZW50cy91aS9fX3Rlc3RzX18vVW5pZmllZFRhYmxlLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICog57uf5LiA6KGo5qC857uE5Lu25rWL6K+VXG4gKi9cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQsIHdhaXRGb3IgfSBmcm9tICcuLi8uLi8uLi9saWIvdGVzdC11dGlscyc7XG5pbXBvcnQgeyBVbmlmaWVkVGFibGUgfSBmcm9tICcuLi9VbmlmaWVkVGFibGUnO1xuaW1wb3J0IHsgVGFibGVDb2x1bW4sIEZpbHRlckNvbmZpZywgQWN0aW9uQnV0dG9uIH0gZnJvbSAnLi4vLi4vLi4vdHlwZXMvY29tbW9uJztcblxuLy8gTW9ja+aVsOaNrlxuY29uc3QgbW9ja0RhdGEgPSBbXG4gIHsgaWQ6IDEsIG5hbWU6ICfmtYvor5Xpobnnm64xJywgc3RhdHVzOiAnYWN0aXZlJywgY3JlYXRlZEF0OiAnMjAyNC0wMS0wMScgfSxcbiAgeyBpZDogMiwgbmFtZTogJ+a1i+ivlemhueebrjInLCBzdGF0dXM6ICdpbmFjdGl2ZScsIGNyZWF0ZWRBdDogJzIwMjQtMDEtMDInIH0sXG4gIHsgaWQ6IDMsIG5hbWU6ICfmtYvor5Xpobnnm64zJywgc3RhdHVzOiAnYWN0aXZlJywgY3JlYXRlZEF0OiAnMjAyNC0wMS0wMycgfSxcbl07XG5cbmNvbnN0IG1vY2tDb2x1bW5zOiBUYWJsZUNvbHVtbltdID0gW1xuICB7XG4gICAga2V5OiAnbmFtZScsXG4gICAgdGl0bGU6ICflkI3np7AnLFxuICAgIGRhdGFJbmRleDogJ25hbWUnLFxuICAgIHdpZHRoOiAyMDAsXG4gIH0sXG4gIHtcbiAgICBrZXk6ICdzdGF0dXMnLFxuICAgIHRpdGxlOiAn54q25oCBJyxcbiAgICBkYXRhSW5kZXg6ICdzdGF0dXMnLFxuICAgIHdpZHRoOiAxMDAsXG4gICAgcmVuZGVyOiAodmFsdWU6IHN0cmluZykgPT4gKFxuICAgICAgPHNwYW4gY2xhc3NOYW1lPXt2YWx1ZSA9PT0gJ2FjdGl2ZScgPyAndGV4dC1ncmVlbi01MDAnIDogJ3RleHQtcmVkLTUwMCd9PlxuICAgICAgICB7dmFsdWUgPT09ICdhY3RpdmUnID8gJ+a0u+i3gycgOiAn6Z2e5rS76LeDJ31cbiAgICAgIDwvc3Bhbj5cbiAgICApLFxuICB9LFxuICB7XG4gICAga2V5OiAnY3JlYXRlZEF0JyxcbiAgICB0aXRsZTogJ+WIm+W7uuaXtumXtCcsXG4gICAgZGF0YUluZGV4OiAnY3JlYXRlZEF0JyxcbiAgICB3aWR0aDogMTUwLFxuICB9LFxuXTtcblxuY29uc3QgbW9ja0ZpbHRlcnM6IEZpbHRlckNvbmZpZ1tdID0gW1xuICB7XG4gICAga2V5OiAnc3RhdHVzJyxcbiAgICBsYWJlbDogJ+eKtuaAgScsXG4gICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgb3B0aW9uczogW1xuICAgICAgeyBsYWJlbDogJ+a0u+i3gycsIHZhbHVlOiAnYWN0aXZlJyB9LFxuICAgICAgeyBsYWJlbDogJ+mdnua0u+i3gycsIHZhbHVlOiAnaW5hY3RpdmUnIH0sXG4gICAgXSxcbiAgfSxcbiAge1xuICAgIGtleTogJ25hbWUnLFxuICAgIGxhYmVsOiAn5ZCN56ewJyxcbiAgICB0eXBlOiAndGV4dCcsXG4gICAgcGxhY2Vob2xkZXI6ICfmkJzntKLlkI3np7AnLFxuICB9LFxuXTtcblxuY29uc3QgbW9ja0FjdGlvbnM6IEFjdGlvbkJ1dHRvbltdID0gW1xuICB7XG4gICAga2V5OiAnY3JlYXRlJyxcbiAgICBsYWJlbDogJ+WIm+W7uicsXG4gICAgdHlwZTogJ3ByaW1hcnknLFxuICAgIG9uQ2xpY2s6ICgpID0+IGNvbnNvbGUubG9nKCfliJvlu7onKSxcbiAgfSxcbl07XG5cbmRlc2NyaWJlKCdVbmlmaWVkVGFibGUnLCAoKSA9PiB7XG4gIGl0KCdzaG91bGQgcmVuZGVyIHRhYmxlIHdpdGggZGF0YScsICgpID0+IHtcbiAgICByZW5kZXIoXG4gICAgICA8VW5pZmllZFRhYmxlXG4gICAgICAgIGRhdGFTb3VyY2U9e21vY2tEYXRhfVxuICAgICAgICBjb2x1bW5zPXttb2NrQ29sdW1uc31cbiAgICAgICAgcGFnaW5hdGlvbj17e1xuICAgICAgICAgIGN1cnJlbnQ6IDEsXG4gICAgICAgICAgcGFnZVNpemU6IDEwLFxuICAgICAgICAgIHRvdGFsOiAzLFxuICAgICAgICB9fVxuICAgICAgLz5cbiAgICApO1xuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ+a1i+ivlemhueebrjEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn5rWL6K+V6aG555uuMicpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCfmtYvor5Xpobnnm64zJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgcmVuZGVyIHRhYmxlIGhlYWRlciB3aXRoIHRpdGxlIGFuZCBhY3Rpb25zJywgKCkgPT4ge1xuICAgIHJlbmRlcihcbiAgICAgIDxVbmlmaWVkVGFibGVcbiAgICAgICAgZGF0YVNvdXJjZT17bW9ja0RhdGF9XG4gICAgICAgIGNvbHVtbnM9e21vY2tDb2x1bW5zfVxuICAgICAgICB0aXRsZT0n5rWL6K+V6KGo5qC8J1xuICAgICAgICBhY3Rpb25zPXttb2NrQWN0aW9uc31cbiAgICAgIC8+XG4gICAgKTtcblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCfmtYvor5XooajmoLwnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn5Yib5bu6JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgcmVuZGVyIHNlYXJjaCBpbnB1dCB3aGVuIHNlYXJjaCBjb25maWcgaXMgcHJvdmlkZWQnLCAoKSA9PiB7XG4gICAgcmVuZGVyKFxuICAgICAgPFVuaWZpZWRUYWJsZVxuICAgICAgICBkYXRhU291cmNlPXttb2NrRGF0YX1cbiAgICAgICAgY29sdW1ucz17bW9ja0NvbHVtbnN9XG4gICAgICAgIHNlYXJjaD17e1xuICAgICAgICAgIHBsYWNlaG9sZGVyOiAn5pCc57SiLi4uJyxcbiAgICAgICAgICBvblNlYXJjaDogamVzdC5mbigpLFxuICAgICAgICB9fVxuICAgICAgLz5cbiAgICApO1xuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgn5pCc57SiLi4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgcmVuZGVyIGZpbHRlcnMgd2hlbiBwcm92aWRlZCcsICgpID0+IHtcbiAgICByZW5kZXIoXG4gICAgICA8VW5pZmllZFRhYmxlXG4gICAgICAgIGRhdGFTb3VyY2U9e21vY2tEYXRhfVxuICAgICAgICBjb2x1bW5zPXttb2NrQ29sdW1uc31cbiAgICAgICAgZmlsdGVycz17bW9ja0ZpbHRlcnN9XG4gICAgICAgIG9uRmlsdGVyQ2hhbmdlPXtqZXN0LmZuKCl9XG4gICAgICAvPlxuICAgICk7XG5cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn54q25oCBJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ+WQjeensCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGhhbmRsZSBzZWFyY2ggaW5wdXQgY2hhbmdlJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tPblNlYXJjaCA9IGplc3QuZm4oKTtcblxuICAgIHJlbmRlcihcbiAgICAgIDxVbmlmaWVkVGFibGVcbiAgICAgICAgZGF0YVNvdXJjZT17bW9ja0RhdGF9XG4gICAgICAgIGNvbHVtbnM9e21vY2tDb2x1bW5zfVxuICAgICAgICBzZWFyY2g9e3tcbiAgICAgICAgICBwbGFjZWhvbGRlcjogJ+aQnOe0oi4uLicsXG4gICAgICAgICAgb25TZWFyY2g6IG1vY2tPblNlYXJjaCxcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgKTtcblxuICAgIGNvbnN0IHNlYXJjaElucHV0ID0gc2NyZWVuLmdldEJ5UGxhY2Vob2xkZXJUZXh0KCfmkJzntKIuLi4nKTtcbiAgICBmaXJlRXZlbnQuY2hhbmdlKHNlYXJjaElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ+a1i+ivlScgfSB9KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KG1vY2tPblNlYXJjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ+a1i+ivlScpO1xuICAgIH0pO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGhhbmRsZSBmaWx0ZXIgY2hhbmdlJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tPbkZpbHRlckNoYW5nZSA9IGplc3QuZm4oKTtcblxuICAgIHJlbmRlcihcbiAgICAgIDxVbmlmaWVkVGFibGVcbiAgICAgICAgZGF0YVNvdXJjZT17bW9ja0RhdGF9XG4gICAgICAgIGNvbHVtbnM9e21vY2tDb2x1bW5zfVxuICAgICAgICBmaWx0ZXJzPXttb2NrRmlsdGVyc31cbiAgICAgICAgb25GaWx0ZXJDaGFuZ2U9e21vY2tPbkZpbHRlckNoYW5nZX1cbiAgICAgIC8+XG4gICAgKTtcblxuICAgIGNvbnN0IHN0YXR1c1NlbGVjdCA9IHNjcmVlbi5nZXRCeURpc3BsYXlWYWx1ZSgnJyk7XG4gICAgZmlyZUV2ZW50LmNoYW5nZShzdGF0dXNTZWxlY3QsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnYWN0aXZlJyB9IH0pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QobW9ja09uRmlsdGVyQ2hhbmdlKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgaGFuZGxlIHBhZ2luYXRpb24gY2hhbmdlJywgKCkgPT4ge1xuICAgIGNvbnN0IG1vY2tPblBhZ2luYXRpb25DaGFuZ2UgPSBqZXN0LmZuKCk7XG5cbiAgICByZW5kZXIoXG4gICAgICA8VW5pZmllZFRhYmxlXG4gICAgICAgIGRhdGFTb3VyY2U9e21vY2tEYXRhfVxuICAgICAgICBjb2x1bW5zPXttb2NrQ29sdW1uc31cbiAgICAgICAgcGFnaW5hdGlvbj17e1xuICAgICAgICAgIGN1cnJlbnQ6IDEsXG4gICAgICAgICAgcGFnZVNpemU6IDEwLFxuICAgICAgICAgIHRvdGFsOiAzLFxuICAgICAgICB9fVxuICAgICAgICBvblBhZ2luYXRpb25DaGFuZ2U9e21vY2tPblBhZ2luYXRpb25DaGFuZ2V9XG4gICAgICAvPlxuICAgICk7XG5cbiAgICAvLyDov5nph4zpnIDopoHmib7liLDliIbpobXmjInpkq7lubbngrnlh7tcbiAgICAvLyDnlLHkuo5BbnQgRGVzaWdu55qE5YiG6aG157uE5Lu25q+U6L6D5aSN5p2C77yM6L+Z6YeM566A5YyW5rWL6K+VXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ+esrCAxLTMg5p2h77yM5YWxIDMg5p2hJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgc2hvdyBsb2FkaW5nIHN0YXRlJywgKCkgPT4ge1xuICAgIHJlbmRlcig8VW5pZmllZFRhYmxlIGRhdGFTb3VyY2U9e21vY2tEYXRhfSBjb2x1bW5zPXttb2NrQ29sdW1uc30gbG9hZGluZz17dHJ1ZX0gLz4pO1xuXG4gICAgLy8g5qOA5p+l5piv5ZCm5pyJ5Yqg6L2954q25oCBXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ3RhYmxlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgaGFuZGxlIGVtcHR5IGRhdGEnLCAoKSA9PiB7XG4gICAgcmVuZGVyKDxVbmlmaWVkVGFibGUgZGF0YVNvdXJjZT17W119IGNvbHVtbnM9e21vY2tDb2x1bW5zfSAvPik7XG5cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgn5pqC5peg5pWw5o2uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG91bGQgcmVuZGVyIGJhdGNoIGFjdGlvbnMgd2hlbiByb3dzIGFyZSBzZWxlY3RlZCcsICgpID0+IHtcbiAgICBjb25zdCBtb2NrT25CYXRjaERlbGV0ZSA9IGplc3QuZm4oKTtcblxuICAgIHJlbmRlcihcbiAgICAgIDxVbmlmaWVkVGFibGVcbiAgICAgICAgZGF0YVNvdXJjZT17bW9ja0RhdGF9XG4gICAgICAgIGNvbHVtbnM9e21vY2tDb2x1bW5zfVxuICAgICAgICBzZWxlY3RlZFJvd0tleXM9e1sxLCAyXX1cbiAgICAgICAgb25CYXRjaERlbGV0ZT17bW9ja09uQmF0Y2hEZWxldGV9XG4gICAgICAgIGJhdGNoQWN0aW9ucz17W1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGtleTogJ2RlbGV0ZScsXG4gICAgICAgICAgICBsYWJlbDogJ+aJuemHj+WIoOmZpCcsXG4gICAgICAgICAgICB0eXBlOiAnZGVmYXVsdCcsXG4gICAgICAgICAgICBkYW5nZXI6IHRydWUsXG4gICAgICAgICAgICBvbkNsaWNrOiBtb2NrT25CYXRjaERlbGV0ZSxcbiAgICAgICAgICB9LFxuICAgICAgICBdfVxuICAgICAgLz5cbiAgICApO1xuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ+W3sumAieaLqSAyIOmhuScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCfmibnph4/liKDpmaQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBoYW5kbGUgcm93IHNlbGVjdGlvbicsICgpID0+IHtcbiAgICBjb25zdCBtb2NrT25Sb3dTZWxlY3Rpb25DaGFuZ2UgPSBqZXN0LmZuKCk7XG5cbiAgICByZW5kZXIoXG4gICAgICA8VW5pZmllZFRhYmxlXG4gICAgICAgIGRhdGFTb3VyY2U9e21vY2tEYXRhfVxuICAgICAgICBjb2x1bW5zPXttb2NrQ29sdW1uc31cbiAgICAgICAgb25Sb3dTZWxlY3Rpb25DaGFuZ2U9e21vY2tPblJvd1NlbGVjdGlvbkNoYW5nZX1cbiAgICAgIC8+XG4gICAgKTtcblxuICAgIC8vIOi/memHjOmcgOimgeaooeaLn+mAieaLqeihjOeahOaTjeS9nFxuICAgIC8vIOeUseS6jkFudCBEZXNpZ27nmoTooajmoLznu4Tku7bmr5TovoPlpI3mnYLvvIzov5nph4znroDljJbmtYvor5VcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5Um9sZSgndGFibGUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJtb2NrRGF0YSIsImlkIiwibmFtZSIsInN0YXR1cyIsImNyZWF0ZWRBdCIsIm1vY2tDb2x1bW5zIiwia2V5IiwidGl0bGUiLCJkYXRhSW5kZXgiLCJ3aWR0aCIsInJlbmRlciIsInZhbHVlIiwic3BhbiIsImNsYXNzTmFtZSIsIm1vY2tGaWx0ZXJzIiwibGFiZWwiLCJ0eXBlIiwib3B0aW9ucyIsInBsYWNlaG9sZGVyIiwibW9ja0FjdGlvbnMiLCJvbkNsaWNrIiwiY29uc29sZSIsImxvZyIsImRlc2NyaWJlIiwiaXQiLCJVbmlmaWVkVGFibGUiLCJkYXRhU291cmNlIiwiY29sdW1ucyIsInBhZ2luYXRpb24iLCJjdXJyZW50IiwicGFnZVNpemUiLCJ0b3RhbCIsImV4cGVjdCIsInNjcmVlbiIsImdldEJ5VGV4dCIsInRvQmVJblRoZURvY3VtZW50IiwiYWN0aW9ucyIsInNlYXJjaCIsIm9uU2VhcmNoIiwiamVzdCIsImZuIiwiZ2V0QnlQbGFjZWhvbGRlclRleHQiLCJmaWx0ZXJzIiwib25GaWx0ZXJDaGFuZ2UiLCJtb2NrT25TZWFyY2giLCJzZWFyY2hJbnB1dCIsImZpcmVFdmVudCIsImNoYW5nZSIsInRhcmdldCIsIndhaXRGb3IiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsIm1vY2tPbkZpbHRlckNoYW5nZSIsInN0YXR1c1NlbGVjdCIsImdldEJ5RGlzcGxheVZhbHVlIiwidG9IYXZlQmVlbkNhbGxlZCIsIm1vY2tPblBhZ2luYXRpb25DaGFuZ2UiLCJvblBhZ2luYXRpb25DaGFuZ2UiLCJsb2FkaW5nIiwiZ2V0QnlSb2xlIiwibW9ja09uQmF0Y2hEZWxldGUiLCJzZWxlY3RlZFJvd0tleXMiLCJvbkJhdGNoRGVsZXRlIiwiYmF0Y2hBY3Rpb25zIiwiZGFuZ2VyIiwibW9ja09uUm93U2VsZWN0aW9uQ2hhbmdlIiwib25Sb3dTZWxlY3Rpb25DaGFuZ2UiXSwibWFwcGluZ3MiOiJBQUFBOztDQUVDOzs7Ozs4REFFaUI7MkJBQ2lDOzhCQUN0Qjs7Ozs7O0FBRzdCLFNBQVM7QUFDVCxNQUFNQSxXQUFXO0lBQ2Y7UUFBRUMsSUFBSTtRQUFHQyxNQUFNO1FBQVNDLFFBQVE7UUFBVUMsV0FBVztJQUFhO0lBQ2xFO1FBQUVILElBQUk7UUFBR0MsTUFBTTtRQUFTQyxRQUFRO1FBQVlDLFdBQVc7SUFBYTtJQUNwRTtRQUFFSCxJQUFJO1FBQUdDLE1BQU07UUFBU0MsUUFBUTtRQUFVQyxXQUFXO0lBQWE7Q0FDbkU7QUFFRCxNQUFNQyxjQUE2QjtJQUNqQztRQUNFQyxLQUFLO1FBQ0xDLE9BQU87UUFDUEMsV0FBVztRQUNYQyxPQUFPO0lBQ1Q7SUFDQTtRQUNFSCxLQUFLO1FBQ0xDLE9BQU87UUFDUEMsV0FBVztRQUNYQyxPQUFPO1FBQ1BDLFFBQVEsQ0FBQ0Msc0JBQ1AscUJBQUNDO2dCQUFLQyxXQUFXRixVQUFVLFdBQVcsbUJBQW1COzBCQUN0REEsVUFBVSxXQUFXLE9BQU87O0lBR25DO0lBQ0E7UUFDRUwsS0FBSztRQUNMQyxPQUFPO1FBQ1BDLFdBQVc7UUFDWEMsT0FBTztJQUNUO0NBQ0Q7QUFFRCxNQUFNSyxjQUE4QjtJQUNsQztRQUNFUixLQUFLO1FBQ0xTLE9BQU87UUFDUEMsTUFBTTtRQUNOQyxTQUFTO1lBQ1A7Z0JBQUVGLE9BQU87Z0JBQU1KLE9BQU87WUFBUztZQUMvQjtnQkFBRUksT0FBTztnQkFBT0osT0FBTztZQUFXO1NB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