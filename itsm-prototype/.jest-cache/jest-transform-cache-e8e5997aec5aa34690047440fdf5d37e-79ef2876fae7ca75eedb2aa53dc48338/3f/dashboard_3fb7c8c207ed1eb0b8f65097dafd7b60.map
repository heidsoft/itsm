{"version":3,"names":["cov_2bko2zvzly","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","branchMap","s","f","b","inputSourceMap","version","sources","sourcesContent","names","mappings","_coverageSchema","coverage","actualCoverage"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/types/dashboard.ts"],"sourcesContent":["/**\n * 仪表盘相关类型定义\n */\n\nexport type ChartType = 'line' | 'bar' | 'pie' | 'doughnut' | 'area' | 'scatter' | 'gauge';\nexport type TimeRange = '1h' | '6h' | '24h' | '7d' | '30d' | '90d' | '1y' | 'custom';\nexport type MetricType = 'count' | 'percentage' | 'average' | 'sum' | 'min' | 'max';\n\nexport interface DashboardWidget {\n  id: string;\n  type: 'metric' | 'chart' | 'table' | 'list' | 'progress' | 'status';\n  title: string;\n  description?: string;\n  position: {\n    x: number;\n    y: number;\n    w: number;\n    h: number;\n  };\n  config: WidgetConfig;\n  dataSource: string;\n  refreshInterval?: number; // seconds\n  isVisible: boolean;\n  permissions?: string[];\n}\n\nexport interface WidgetConfig {\n  // 通用配置\n  showTitle?: boolean;\n  showBorder?: boolean;\n  backgroundColor?: string;\n  \n  // 图表配置\n  chartType?: ChartType;\n  xAxis?: string;\n  yAxis?: string;\n  groupBy?: string;\n  aggregation?: MetricType;\n  \n  // 表格配置\n  columns?: TableColumn[];\n  pageSize?: number;\n  showPagination?: boolean;\n  \n  // 指标配置\n  metric?: string;\n  unit?: string;\n  format?: string;\n  threshold?: {\n    warning: number;\n    critical: number;\n  };\n  \n  // 样式配置\n  colors?: string[];\n  theme?: 'light' | 'dark';\n}\n\nexport interface TableColumn {\n  key: string;\n  title: string;\n  dataIndex: string;\n  width?: number;\n  align?: 'left' | 'center' | 'right';\n  sortable?: boolean;\n  filterable?: boolean;\n  render?: string; // 渲染函数名\n}\n\nexport interface Dashboard {\n  id: number;\n  name: string;\n  description?: string;\n  isDefault: boolean;\n  isPublic: boolean;\n  layout: DashboardLayout;\n  widgets: DashboardWidget[];\n  filters: DashboardFilter[];\n  permissions: string[];\n  \n  // 元数据\n  createdBy: number;\n  updatedBy: number;\n  createdAt: string;\n  updatedAt: string;\n  \n  // 共享设置\n  shareSettings: {\n    isShared: boolean;\n    shareToken?: string;\n    expiresAt?: string;\n    allowedUsers?: number[];\n    allowedRoles?: string[];\n  };\n}\n\nexport interface DashboardLayout {\n  cols: number;\n  rows: number;\n  margin: [number, number];\n  containerPadding: [number, number];\n  rowHeight: number;\n  isDraggable: boolean;\n  isResizable: boolean;\n}\n\nexport interface DashboardFilter {\n  id: string;\n  name: string;\n  type: 'select' | 'multiselect' | 'date' | 'daterange' | 'text' | 'number';\n  field: string;\n  options?: FilterOption[];\n  defaultValue?: unknown;\n  isRequired: boolean;\n  isVisible: boolean;\n}\n\nexport interface FilterOption {\n  label: string;\n  value: unknown;\n  color?: string;\n}\n\n// 仪表盘数据\nexport interface DashboardData {\n  widgets: Record<string, WidgetData>;\n  lastUpdated: string;\n  timeRange: TimeRange;\n  filters: Record<string, unknown>;\n}\n\nexport interface WidgetData {\n  data: unknown;\n  loading: boolean;\n  error?: string;\n  lastUpdated: string;\n}\n\n// 统计数据\nexport interface TicketStats {\n  total: number;\n  open: number;\n  inProgress: number;\n  resolved: number;\n  closed: number;\n  \n  // 按优先级\n  byPriority: Record<string, number>;\n  \n  // 按状态\n  byStatus: Record<string, number>;\n  \n  // 按类型\n  byType: Record<string, number>;\n  \n  // 按分配人\n  byAssignee: Record<string, number>;\n  \n  // 按部门\n  byDepartment: Record<string, number>;\n  \n  // 时间统计\n  avgResolutionTime: number;\n  avgResponseTime: number;\n  slaCompliance: number;\n  \n  // 趋势数据\n  trend: {\n    period: string;\n    created: number;\n    resolved: number;\n    backlog: number;\n  }[];\n}\n\nexport interface UserStats {\n  total: number;\n  active: number;\n  online: number;\n  \n  // 按角色\n  byRole: Record<string, number>;\n  \n  // 按部门\n  byDepartment: Record<string, number>;\n  \n  // 活动统计\n  loginToday: number;\n  activeThisWeek: number;\n  newThisMonth: number;\n}\n\nexport interface SystemStats {\n  uptime: number;\n  cpuUsage: number;\n  memoryUsage: number;\n  diskUsage: number;\n  \n  // 性能指标\n  avgResponseTime: number;\n  requestsPerSecond: number;\n  errorRate: number;\n  \n  // 数据库统计\n  dbConnections: number;\n  dbSize: number;\n  \n  // 缓存统计\n  cacheHitRate: number;\n  cacheSize: number;\n}\n\n// 图表数据\nexport interface ChartData {\n  labels: string[];\n  datasets: ChartDataset[];\n}\n\nexport interface ChartDataset {\n  label: string;\n  data: number[];\n  backgroundColor?: string | string[];\n  borderColor?: string | string[];\n  borderWidth?: number;\n  fill?: boolean;\n}\n\n// 实时数据\nexport interface RealtimeData {\n  type: 'ticket_created' | 'ticket_updated' | 'user_login' | 'system_alert';\n  data: unknown;\n  timestamp: string;\n}\n\n// 报告相关\nexport interface Report {\n  id: number;\n  name: string;\n  description?: string;\n  type: 'ticket' | 'user' | 'system' | 'custom';\n  template: ReportTemplate;\n  schedule?: ReportSchedule;\n  recipients: string[];\n  isActive: boolean;\n  \n  createdBy: number;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport interface ReportTemplate {\n  title: string;\n  sections: ReportSection[];\n  filters: DashboardFilter[];\n  timeRange: TimeRange;\n  format: 'pdf' | 'excel' | 'csv' | 'html';\n}\n\nexport interface ReportSection {\n  id: string;\n  title: string;\n  type: 'chart' | 'table' | 'metric' | 'text';\n  config: WidgetConfig;\n  dataSource: string;\n}\n\nexport interface ReportSchedule {\n  frequency: 'daily' | 'weekly' | 'monthly' | 'quarterly';\n  time: string; // HH:mm\n  dayOfWeek?: number; // 0-6, 0 = Sunday\n  dayOfMonth?: number; // 1-31\n  timezone: string;\n  isActive: boolean;\n}\n\n// API 请求/响应\nexport interface CreateDashboardRequest {\n  name: string;\n  description?: string;\n  isDefault?: boolean;\n  isPublic?: boolean;\n  layout: DashboardLayout;\n  widgets: Omit<DashboardWidget, 'id'>[];\n  filters: Omit<DashboardFilter, 'id'>[];\n}\n\nexport interface UpdateDashboardRequest {\n  name?: string;\n  description?: string;\n  isDefault?: boolean;\n  isPublic?: boolean;\n  layout?: DashboardLayout;\n  widgets?: DashboardWidget[];\n  filters?: DashboardFilter[];\n}\n\nexport interface DashboardListResponse {\n  dashboards: Dashboard[];\n  total: number;\n  page: number;\n  pageSize: number;\n}\n\nexport interface WidgetDataRequest {\n  widgetId: string;\n  timeRange: TimeRange;\n  filters: Record<string, unknown>;\n  startDate?: string;\n  endDate?: string;\n}\n\n// 导出相关\nexport interface ExportDashboardRequest {\n  dashboardId: number;\n  format: 'pdf' | 'png' | 'jpg';\n  timeRange: TimeRange;\n  filters: Record<string, unknown>;\n}\n\nexport interface ExportReportRequest {\n  reportId: number;\n  timeRange?: TimeRange;\n  filters?: Record<string, unknown>;\n  startDate?: string;\n  endDate?: string;\n}\n\n// 模板相关\nexport interface DashboardTemplate {\n  id: number;\n  name: string;\n  description?: string;\n  category: string;\n  tags: string[];\n  thumbnail?: string;\n  layout: DashboardLayout;\n  widgets: Omit<DashboardWidget, 'id'>[];\n  filters: Omit<DashboardFilter, 'id'>[];\n  isPublic: boolean;\n  downloadCount: number;\n  rating: number;\n  \n  createdBy: number;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport interface CreateDashboardFromTemplateRequest {\n  templateId: number;\n  name: string;\n  description?: string;\n  customizations?: {\n    widgets?: Partial<DashboardWidget>[];\n    filters?: Partial<DashboardFilter>[];\n  };\n}"],"mappings":"AAAA;;GAEC;;AAAA;AAAA,SAAAA,eAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;IAAA;IAAAE,KAAA;IAAAC,SAAA;IAAAC,CAAA;MAAA;IAAA;IAAAC,CAAA;IAAAC,CAAA;IAAAC,cAAA;MAAAC,OAAA;MAAAC,OAAA;MAAAC,cAAA;MAAAC,KAAA;MAAAC,QAAA;IAAA;IAAAC,eAAA;IAAArB,IAAA;EAAA;EAAA,IAAAsB,QAAA,GAAArB,MAAA,CAAAE,GAAA,MAAAF,MAAA,CAAAE,GAAA;EAAA,KAAAmB,QAAA,CAAAvB,IAAA,KAAAuB,QAAA,CAAAvB,IAAA,EAAAC,IAAA,KAAAA,IAAA;IAAAsB,QAAA,CAAAvB,IAAA,IAAAK,YAAA;EAAA;EAAA,IAAAmB,cAAA,GAAAD,QAAA,CAAAvB,IAAA;EAAA","ignoreList":[]}