f2e6dfa42adc5ecbed22e8bb650c28ab
// 安全工具库
// XSS防护
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    contentSecurity: function() {
        return contentSecurity;
    },
    csrfProtection: function() {
        return csrfProtection;
    },
    encryption: function() {
        return encryption;
    },
    inputSanitization: function() {
        return inputSanitization;
    },
    networkSecurity: function() {
        return networkSecurity;
    },
    passwordSecurity: function() {
        return passwordSecurity;
    },
    security: function() {
        return security;
    },
    securityConfig: function() {
        return securityConfig;
    },
    securityLogger: function() {
        return securityLogger;
    },
    sessionSecurity: function() {
        return sessionSecurity;
    },
    xssProtection: function() {
        return xssProtection;
    }
});
const xssProtection = {
    // HTML转义
    escapeHtml: (text)=>{
        const map = {
            '&': '&amp;',
            '<': '&lt;',
            '>': '&gt;',
            '"': '&quot;',
            "'": '&#39;',
            '/': '&#x2F;'
        };
        return text.replace(/[&<>"'\/]/g, (s)=>map[s]);
    },
    // HTML反转义
    unescapeHtml: (text)=>{
        const map = {
            '&amp;': '&',
            '&lt;': '<',
            '&gt;': '>',
            '&quot;': '"',
            '&#39;': "'",
            '&#x2F;': '/'
        };
        return text.replace(/&(amp|lt|gt|quot|#39|#x2F);/g, (s)=>map[s]);
    },
    // 清理HTML标签
    stripHtml: (html)=>{
        return html.replace(/<[^>]*>/g, '');
    },
    // 安全的innerHTML设置
    safeInnerHTML: (element, html)=>{
        element.innerHTML = xssProtection.escapeHtml(html);
    }
};
const csrfProtection = {
    // 生成CSRF令牌
    generateToken: ()=>{
        const array = new Uint8Array(32);
        crypto.getRandomValues(array);
        return Array.from(array, (byte)=>byte.toString(16).padStart(2, '0')).join('');
    },
    // 验证CSRF令牌
    validateToken: (token, expectedToken)=>{
        if (!token || !expectedToken) return false;
        return token === expectedToken;
    },
    // 从meta标签获取CSRF令牌
    getTokenFromMeta: ()=>{
        const metaTag = document.querySelector('meta[name="csrf-token"]');
        return metaTag ? metaTag.getAttribute('content') : null;
    }
};
const inputSanitization = {
    // 清理用户输入
    sanitizeInput: (input)=>{
        return input.trim().replace(/[<>"'&]/g, '') // 移除潜在的XSS字符
        .substring(0, 1000); // 限制长度
    },
    // 验证邮箱格式
    isValidEmail: (email)=>{
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email) && email.length <= 254;
    },
    // 验证URL格式
    isValidUrl: (url)=>{
        try {
            const urlObj = new URL(url);
            return [
                'http:',
                'https:'
            ].includes(urlObj.protocol);
        } catch  {
            return false;
        }
    },
    // 验证文件类型
    isValidFileType: (fileName, allowedTypes)=>{
        const extension = fileName.split('.').pop()?.toLowerCase();
        return extension ? allowedTypes.includes(extension) : false;
    },
    // 验证文件大小
    isValidFileSize: (fileSize, maxSizeInMB)=>{
        const maxSizeInBytes = maxSizeInMB * 1024 * 1024;
        return fileSize <= maxSizeInBytes;
    }
};
const passwordSecurity = {
    // 密码强度检查
    checkPasswordStrength: (password)=>{
        const feedback = [];
        let score = 0;
        // 长度检查
        if (password.length >= 8) {
            score += 1;
        } else {
            feedback.push('密码长度至少需要8个字符');
        }
        // 包含小写字母
        if (/[a-z]/.test(password)) {
            score += 1;
        } else {
            feedback.push('密码需要包含小写字母');
        }
        // 包含大写字母
        if (/[A-Z]/.test(password)) {
            score += 1;
        } else {
            feedback.push('密码需要包含大写字母');
        }
        // 包含数字
        if (/\d/.test(password)) {
            score += 1;
        } else {
            feedback.push('密码需要包含数字');
        }
        // 包含特殊字符
        if (/[!@#$%^&*(),.?":{}|<>]/.test(password)) {
            score += 1;
        } else {
            feedback.push('密码需要包含特殊字符');
        }
        // 不包含常见弱密码
        const commonPasswords = [
            '123456',
            'password',
            '123456789',
            'qwerty',
            'abc123'
        ];
        if (commonPasswords.includes(password.toLowerCase())) {
            score = 0;
            feedback.push('请不要使用常见的弱密码');
        }
        return {
            score,
            feedback,
            isStrong: score >= 4
        };
    },
    // 生成随机密码
    generateRandomPassword: (length = 12)=>{
        const charset = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*';
        let password = '';
        for(let i = 0; i < length; i++){
            const randomIndex = Math.floor(Math.random() * charset.length);
            password += charset[randomIndex];
        }
        return password;
    }
};
const sessionSecurity = {
    // 检查会话是否过期
    isSessionExpired: (expirationTime)=>{
        return Date.now() > expirationTime;
    },
    // 生成会话ID
    generateSessionId: ()=>{
        const array = new Uint8Array(16);
        crypto.getRandomValues(array);
        return Array.from(array, (byte)=>byte.toString(16).padStart(2, '0')).join('');
    },
    // 安全的localStorage操作
    secureStorage: {
        setItem: (key, value, expirationMinutes)=>{
            const item = {
                value,
                timestamp: Date.now(),
                expiration: expirationMinutes ? Date.now() + expirationMinutes * 60 * 1000 : null
            };
            localStorage.setItem(key, JSON.stringify(item));
        },
        getItem: (key)=>{
            try {
                const itemStr = localStorage.getItem(key);
                if (!itemStr) return null;
                const item = JSON.parse(itemStr);
                // 检查是否过期
                if (item.expiration && Date.now() > item.expiration) {
                    localStorage.removeItem(key);
                    return null;
                }
                return item.value;
            } catch  {
                return null;
            }
        },
        removeItem: (key)=>{
            localStorage.removeItem(key);
        },
        clear: ()=>{
            localStorage.clear();
        }
    }
};
const contentSecurity = {
    // 验证内容类型
    validateContentType: (contentType, allowedTypes)=>{
        return allowedTypes.some((type)=>contentType.includes(type));
    },
    // 检查恶意脚本
    containsMaliciousScript: (content)=>{
        const maliciousPatterns = [
            /<script[^>]*>.*?<\/script>/gi,
            /javascript:/gi,
            /on\w+\s*=/gi,
            /eval\s*\(/gi,
            /document\.write/gi
        ];
        return maliciousPatterns.some((pattern)=>pattern.test(content));
    },
    // 清理危险内容
    sanitizeContent: (content)=>{
        return content.replace(/<script[^>]*>.*?<\/script>/gi, '').replace(/javascript:/gi, '').replace(/on\w+\s*=/gi, '').replace(/eval\s*\(/gi, '').replace(/document\.write/gi, '');
    }
};
const networkSecurity = {
    // 检查是否为HTTPS
    isHttps: ()=>{
        return window.location.protocol === 'https:';
    },
    // 验证请求来源
    validateOrigin: (origin, allowedOrigins)=>{
        return allowedOrigins.includes(origin);
    },
    // 生成安全的请求头
    getSecureHeaders: (csrfToken)=>{
        const headers = {
            'Content-Type': 'application/json',
            'X-Requested-With': 'XMLHttpRequest'
        };
        if (csrfToken) {
            headers['X-CSRF-Token'] = csrfToken;
        }
        return headers;
    }
};
const encryption = {
    // Base64编码
    base64Encode: (text)=>{
        return btoa(unescape(encodeURIComponent(text)));
    },
    // Base64解码
    base64Decode: (encodedText)=>{
        return decodeURIComponent(escape(atob(encodedText)));
    },
    // 简单的字符串混淆（不是真正的加密）
    obfuscate: (text, key)=>{
        let result = '';
        for(let i = 0; i < text.length; i++){
            const textChar = text.charCodeAt(i);
            const keyChar = key.charCodeAt(i % key.length);
            result += String.fromCharCode(textChar ^ keyChar);
        }
        return encryption.base64Encode(result);
    },
    // 简单的字符串反混淆
    deobfuscate: (obfuscatedText, key)=>{
        const decodedText = encryption.base64Decode(obfuscatedText);
        let result = '';
        for(let i = 0; i < decodedText.length; i++){
            const textChar = decodedText.charCodeAt(i);
            const keyChar = key.charCodeAt(i % key.length);
            result += String.fromCharCode(textChar ^ keyChar);
        }
        return result;
    }
};
const securityConfig = {
    // 默认安全配置
    defaults: {
        maxFileSize: 10,
        allowedFileTypes: [
            'jpg',
            'jpeg',
            'png',
            'gif',
            'pdf',
            'doc',
            'docx'
        ],
        sessionTimeout: 30,
        maxLoginAttempts: 5,
        passwordMinLength: 8,
        csrfTokenExpiry: 60
    },
    // 获取配置值
    get: (key)=>{
        return securityConfig.defaults[key];
    },
    // 设置配置值
    set: (key, value)=>{
        securityConfig.defaults[key] = value;
    }
};
const securityLogger = {
    // 记录安全事件
    logSecurityEvent: (event, details)=>{
        const logEntry = {
            timestamp: new Date().toISOString(),
            event,
            details,
            userAgent: navigator.userAgent,
            url: window.location.href
        };
        // 在开发环境下输出到控制台
        if (process.env.NODE_ENV === 'development') {
            console.warn('[Security Event]', logEntry);
        }
        // 在生产环境下可以发送到安全监控服务
        if (process.env.NODE_ENV === 'production') {
        // TODO: 发送到安全监控服务
        // sendToSecurityService(logEntry);
        }
    },
    // 记录登录尝试
    logLoginAttempt: (success, username)=>{
        securityLogger.logSecurityEvent('login_attempt', {
            success,
            username: username ? `${username.substring(0, 3)}***` : 'unknown'
        });
    },
    // 记录可疑活动
    logSuspiciousActivity: (activity, details)=>{
        securityLogger.logSecurityEvent('suspicious_activity', {
            activity,
            ...details
        });
    }
};
const security = {
    xss: xssProtection,
    csrf: csrfProtection,
    input: inputSanitization,
    password: passwordSecurity,
    session: sessionSecurity,
    content: contentSecurity,
    network: networkSecurity,
    encryption,
    config: securityConfig,
    logger: securityLogger
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZWlkc29mdC9Eb3dubG9hZHMvcmVzZWFyY2gvaXRzbS9pdHNtLXByb3RvdHlwZS9zcmMvYXBwL2xpYi9zZWN1cml0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyDlronlhajlt6XlhbflupNcblxuLy8gWFNT6Ziy5oqkXG5leHBvcnQgY29uc3QgeHNzUHJvdGVjdGlvbiA9IHtcbiAgLy8gSFRNTOi9rOS5iVxuICBlc2NhcGVIdG1sOiAodGV4dDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICBjb25zdCBtYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICAnJic6ICcmYW1wOycsXG4gICAgICAnPCc6ICcmbHQ7JyxcbiAgICAgICc+JzogJyZndDsnLFxuICAgICAgJ1wiJzogJyZxdW90OycsXG4gICAgICBcIidcIjogJyYjMzk7JyxcbiAgICAgICcvJzogJyYjeDJGOycsXG4gICAgfTtcbiAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9bJjw+XCInXFwvXS9nLCAocykgPT4gbWFwW3NdKTtcbiAgfSxcblxuICAvLyBIVE1M5Y+N6L2s5LmJXG4gIHVuZXNjYXBlSHRtbDogKHRleHQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgY29uc3QgbWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgJyZhbXA7JzogJyYnLFxuICAgICAgJyZsdDsnOiAnPCcsXG4gICAgICAnJmd0Oyc6ICc+JyxcbiAgICAgICcmcXVvdDsnOiAnXCInLFxuICAgICAgJyYjMzk7JzogXCInXCIsXG4gICAgICAnJiN4MkY7JzogJy8nLFxuICAgIH07XG4gICAgcmV0dXJuIHRleHQucmVwbGFjZSgvJihhbXB8bHR8Z3R8cXVvdHwjMzl8I3gyRik7L2csIChzKSA9PiBtYXBbc10pO1xuICB9LFxuXG4gIC8vIOa4heeQhkhUTUzmoIfnrb5cbiAgc3RyaXBIdG1sOiAoaHRtbDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICByZXR1cm4gaHRtbC5yZXBsYWNlKC88W14+XSo+L2csICcnKTtcbiAgfSxcblxuICAvLyDlronlhajnmoRpbm5lckhUTUzorr7nva5cbiAgc2FmZUlubmVySFRNTDogKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBodG1sOiBzdHJpbmcpOiB2b2lkID0+IHtcbiAgICBlbGVtZW50LmlubmVySFRNTCA9IHhzc1Byb3RlY3Rpb24uZXNjYXBlSHRtbChodG1sKTtcbiAgfSxcbn07XG5cbi8vIENTUkbpmLLmiqRcbmV4cG9ydCBjb25zdCBjc3JmUHJvdGVjdGlvbiA9IHtcbiAgLy8g55Sf5oiQQ1NSRuS7pOeJjFxuICBnZW5lcmF0ZVRva2VuOiAoKTogc3RyaW5nID0+IHtcbiAgICBjb25zdCBhcnJheSA9IG5ldyBVaW50OEFycmF5KDMyKTtcbiAgICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGFycmF5KTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShhcnJheSwgYnl0ZSA9PiBieXRlLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpKS5qb2luKCcnKTtcbiAgfSxcblxuICAvLyDpqozor4FDU1JG5Luk54mMXG4gIHZhbGlkYXRlVG9rZW46ICh0b2tlbjogc3RyaW5nLCBleHBlY3RlZFRva2VuOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICBpZiAoIXRva2VuIHx8ICFleHBlY3RlZFRva2VuKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRva2VuID09PSBleHBlY3RlZFRva2VuO1xuICB9LFxuXG4gIC8vIOS7jm1ldGHmoIfnrb7ojrflj5ZDU1JG5Luk54mMXG4gIGdldFRva2VuRnJvbU1ldGE6ICgpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgICBjb25zdCBtZXRhVGFnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwiY3NyZi10b2tlblwiXScpO1xuICAgIHJldHVybiBtZXRhVGFnID8gbWV0YVRhZy5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKSA6IG51bGw7XG4gIH0sXG59O1xuXG4vLyDovpPlhaXpqozor4HlkozmuIXnkIZcbmV4cG9ydCBjb25zdCBpbnB1dFNhbml0aXphdGlvbiA9IHtcbiAgLy8g5riF55CG55So5oi36L6T5YWlXG4gIHNhbml0aXplSW5wdXQ6IChpbnB1dDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgIC50cmltKClcbiAgICAgIC5yZXBsYWNlKC9bPD5cIicmXS9nLCAnJykgLy8g56e76Zmk5r2c5Zyo55qEWFNT5a2X56ymXG4gICAgICAuc3Vic3RyaW5nKDAsIDEwMDApOyAvLyDpmZDliLbplb/luqZcbiAgfSxcblxuICAvLyDpqozor4Hpgq7nrrHmoLzlvI9cbiAgaXNWYWxpZEVtYWlsOiAoZW1haWw6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgIGNvbnN0IGVtYWlsUmVnZXggPSAvXlteXFxzQF0rQFteXFxzQF0rXFwuW15cXHNAXSskLztcbiAgICByZXR1cm4gZW1haWxSZWdleC50ZXN0KGVtYWlsKSAmJiBlbWFpbC5sZW5ndGggPD0gMjU0O1xuICB9LFxuXG4gIC8vIOmqjOivgVVSTOagvOW8j1xuICBpc1ZhbGlkVXJsOiAodXJsOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsT2JqID0gbmV3IFVSTCh1cmwpO1xuICAgICAgcmV0dXJuIFsnaHR0cDonLCAnaHR0cHM6J10uaW5jbHVkZXModXJsT2JqLnByb3RvY29sKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG5cbiAgLy8g6aqM6K+B5paH5Lu257G75Z6LXG4gIGlzVmFsaWRGaWxlVHlwZTogKGZpbGVOYW1lOiBzdHJpbmcsIGFsbG93ZWRUeXBlczogc3RyaW5nW10pOiBib29sZWFuID0+IHtcbiAgICBjb25zdCBleHRlbnNpb24gPSBmaWxlTmFtZS5zcGxpdCgnLicpLnBvcCgpPy50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiBleHRlbnNpb24gPyBhbGxvd2VkVHlwZXMuaW5jbHVkZXMoZXh0ZW5zaW9uKSA6IGZhbHNlO1xuICB9LFxuXG4gIC8vIOmqjOivgeaWh+S7tuWkp+Wwj1xuICBpc1ZhbGlkRmlsZVNpemU6IChmaWxlU2l6ZTogbnVtYmVyLCBtYXhTaXplSW5NQjogbnVtYmVyKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgbWF4U2l6ZUluQnl0ZXMgPSBtYXhTaXplSW5NQiAqIDEwMjQgKiAxMDI0O1xuICAgIHJldHVybiBmaWxlU2l6ZSA8PSBtYXhTaXplSW5CeXRlcztcbiAgfSxcbn07XG5cbi8vIOWvhueggeWuieWFqFxuZXhwb3J0IGNvbnN0IHBhc3N3b3JkU2VjdXJpdHkgPSB7XG4gIC8vIOWvhueggeW8uuW6puajgOafpVxuICBjaGVja1Bhc3N3b3JkU3RyZW5ndGg6IChwYXNzd29yZDogc3RyaW5nKToge1xuICAgIHNjb3JlOiBudW1iZXI7XG4gICAgZmVlZGJhY2s6IHN0cmluZ1tdO1xuICAgIGlzU3Ryb25nOiBib29sZWFuO1xuICB9ID0+IHtcbiAgICBjb25zdCBmZWVkYmFjazogc3RyaW5nW10gPSBbXTtcbiAgICBsZXQgc2NvcmUgPSAwO1xuXG4gICAgLy8g6ZW/5bqm5qOA5p+lXG4gICAgaWYgKHBhc3N3b3JkLmxlbmd0aCA+PSA4KSB7XG4gICAgICBzY29yZSArPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBmZWVkYmFjay5wdXNoKCflr4bnoIHplb/luqboh7PlsJHpnIDopoE45Liq5a2X56ymJyk7XG4gICAgfVxuXG4gICAgLy8g5YyF5ZCr5bCP5YaZ5a2X5q+NXG4gICAgaWYgKC9bYS16XS8udGVzdChwYXNzd29yZCkpIHtcbiAgICAgIHNjb3JlICs9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZlZWRiYWNrLnB1c2goJ+WvhueggemcgOimgeWMheWQq+Wwj+WGmeWtl+avjScpO1xuICAgIH1cblxuICAgIC8vIOWMheWQq+Wkp+WGmeWtl+avjVxuICAgIGlmICgvW0EtWl0vLnRlc3QocGFzc3dvcmQpKSB7XG4gICAgICBzY29yZSArPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBmZWVkYmFjay5wdXNoKCflr4bnoIHpnIDopoHljIXlkKvlpKflhpnlrZfmr40nKTtcbiAgICB9XG5cbiAgICAvLyDljIXlkKvmlbDlrZdcbiAgICBpZiAoL1xcZC8udGVzdChwYXNzd29yZCkpIHtcbiAgICAgIHNjb3JlICs9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZlZWRiYWNrLnB1c2goJ+WvhueggemcgOimgeWMheWQq+aVsOWtlycpO1xuICAgIH1cblxuICAgIC8vIOWMheWQq+eJueauiuWtl+esplxuICAgIGlmICgvWyFAIyQlXiYqKCksLj9cIjp7fXw8Pl0vLnRlc3QocGFzc3dvcmQpKSB7XG4gICAgICBzY29yZSArPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBmZWVkYmFjay5wdXNoKCflr4bnoIHpnIDopoHljIXlkKvnibnmrorlrZfnrKYnKTtcbiAgICB9XG5cbiAgICAvLyDkuI3ljIXlkKvluLjop4HlvLHlr4bnoIFcbiAgICBjb25zdCBjb21tb25QYXNzd29yZHMgPSBbJzEyMzQ1NicsICdwYXNzd29yZCcsICcxMjM0NTY3ODknLCAncXdlcnR5JywgJ2FiYzEyMyddO1xuICAgIGlmIChjb21tb25QYXNzd29yZHMuaW5jbHVkZXMocGFzc3dvcmQudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgIHNjb3JlID0gMDtcbiAgICAgIGZlZWRiYWNrLnB1c2goJ+ivt+S4jeimgeS9v+eUqOW4uOingeeahOW8seWvhueggScpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBzY29yZSxcbiAgICAgIGZlZWRiYWNrLFxuICAgICAgaXNTdHJvbmc6IHNjb3JlID49IDQsXG4gICAgfTtcbiAgfSxcblxuICAvLyDnlJ/miJDpmo/mnLrlr4bnoIFcbiAgZ2VuZXJhdGVSYW5kb21QYXNzd29yZDogKGxlbmd0aCA9IDEyKTogc3RyaW5nID0+IHtcbiAgICBjb25zdCBjaGFyc2V0ID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVowMTIzNDU2Nzg5IUAjJCVeJionO1xuICAgIGxldCBwYXNzd29yZCA9ICcnO1xuICAgIFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcnNldC5sZW5ndGgpO1xuICAgICAgcGFzc3dvcmQgKz0gY2hhcnNldFtyYW5kb21JbmRleF07XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBwYXNzd29yZDtcbiAgfSxcbn07XG5cbi8vIOS8muivneWuieWFqFxuZXhwb3J0IGNvbnN0IHNlc3Npb25TZWN1cml0eSA9IHtcbiAgLy8g5qOA5p+l5Lya6K+d5piv5ZCm6L+H5pyfXG4gIGlzU2Vzc2lvbkV4cGlyZWQ6IChleHBpcmF0aW9uVGltZTogbnVtYmVyKTogYm9vbGVhbiA9PiB7XG4gICAgcmV0dXJuIERhdGUubm93KCkgPiBleHBpcmF0aW9uVGltZTtcbiAgfSxcblxuICAvLyDnlJ/miJDkvJror51JRFxuICBnZW5lcmF0ZVNlc3Npb25JZDogKCk6IHN0cmluZyA9PiB7XG4gICAgY29uc3QgYXJyYXkgPSBuZXcgVWludDhBcnJheSgxNik7XG4gICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhhcnJheSk7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oYXJyYXksIGJ5dGUgPT4gYnl0ZS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKSkuam9pbignJyk7XG4gIH0sXG5cbiAgLy8g5a6J5YWo55qEbG9jYWxTdG9yYWdl5pON5L2cXG4gIHNlY3VyZVN0b3JhZ2U6IHtcbiAgICBzZXRJdGVtOiAoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIGV4cGlyYXRpb25NaW51dGVzPzogbnVtYmVyKTogdm9pZCA9PiB7XG4gICAgICBjb25zdCBpdGVtID0ge1xuICAgICAgICB2YWx1ZSxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICBleHBpcmF0aW9uOiBleHBpcmF0aW9uTWludXRlcyA/IERhdGUubm93KCkgKyAoZXhwaXJhdGlvbk1pbnV0ZXMgKiA2MCAqIDEwMDApIDogbnVsbCxcbiAgICAgIH07XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KGl0ZW0pKTtcbiAgICB9LFxuXG4gICAgZ2V0SXRlbTogKGtleTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBpdGVtU3RyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgaWYgKCFpdGVtU3RyKSByZXR1cm4gbnVsbDtcblxuICAgICAgICBjb25zdCBpdGVtID0gSlNPTi5wYXJzZShpdGVtU3RyKTtcbiAgICAgICAgXG4gICAgICAgIC8vIOajgOafpeaYr+WQpui/h+acn1xuICAgICAgICBpZiAoaXRlbS5leHBpcmF0aW9uICYmIERhdGUubm93KCkgPiBpdGVtLmV4cGlyYXRpb24pIHtcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWU7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlbW92ZUl0ZW06IChrZXk6IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICB9LFxuXG4gICAgY2xlYXI6ICgpOiB2b2lkID0+IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpO1xuICAgIH0sXG4gIH0sXG59O1xuXG4vLyDlhoXlrrnlronlhajnrZbnlaVcbmV4cG9ydCBjb25zdCBjb250ZW50U2VjdXJpdHkgPSB7XG4gIC8vIOmqjOivgeWGheWuueexu+Wei1xuICB2YWxpZGF0ZUNvbnRlbnRUeXBlOiAoY29udGVudFR5cGU6IHN0cmluZywgYWxsb3dlZFR5cGVzOiBzdHJpbmdbXSk6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiBhbGxvd2VkVHlwZXMuc29tZSh0eXBlID0+IGNvbnRlbnRUeXBlLmluY2x1ZGVzKHR5cGUpKTtcbiAgfSxcblxuICAvLyDmo4Dmn6XmgbbmhI/ohJrmnKxcbiAgY29udGFpbnNNYWxpY2lvdXNTY3JpcHQ6IChjb250ZW50OiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCBtYWxpY2lvdXNQYXR0ZXJucyA9IFtcbiAgICAgIC88c2NyaXB0W14+XSo+Lio/PFxcL3NjcmlwdD4vZ2ksXG4gICAgICAvamF2YXNjcmlwdDovZ2ksXG4gICAgICAvb25cXHcrXFxzKj0vZ2ksXG4gICAgICAvZXZhbFxccypcXCgvZ2ksXG4gICAgICAvZG9jdW1lbnRcXC53cml0ZS9naSxcbiAgICBdO1xuICAgIFxuICAgIHJldHVybiBtYWxpY2lvdXNQYXR0ZXJucy5zb21lKHBhdHRlcm4gPT4gcGF0dGVybi50ZXN0KGNvbnRlbnQpKTtcbiAgfSxcblxuICAvLyDmuIXnkIbljbHpmanlhoXlrrlcbiAgc2FuaXRpemVDb250ZW50OiAoY29udGVudDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICByZXR1cm4gY29udGVudFxuICAgICAgLnJlcGxhY2UoLzxzY3JpcHRbXj5dKj4uKj88XFwvc2NyaXB0Pi9naSwgJycpXG4gICAgICAucmVwbGFjZSgvamF2YXNjcmlwdDovZ2ksICcnKVxuICAgICAgLnJlcGxhY2UoL29uXFx3K1xccyo9L2dpLCAnJylcbiAgICAgIC5yZXBsYWNlKC9ldmFsXFxzKlxcKC9naSwgJycpXG4gICAgICAucmVwbGFjZSgvZG9jdW1lbnRcXC53cml0ZS9naSwgJycpO1xuICB9LFxufTtcblxuLy8g572R57uc5a6J5YWoXG5leHBvcnQgY29uc3QgbmV0d29ya1NlY3VyaXR5ID0ge1xuICAvLyDmo4Dmn6XmmK/lkKbkuLpIVFRQU1xuICBpc0h0dHBzOiAoKTogYm9vbGVhbiA9PiB7XG4gICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2h0dHBzOic7XG4gIH0sXG5cbiAgLy8g6aqM6K+B6K+35rGC5p2l5rqQXG4gIHZhbGlkYXRlT3JpZ2luOiAob3JpZ2luOiBzdHJpbmcsIGFsbG93ZWRPcmlnaW5zOiBzdHJpbmdbXSk6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiBhbGxvd2VkT3JpZ2lucy5pbmNsdWRlcyhvcmlnaW4pO1xuICB9LFxuXG4gIC8vIOeUn+aIkOWuieWFqOeahOivt+axguWktFxuICBnZXRTZWN1cmVIZWFkZXJzOiAoY3NyZlRva2VuPzogc3RyaW5nKTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9PiB7XG4gICAgY29uc3QgaGVhZGVyczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAnWC1SZXF1ZXN0ZWQtV2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcsXG4gICAgfTtcblxuICAgIGlmIChjc3JmVG9rZW4pIHtcbiAgICAgIGhlYWRlcnNbJ1gtQ1NSRi1Ub2tlbiddID0gY3NyZlRva2VuO1xuICAgIH1cblxuICAgIHJldHVybiBoZWFkZXJzO1xuICB9LFxufTtcblxuLy8g5pWw5o2u5Yqg5a+G77yI566A5Y2V5a6e546w77yM55Sf5Lqn546v5aKD5bu66K6u5L2/55So5LiT5Lia5Yqg5a+G5bqT77yJXG5leHBvcnQgY29uc3QgZW5jcnlwdGlvbiA9IHtcbiAgLy8gQmFzZTY057yW56CBXG4gIGJhc2U2NEVuY29kZTogKHRleHQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHRleHQpKSk7XG4gIH0sXG5cbiAgLy8gQmFzZTY06Kej56CBXG4gIGJhc2U2NERlY29kZTogKGVuY29kZWRUZXh0OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKGF0b2IoZW5jb2RlZFRleHQpKSk7XG4gIH0sXG5cbiAgLy8g566A5Y2V55qE5a2X56ym5Liy5re35reG77yI5LiN5piv55yf5q2j55qE5Yqg5a+G77yJXG4gIG9iZnVzY2F0ZTogKHRleHQ6IHN0cmluZywga2V5OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIGxldCByZXN1bHQgPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHRleHRDaGFyID0gdGV4dC5jaGFyQ29kZUF0KGkpO1xuICAgICAgY29uc3Qga2V5Q2hhciA9IGtleS5jaGFyQ29kZUF0KGkgJSBrZXkubGVuZ3RoKTtcbiAgICAgIHJlc3VsdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHRleHRDaGFyIF4ga2V5Q2hhcik7XG4gICAgfVxuICAgIHJldHVybiBlbmNyeXB0aW9uLmJhc2U2NEVuY29kZShyZXN1bHQpO1xuICB9LFxuXG4gIC8vIOeugOWNleeahOWtl+espuS4suWPjea3t+a3hlxuICBkZW9iZnVzY2F0ZTogKG9iZnVzY2F0ZWRUZXh0OiBzdHJpbmcsIGtleTogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICBjb25zdCBkZWNvZGVkVGV4dCA9IGVuY3J5cHRpb24uYmFzZTY0RGVjb2RlKG9iZnVzY2F0ZWRUZXh0KTtcbiAgICBsZXQgcmVzdWx0ID0gJyc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZWNvZGVkVGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdGV4dENoYXIgPSBkZWNvZGVkVGV4dC5jaGFyQ29kZUF0KGkpO1xuICAgICAgY29uc3Qga2V5Q2hhciA9IGtleS5jaGFyQ29kZUF0KGkgJSBrZXkubGVuZ3RoKTtcbiAgICAgIHJlc3VsdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHRleHRDaGFyIF4ga2V5Q2hhcik7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG59O1xuXG4vLyDlronlhajphY3nva7nsbvlnovlrprkuYlcbmludGVyZmFjZSBTZWN1cml0eURlZmF1bHRzIHtcbiAgbWF4RmlsZVNpemU6IG51bWJlcjtcbiAgYWxsb3dlZEZpbGVUeXBlczogc3RyaW5nW107XG4gIHNlc3Npb25UaW1lb3V0OiBudW1iZXI7XG4gIG1heExvZ2luQXR0ZW1wdHM6IG51bWJlcjtcbiAgcGFzc3dvcmRNaW5MZW5ndGg6IG51bWJlcjtcbiAgY3NyZlRva2VuRXhwaXJ5OiBudW1iZXI7XG59XG5cbi8vIOWuieWFqOmFjee9rlxuZXhwb3J0IGNvbnN0IHNlY3VyaXR5Q29uZmlnOiB7XG4gIGRlZmF1bHRzOiBTZWN1cml0eURlZmF1bHRzO1xuICBnZXQ6IChrZXk6IGtleW9mIFNlY3VyaXR5RGVmYXVsdHMpID0+IG51bWJlciB8IHN0cmluZ1tdO1xuICBzZXQ6IChrZXk6IGtleW9mIFNlY3VyaXR5RGVmYXVsdHMsIHZhbHVlOiBudW1iZXIgfCBzdHJpbmdbXSkgPT4gdm9pZDtcbn0gPSB7XG4gIC8vIOm7mOiupOWuieWFqOmFjee9rlxuICBkZWZhdWx0czoge1xuICAgIG1heEZpbGVTaXplOiAxMCwgLy8gTUJcbiAgICBhbGxvd2VkRmlsZVR5cGVzOiBbJ2pwZycsICdqcGVnJywgJ3BuZycsICdnaWYnLCAncGRmJywgJ2RvYycsICdkb2N4J10sXG4gICAgc2Vzc2lvblRpbWVvdXQ6IDMwLCAvLyDliIbpkp9cbiAgICBtYXhMb2dpbkF0dGVtcHRzOiA1LFxuICAgIHBhc3N3b3JkTWluTGVuZ3RoOiA4LFxuICAgIGNzcmZUb2tlbkV4cGlyeTogNjAsIC8vIOWIhumSn1xuICB9LFxuXG4gIC8vIOiOt+WPlumFjee9ruWAvFxuICBnZXQ6IChrZXk6IGtleW9mIFNlY3VyaXR5RGVmYXVsdHMpID0+IHtcbiAgICByZXR1cm4gc2VjdXJpdHlDb25maWcuZGVmYXVsdHNba2V5XTtcbiAgfSxcblxuICAvLyDorr7nva7phY3nva7lgLxcbiAgc2V0OiAoa2V5OiBrZXlvZiBTZWN1cml0eURlZmF1bHRzLCB2YWx1ZTogbnVtYmVyIHwgc3RyaW5nW10pID0+IHtcbiAgICAoc2VjdXJpdHlDb25maWcuZGVmYXVsdHMgYXMgdW5rbm93biBhcyBSZWNvcmQ8c3RyaW5nLCBudW1iZXIgfCBzdHJpbmdbXT4pW2tleV0gPSB2YWx1ZTtcbiAgfSxcbn1cblxuLy8g5a6J5YWo5LqL5Lu25pel5b+XXG5leHBvcnQgY29uc3Qgc2VjdXJpdHlMb2dnZXIgPSB7XG4gIC8vIOiusOW9leWuieWFqOS6i+S7tlxuICBsb2dTZWN1cml0eUV2ZW50OiAoZXZlbnQ6IHN0cmluZywgZGV0YWlsczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pOiB2b2lkID0+IHtcbiAgICBjb25zdCBsb2dFbnRyeSA9IHtcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgZXZlbnQsXG4gICAgICBkZXRhaWxzLFxuICAgICAgdXNlckFnZW50OiBuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICB9O1xuXG4gICAgLy8g5Zyo5byA5Y+R546v5aKD5LiL6L6T5Ye65Yiw5o6n5Yi25Y+wXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1tTZWN1cml0eSBFdmVudF0nLCBsb2dFbnRyeSk7XG4gICAgfVxuXG4gICAgLy8g5Zyo55Sf5Lqn546v5aKD5LiL5Y+v5Lul5Y+R6YCB5Yiw5a6J5YWo55uR5o6n5pyN5YqhXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIC8vIFRPRE86IOWPkemAgeWIsOWuieWFqOebkeaOp+acjeWKoVxuICAgICAgLy8gc2VuZFRvU2VjdXJpdHlTZXJ2aWNlKGxvZ0VudHJ5KTtcbiAgICB9XG4gIH0sXG5cbiAgLy8g6K6w5b2V55m75b2V5bCd6K+VXG4gIGxvZ0xvZ2luQXR0ZW1wdDogKHN1Y2Nlc3M6IGJvb2xlYW4sIHVzZXJuYW1lPzogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgc2VjdXJpdHlMb2dnZXIubG9nU2VjdXJpdHlFdmVudCgnbG9naW5fYXR0ZW1wdCcsIHtcbiAgICAgIHN1Y2Nlc3MsXG4gICAgICB1c2VybmFtZTogdXNlcm5hbWUgPyBgJHt1c2VybmFtZS5zdWJzdHJpbmcoMCwgMyl9KioqYCA6ICd1bmtub3duJyxcbiAgICB9KTtcbiAgfSxcblxuICAvLyDorrDlvZXlj6/nlpHmtLvliqhcbiAgbG9nU3VzcGljaW91c0FjdGl2aXR5OiAoYWN0aXZpdHk6IHN0cmluZywgZGV0YWlsczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pOiB2b2lkID0+IHtcbiAgICBzZWN1cml0eUxvZ2dlci5sb2dTZWN1cml0eUV2ZW50KCdzdXNwaWNpb3VzX2FjdGl2aXR5Jywge1xuICAgICAgYWN0aXZpdHksXG4gICAgICAuLi5kZXRhaWxzLFxuICAgIH0pO1xuICB9LFxufTtcblxuLy8g5a+85Ye65omA5pyJ5a6J5YWo5bel5YW3XG5leHBvcnQgY29uc3Qgc2VjdXJpdHkgPSB7XG4gIHhzczogeHNzUHJvdGVjdGlvbixcbiAgY3NyZjogY3NyZlByb3RlY3Rpb24sXG4gIGlucHV0OiBpbnB1dFNhbml0aXphdGlvbixcbiAgcGFzc3dvcmQ6IHBhc3N3b3JkU2VjdXJpdHksXG4gIHNlc3Npb246IHNlc3Npb25TZWN1cml0eSxcbiAgY29udGVudDogY29udGVudFNlY3VyaXR5LFxuICBuZXR3b3JrOiBuZXR3b3JrU2VjdXJpdHksXG4gIGVuY3J5cHRpb24sXG4gIGNvbmZpZzogc2VjdXJpdHlDb25maWcsXG4gIGxvZ2dlcjogc2VjdXJpdHlMb2dnZXIsXG59OyJdLCJuYW1lcyI6WyJjb250ZW50U2VjdXJpdHkiLCJjc3JmUHJvdGVjdGlvbiIsImVuY3J5cHRpb24iLCJpbnB1dFNhbml0aXphdGlvbiIsIm5ldHdvcmtTZWN1cml0eSIsInBhc3N3b3JkU2VjdXJpdHkiLCJzZWN1cml0eSIsInNlY3VyaXR5Q29uZmlnIiwic2VjdXJpdHlMb2dnZXIiLCJzZXNzaW9uU2VjdXJpdHkiLCJ4c3NQcm90ZWN0aW9uIiwiZXNjYXBlSHRtbCIsInRleHQiLCJtYXAiLCJyZXBsYWNlIiwicyIsInVuZXNjYXBlSHRtbCIsInN0cmlwSHRtbCIsImh0bWwiLCJzYWZlSW5uZXJIVE1MIiwiZWxlbWVudCIsImlubmVySFRNTCIsImdlbmVyYXRlVG9rZW4iLCJhcnJheSIsIlVpbnQ4QXJyYXkiLCJjcnlwdG8iLCJnZXRSYW5kb21WYWx1ZXMiLCJBcnJheSIsImZyb20iLCJieXRlIiwidG9TdHJpbmciLCJwYWRTdGFydCIsImpvaW4iLCJ2YWxpZGF0ZVRva2VuIiwidG9rZW4iLCJleHBlY3RlZFRva2VuIiwiZ2V0VG9rZW5Gcm9tTWV0YSIsIm1ldGFUYWciLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRBdHRyaWJ1dGUiLCJzYW5pdGl6ZUlucHV0IiwiaW5wdXQiLCJ0cmltIiwic3Vic3RyaW5nIiwiaXNWYWxpZEVtYWlsIiwiZW1haWwiLCJlbWFpbFJlZ2V4IiwidGVzdCIsImxlbmd0aCIsImlzVmFsaWRVcmwiLCJ1cmwiLCJ1cmxPYmoiLCJVUkwiLCJpbmNsdWRlcyIsInByb3RvY29sIiwiaXNWYWxpZEZpbGVUeXBlIiwiZmlsZU5hbWUiLCJhbGxvd2VkVHlwZXMiLCJleHRlbnNpb24iLCJzcGxpdCIsInBvcCIsInRvTG93ZXJDYXNlIiwiaXNWYWxpZEZpbGVTaXplIiwiZmlsZVNpemUiLCJtYXhTaXplSW5NQiIsIm1heFNpemVJbkJ5dGVzIiwiY2hlY2tQYXNzd29yZFN0cmVuZ3RoIiwicGFzc3dvcmQiLCJmZWVkYmFjayIsInNjb3JlIiwicHVzaCIsImNvbW1vblBhc3N3b3JkcyIsImlzU3Ryb25nIiwiZ2VuZXJhdGVSYW5kb21QYXNzd29yZCIsImNoYXJzZXQiLCJpIiwicmFuZG9tSW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJpc1Nlc3Npb25FeHBpcmVkIiwiZXhwaXJhdGlvblRpbWUiLCJEYXRlIiwibm93IiwiZ2VuZXJhdGVTZXNzaW9uSWQiLCJzZWN1cmVTdG9yYWdlIiwic2V0SXRlbSIsImtleSIsInZhbHVlIiwiZXhwaXJhdGlvbk1pbnV0ZXMiLCJpdGVtIiwidGltZXN0YW1wIiwiZXhwaXJhdGlvbiIsImxvY2FsU3RvcmFnZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRJdGVtIiwiaXRlbVN0ciIsInBhcnNlIiwicmVtb3ZlSXRlbSIsImNsZWFyIiwidmFsaWRhdGVDb250ZW50VHlwZSIsImNvbnRlbnRUeXBlIiwic29tZSIsInR5cGUiLCJjb250YWluc01hbGljaW91c1NjcmlwdCIsImNvbnRlbnQiLCJtYWxpY2lvdXNQYXR0ZXJucyIsInBhdHRlcm4iLCJzYW5pdGl6ZUNvbnRlbnQiLCJpc0h0dHBzIiwid2luZG93IiwibG9jYXRpb24iLCJ2YWxpZGF0ZU9yaWdpbiIsIm9yaWdpbiIsImFsbG93ZWRPcmlnaW5zIiwiZ2V0U2VjdXJlSGVhZGVycyIsImNzcmZUb2tlbiIsImhlYWRlcnMiLCJiYXNlNjRFbmNvZGUiLCJidG9hIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJiYXNlNjREZWNvZGUiLCJlbmNvZGVkVGV4dCIsImRlY29kZVVSSUNvbXBvbmVudCIsImVzY2FwZSIsImF0b2IiLCJvYmZ1c2NhdGUiLCJyZXN1bHQiLCJ0ZXh0Q2hhciIsImNoYXJDb2RlQXQiLCJrZXlDaGFyIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiZGVvYmZ1c2NhdGUiLCJvYmZ1c2NhdGVkVGV4dCIsImRlY29kZWRUZXh0IiwiZGVmYXVsdHMiLCJtYXhGaWxlU2l6ZSIsImFsbG93ZWRGaWxlVHlwZXMiLCJzZXNzaW9uVGltZW91dCIsIm1heExvZ2luQXR0ZW1wdHMiLCJwYXNzd29yZE1pbkxlbmd0aCIsImNzcmZUb2tlbkV4cGlyeSIsImdldCIsInNldCIsImxvZ1NlY3VyaXR5RXZlbnQiLCJldmVudCIsImRldGFpbHMiLCJsb2dFbnRyeSIsInRvSVNPU3RyaW5nIiwidXNlckFnZW50IiwibmF2aWdhdG9yIiwiaHJlZiIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImNvbnNvbGUiLCJ3YXJuIiwibG9nTG9naW5BdHRlbXB0Iiwic3VjY2VzcyIsInVzZXJuYW1lIiwibG9nU3VzcGljaW91c0FjdGl2aXR5IiwiYWN0aXZpdHkiLCJ4c3MiLCJjc3JmIiwic2Vzc2lvbiIsIm5ldHdvcmsiLCJjb25maWciLCJsb2dnZXIiXSwibWFwcGluZ3MiOiJBQUFBLFFBQVE7QUFFUixRQUFROzs7Ozs7Ozs7Ozs7SUFxT0tBLGVBQWU7ZUFBZkE7O0lBN0xBQyxjQUFjO2VBQWRBOztJQXVQQUMsVUFBVTtlQUFWQTs7SUFqT0FDLGlCQUFpQjtlQUFqQkE7O0lBc01BQyxlQUFlO2VBQWZBOztJQS9KQUMsZ0JBQWdCO2VBQWhCQTs7SUE0U0FDLFFBQVE7ZUFBUkE7O0lBcEVBQyxjQUFjO2VBQWRBOztJQTJCQUMsY0FBYztlQUFkQTs7SUF6TEFDLGVBQWU7ZUFBZkE7O0lBOUtBQyxhQUFhO2VBQWJBOzs7QUFBTixNQUFNQSxnQkFBZ0I7SUFDM0IsU0FBUztJQUNUQyxZQUFZLENBQUNDO1FBQ1gsTUFBTUMsTUFBOEI7WUFDbEMsS0FBSztZQUNMLEtBQUs7WUFDTCxLQUFLO1lBQ0wsS0FBSztZQUNMLEtBQUs7WUFDTCxLQUFLO1FBQ1A7UUFDQSxPQUFPRCxLQUFLRSxPQUFPLENBQUMsY0FBYyxDQUFDQyxJQUFNRixHQUFHLENBQUNFLEVBQUU7SUFDakQ7SUFFQSxVQUFVO0lBQ1ZDLGNBQWMsQ0FBQ0o7UUFDYixNQUFNQyxNQUE4QjtZQUNsQyxTQUFTO1lBQ1QsUUFBUTtZQUNSLFFBQVE7WUFDUixVQUFVO1lBQ1YsU0FBUztZQUNULFVBQVU7UUFDWjtRQUNBLE9BQU9ELEtBQUtFLE9BQU8sQ0FBQyxnQ0FBZ0MsQ0FBQ0MsSUFBTUYsR0FBRyxDQUFDRSxFQUFFO0lBQ25FO0lBRUEsV0FBVztJQUNYRSxXQUFXLENBQUNDO1FBQ1YsT0FBT0EsS0FBS0osT0FBTyxDQUFDLFlBQVk7SUFDbEM7SUFFQSxpQkFBaUI7SUFDakJLLGVBQWUsQ0FBQ0MsU0FBc0JGO1FB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