25e45051eca2a034b7a228fdbf828bbd
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _ticketapi = require("../ticket-api");
const _dashboardapi = require("../../../lib/api/dashboard-api");
// Mock fetch globally
global.fetch = jest.fn();
// Mock console methods to avoid noise in tests
const consoleSpy = {
    error: jest.spyOn(console, 'error').mockImplementation(()=>{}),
    warn: jest.spyOn(console, 'warn').mockImplementation(()=>{}),
    log: jest.spyOn(console, 'log').mockImplementation(()=>{})
};
describe('API Integration Tests', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        // Reset fetch mock
        fetch.mockClear();
    });
    afterAll(()=>{
        // Restore console methods
        Object.values(consoleSpy).forEach((spy)=>spy.mockRestore());
    });
    describe('TicketApi', ()=>{
        describe('getTickets', ()=>{
            it('should fetch tickets successfully', async ()=>{
                const mockResponse = {
                    code: 0,
                    message: 'success',
                    data: {
                        tickets: [
                            {
                                id: 1,
                                title: '系统登录问题',
                                description: '用户无法正常登录',
                                status: 'open',
                                priority: 'high',
                                created_at: '2024-01-01T10:00:00Z'
                            }
                        ],
                        total: 1,
                        page: 1,
                        page_size: 20
                    }
                };
                fetch.mockResolvedValueOnce({
                    ok: true,
                    status: 200,
                    json: async ()=>mockResponse
                });
                const result = await _ticketapi.TicketApi.getTickets();
                expect(fetch).toHaveBeenCalledWith(expect.stringContaining('/api/v1/tickets'), expect.objectContaining({
                    method: 'GET',
                    headers: expect.objectContaining({
                        'Content-Type': 'application/json'
                    })
                }));
                expect(result).toEqual(mockResponse.data);
            });
            it('should handle API error responses', async ()=>{
                const mockErrorResponse = {
                    code: 5001,
                    message: '服务器内部错误',
                    data: null
                };
                fetch.mockResolvedValueOnce({
                    ok: true,
                    status: 200,
                    json: async ()=>mockErrorResponse
                });
                await expect(_ticketapi.TicketApi.getTickets()).rejects.toThrow('服务器内部错误');
            });
            it('should handle network errors', async ()=>{
                fetch.mockRejectedValueOnce(new Error('Network error'));
                await expect(_ticketapi.TicketApi.getTickets()).rejects.toThrow('Network error');
            });
            it('should include query parameters correctly', async ()=>{
                const mockResponse = {
                    code: 0,
                    message: 'success',
                    data: {
                        tickets: [],
                        total: 0,
                        page: 1,
                        page_size: 10
                    }
                };
                fetch.mockResolvedValueOnce({
                    ok: true,
                    status: 200,
                    json: async ()=>mockResponse
                });
                const params = {
                    page: 2,
                    page_size: 10,
                    status: 'open',
                    priority: 'high'
                };
                await _ticketapi.TicketApi.getTickets(params);
                expect(fetch).toHaveBeenCalledWith(expect.stringContaining('/api/v1/tickets'), expect.objectContaining({
                    method: 'GET'
                }));
            });
        });
        describe('createTicket', ()=>{
            it('should create ticket successfully', async ()=>{
                const mockTicketData = {
                    title: '新工单',
                    description: '工单描述',
                    priority: 'medium',
                    type: 'incident'
                };
                const mockResponse = {
                    code: 0,
                    message: 'success',
                    data: {
                        id: 1,
                        ...mockTicketData,
                        status: 'open',
                        created_at: '2024-01-01T10:00:00Z'
                    }
                };
                fetch.mockResolvedValueOnce({
                    ok: true,
                    status: 201,
                    json: async ()=>mockResponse
                });
                const result = await _ticketapi.TicketApi.createTicket(mockTicketData);
                expect(fetch).toHaveBeenCalledWith(expect.stringContaining('/api/v1/tickets'), expect.objectContaining({
                    method: 'POST',
                    headers: expect.objectContaining({
                        'Content-Type': 'application/json'
                    }),
                    body: JSON.stringify(mockTicketData)
                }));
                expect(result).toEqual(mockResponse.data);
            });
            it('should handle validation errors', async ()=>{
                const mockErrorResponse = {
                    code: 1001,
                    message: '请求参数错误: title is required',
                    data: null
                };
                fetch.mockResolvedValueOnce({
                    ok: true,
                    status: 200,
                    json: async ()=>mockErrorResponse
                });
                const invalidData = {
                    description: '缺少标题',
                    priority: 'medium',
                    type: 'incident'
                };
                // eslint-disable-next-line @typescript-eslint/no-explicit-any
                await expect(_ticketapi.TicketApi.createTicket(invalidData)).rejects.toThrow('请求参数错误: title is required');
            });
        });
    });
    describe('DashboardAPI', ()=>{
        describe('getDashboardConfig', ()=>{
            it('should fetch dashboard config successfully', async ()=>{
                const mockResponse = {
                    code: 0,
                    message: 'success',
                    data: {
                        id: 1,
                        name: '默认仪表盘',
                        layout: 'grid',
                        widgets: [
                            {
                                id: 'widget-1',
                                type: 'stats',
                                title: '工单统计',
                                position: {
                                    x: 0,
                                    y: 0,
                                    w: 6,
                                    h: 4
                                }
                            }
                        ]
                    }
                };
                fetch.mockResolvedValueOnce({
                    ok: true,
                    status: 200,
                    json: async ()=>mockResponse
                });
                const result = await _dashboardapi.DashboardAPI.getDashboardConfig();
                expect(fetch).toHaveBeenCalledWith(expect.stringContaining('/api/v1/dashboard/config'), expect.objectContaining({
                    method: 'GET',
                    headers: expect.objectContaining({
                        'Content-Type': 'application/json'
                    })
                }));
                expect(result).toEqual(mockResponse.data);
            });
        });
        describe('getTicketStats', ()=>{
            it('should fetch ticket statistics successfully', async ()=>{
                const mockResponse = {
                    code: 0,
                    message: 'success',
                    data: {
                        total: 150,
                        open: 45,
                        in_progress: 10,
                        resolved: 95,
                        by_priority: {
                            low: 50,
                            medium: 70,
                            high: 25,
                            critical: 5
                        }
                    }
                };
                fetch.mockResolvedValueOnce({
                    ok: true,
                    status: 200,
                    json: async ()=>mockResponse
                });
                const result = await _dashboardapi.DashboardAPI.getTicketStats();
                expect(fetch).toHaveBeenCalledWith(expect.stringContaining('/api/v1/dashboard/stats/tickets'), expect.objectContaining({
                    method: 'GET'
                }));
                expect(result).toEqual(mockResponse.data);
            });
        });
    });
    describe('Error Handling', ()=>{
        it('should handle HTTP error status codes', async ()=>{
            fetch.mockResolvedValueOnce({
                ok: false,
                status: 500,
                statusText: 'Internal Server Error',
                json: async ()=>({
                        message: 'Server error'
                    })
            });
            await expect(_ticketapi.TicketApi.getTickets()).rejects.toThrow();
        });
        it('should handle malformed JSON responses', async ()=>{
            fetch.mockResolvedValueOnce({
                ok: true,
                status: 200,
                json: async ()=>{
                    throw new Error('Invalid JSON');
                }
            });
            await expect(_ticketapi.TicketApi.getTickets()).rejects.toThrow('Invalid JSON');
        });
        it('should handle timeout errors', async ()=>{
            fetch.mockImplementationOnce(()=>new Promise((_, reject)=>setTimeout(()=>reject(new Error('Request timeout')), 100)));
            await expect(_ticketapi.TicketApi.getTickets()).rejects.toThrow('Request timeout');
        });
        it('should handle CORS errors', async ()=>{
            fetch.mockRejectedValueOnce(new TypeError('Failed to fetch'));
            await expect(_ticketapi.TicketApi.getTickets()).rejects.toThrow('Failed to fetch');
        });
    });
    describe('Authentication Integration', ()=>{
        it('should include authorization header when token exists', async ()=>{
            // Mock localStorage
            const mockToken = 'mock-jwt-token';
            Object.defineProperty(window, 'localStorage', {
                value: {
                    getItem: jest.fn(()=>mockToken),
                    setItem: jest.fn(),
                    removeItem: jest.fn()
                },
                writable: true
            });
            const mockResponse = {
                code: 0,
                message: 'success',
                data: {
                    tickets: []
                }
            };
            fetch.mockResolvedValueOnce({
                ok: true,
                status: 200,
                json: async ()=>mockResponse
            });
            await _ticketapi.TicketApi.getTickets();
            expect(fetch).toHaveBeenCalledWith(expect.any(String), expect.objectContaining({
                headers: expect.objectContaining({
                    'Authorization': `Bearer ${mockToken}`
                })
            }));
        });
        it('should handle token expiration', async ()=>{
            const mockErrorResponse = {
                code: 2001,
                message: 'Token已过期',
                data: null
            };
            fetch.mockResolvedValueOnce({
                ok: true,
                status: 200,
                json: async ()=>mockErrorResponse
            });
            await expect(_ticketapi.TicketApi.getTickets()).rejects.toThrow('Token已过期');
        });
        it('should handle unauthorized access', async ()=>{
            fetch.mockResolvedValueOnce({
                ok: false,
                status: 401,
                statusText: 'Unauthorized',
                json: async ()=>({
                        message: 'Unauthorized'
                    })
            });
            await expect(_ticketapi.TicketApi.getTickets()).rejects.toThrow();
        });
    });
    describe('Performance and Caching', ()=>{
        it('should handle concurrent requests', async ()=>{
            const mockResponse = {
                code: 0,
                message: 'success',
                data: {
                    tickets: []
                }
            };
            fetch.mockResolvedValue({
                ok: true,
                status: 200,
                json: async ()=>mockResponse
            });
            // Make multiple concurrent requests
            const promises = [
                _ticketapi.TicketApi.getTickets(),
                _ticketapi.TicketApi.getTickets(),
                _ticketapi.TicketApi.getTickets()
            ];
            const results = await Promise.all(promises);
            expect(results).toHaveLength(3);
            expect(fetch).toHaveBeenCalledTimes(3);
        });
        it('should handle large response payloads', async ()=>{
            // Create a large mock response
            const largeTicketList = Array.from({
                length: 1000
            }, (_, i)=>({
                    id: i + 1,
                    title: `工单 ${i + 1}`,
                    status: 'open',
                    priority: 'medium'
                }));
            const mockResponse = {
                code: 0,
                message: 'success',
                data: {
                    tickets: largeTicketList,
                    total: 1000,
                    page: 1,
                    page_size: 1000
                }
            };
            fetch.mockResolvedValueOnce({
                ok: true,
                status: 200,
                json: async ()=>mockResponse
            });
            const result = await _ticketapi.TicketApi.getTickets({
                page_size: 1000
            });
            expect(result.tickets).toHaveLength(1000);
            expect(result.total).toBe(1000);
        });
    });
    describe('Data Validation', ()=>{
        it('should handle missing response fields', async ()=>{
            const partialResponse = {
                code: 0,
                message: 'success',
                data: {
                    tickets: [
                        {
                            id: 1,
                            title: '工单标题'
                        }
                    ]
                }
            };
            fetch.mockResolvedValueOnce({
                ok: true,
                status: 200,
                json: async ()=>partialResponse
            });
            const result = await _ticketapi.TicketApi.getTickets();
            expect(result.tickets).toHaveLength(1);
            expect(result.tickets[0].id).toBe(1);
        });
        it('should validate response data structure', async ()=>{
            const invalidResponse = {
                code: 0,
                message: 'success',
                data: {
                    // Missing required fields
                    tickets: null
                }
            };
            fetch.mockResolvedValueOnce({
                ok: true,
                status: 200,
                json: async ()=>invalidResponse
            });
            // The API should handle invalid response structures gracefully
            const result = await _ticketapi.TicketApi.getTickets();
            // Should provide fallback values or throw descriptive error
            expect(result).toBeDefined();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZWlkc29mdC9Eb3dubG9hZHMvcmVzZWFyY2gvaXRzbS9pdHNtLXByb3RvdHlwZS9zcmMvYXBwL2xpYi9fX3Rlc3RzX18vYXBpLWludGVncmF0aW9uLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGlja2V0QXBpIH0gZnJvbSAnLi4vdGlja2V0LWFwaSc7XG5pbXBvcnQgeyBEYXNoYm9hcmRBUEkgfSBmcm9tICcuLi8uLi8uLi9saWIvYXBpL2Rhc2hib2FyZC1hcGknO1xuXG4vLyBNb2NrIGZldGNoIGdsb2JhbGx5XG5nbG9iYWwuZmV0Y2ggPSBqZXN0LmZuKCk7XG5cbi8vIE1vY2sgY29uc29sZSBtZXRob2RzIHRvIGF2b2lkIG5vaXNlIGluIHRlc3RzXG5jb25zdCBjb25zb2xlU3B5ID0ge1xuICBlcnJvcjogamVzdC5zcHlPbihjb25zb2xlLCAnZXJyb3InKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge30pLFxuICB3YXJuOiBqZXN0LnNweU9uKGNvbnNvbGUsICd3YXJuJykubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHt9KSxcbiAgbG9nOiBqZXN0LnNweU9uKGNvbnNvbGUsICdsb2cnKS5tb2NrSW1wbGVtZW50YXRpb24oKCkgPT4ge30pLFxufTtcblxuZGVzY3JpYmUoJ0FQSSBJbnRlZ3JhdGlvbiBUZXN0cycsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgLy8gUmVzZXQgZmV0Y2ggbW9ja1xuICAgIChmZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tDbGVhcigpO1xuICB9KTtcblxuICBhZnRlckFsbCgoKSA9PiB7XG4gICAgLy8gUmVzdG9yZSBjb25zb2xlIG1ldGhvZHNcbiAgICBPYmplY3QudmFsdWVzKGNvbnNvbGVTcHkpLmZvckVhY2goc3B5ID0+IHNweS5tb2NrUmVzdG9yZSgpKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1RpY2tldEFwaScsICgpID0+IHtcbiAgICBkZXNjcmliZSgnZ2V0VGlja2V0cycsICgpID0+IHtcbiAgICAgIGl0KCdzaG91bGQgZmV0Y2ggdGlja2V0cyBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1vY2tSZXNwb25zZSA9IHtcbiAgICAgICAgICBjb2RlOiAwLFxuICAgICAgICAgIG1lc3NhZ2U6ICdzdWNjZXNzJyxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0aWNrZXRzOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogMSxcbiAgICAgICAgICAgICAgICB0aXRsZTogJ+ezu+e7n+eZu+W9lemXrumimCcsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICfnlKjmiLfml6Dms5XmraPluLjnmbvlvZUnLFxuICAgICAgICAgICAgICAgIHN0YXR1czogJ29wZW4nLFxuICAgICAgICAgICAgICAgIHByaW9yaXR5OiAnaGlnaCcsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMDFUMTA6MDA6MDBaJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB0b3RhbDogMSxcbiAgICAgICAgICAgIHBhZ2U6IDEsXG4gICAgICAgICAgICBwYWdlX3NpemU6IDIwLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgKGZldGNoIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiBtb2NrUmVzcG9uc2UsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFRpY2tldEFwaS5nZXRUaWNrZXRzKCk7XG5cbiAgICAgICAgZXhwZWN0KGZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgICBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnL2FwaS92MS90aWNrZXRzJyksXG4gICAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChtb2NrUmVzcG9uc2UuZGF0YSk7XG4gICAgICB9KTtcblxuICAgICAgaXQoJ3Nob3VsZCBoYW5kbGUgQVBJIGVycm9yIHJlc3BvbnNlcycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgbW9ja0Vycm9yUmVzcG9uc2UgPSB7XG4gICAgICAgICAgY29kZTogNTAwMSxcbiAgICAgICAgICBtZXNzYWdlOiAn5pyN5Yqh5Zmo5YaF6YOo6ZSZ6K+vJyxcbiAgICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICB9O1xuXG4gICAgICAgIChmZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gbW9ja0Vycm9yUmVzcG9uc2UsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGF3YWl0IGV4cGVjdChUaWNrZXRBcGkuZ2V0VGlja2V0cygpKS5yZWplY3RzLnRvVGhyb3coJ+acjeWKoeWZqOWGhemDqOmUmeivrycpO1xuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgaGFuZGxlIG5ldHdvcmsgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAoZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UobmV3IEVycm9yKCdOZXR3b3JrIGVycm9yJykpO1xuXG4gICAgICAgIGF3YWl0IGV4cGVjdChUaWNrZXRBcGkuZ2V0VGlja2V0cygpKS5yZWplY3RzLnRvVGhyb3coJ05ldHdvcmsgZXJyb3InKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGluY2x1ZGUgcXVlcnkgcGFyYW1ldGVycyBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1vY2tSZXNwb25zZSA9IHtcbiAgICAgICAgICBjb2RlOiAwLFxuICAgICAgICAgIG1lc3NhZ2U6ICdzdWNjZXNzJyxcbiAgICAgICAgICBkYXRhOiB7IHRpY2tldHM6IFtdLCB0b3RhbDogMCwgcGFnZTogMSwgcGFnZV9zaXplOiAxMCB9LFxuICAgICAgICB9O1xuXG4gICAgICAgIChmZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gbW9ja1Jlc3BvbnNlLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBwYXJhbXMgPSB7XG4gICAgICAgICAgcGFnZTogMixcbiAgICAgICAgICBwYWdlX3NpemU6IDEwLFxuICAgICAgICAgIHN0YXR1czogJ29wZW4nLFxuICAgICAgICAgIHByaW9yaXR5OiAnaGlnaCcsXG4gICAgICAgIH07XG5cbiAgICAgICAgYXdhaXQgVGlja2V0QXBpLmdldFRpY2tldHMocGFyYW1zKTtcblxuICAgICAgICBleHBlY3QoZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAgIGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCcvYXBpL3YxL3RpY2tldHMnKSxcbiAgICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdjcmVhdGVUaWNrZXQnLCAoKSA9PiB7XG4gICAgICBpdCgnc2hvdWxkIGNyZWF0ZSB0aWNrZXQgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBtb2NrVGlja2V0RGF0YSA9IHtcbiAgICAgICAgICB0aXRsZTogJ+aWsOW3peWNlScsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICflt6XljZXmj4/ov7AnLFxuICAgICAgICAgIHByaW9yaXR5OiAnbWVkaXVtJyxcbiAgICAgICAgICB0eXBlOiAnaW5jaWRlbnQnLFxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IG1vY2tSZXNwb25zZSA9IHtcbiAgICAgICAgICBjb2RlOiAwLFxuICAgICAgICAgIG1lc3NhZ2U6ICdzdWNjZXNzJyxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBpZDogMSxcbiAgICAgICAgICAgIC4uLm1vY2tUaWNrZXREYXRhLFxuICAgICAgICAgICAgc3RhdHVzOiAnb3BlbicsXG4gICAgICAgICAgICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQxMDowMDowMFonLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgKGZldGNoIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBzdGF0dXM6IDIwMSxcbiAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiBtb2NrUmVzcG9uc2UsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFRpY2tldEFwaS5jcmVhdGVUaWNrZXQobW9ja1RpY2tldERhdGEpO1xuXG4gICAgICAgIGV4cGVjdChmZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICAgZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJy9hcGkvdjEvdGlja2V0cycpLFxuICAgICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShtb2NrVGlja2V0RGF0YSksXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKG1vY2tSZXNwb25zZS5kYXRhKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGhhbmRsZSB2YWxpZGF0aW9uIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgbW9ja0Vycm9yUmVzcG9uc2UgPSB7XG4gICAgICAgICAgY29kZTogMTAwMSxcbiAgICAgICAgICBtZXNzYWdlOiAn6K+35rGC5Y+C5pWw6ZSZ6K+vOiB0aXRsZSBpcyByZXF1aXJlZCcsXG4gICAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgfTtcblxuICAgICAgICAoZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+IG1vY2tFcnJvclJlc3BvbnNlLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBpbnZhbGlkRGF0YSA9IHsgXG4gICAgICAgICAgZGVzY3JpcHRpb246ICfnvLrlsJHmoIfpopgnLFxuICAgICAgICAgIHByaW9yaXR5OiAnbWVkaXVtJyBhcyBjb25zdCxcbiAgICAgICAgICB0eXBlOiAnaW5jaWRlbnQnIGFzIGNvbnN0XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgYXdhaXQgZXhwZWN0KFRpY2tldEFwaS5jcmVhdGVUaWNrZXQoaW52YWxpZERhdGEgYXMgYW55KSkucmVqZWN0cy50b1Rocm93KFxuICAgICAgICAgICfor7fmsYLlj4LmlbDplJnor686IHRpdGxlIGlzIHJlcXVpcmVkJ1xuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdEYXNoYm9hcmRBUEknLCAoKSA9PiB7XG4gICAgZGVzY3JpYmUoJ2dldERhc2hib2FyZENvbmZpZycsICgpID0+IHtcbiAgICAgIGl0KCdzaG91bGQgZmV0Y2ggZGFzaGJvYXJkIGNvbmZpZyBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1vY2tSZXNwb25zZSA9IHtcbiAgICAgICAgICBjb2RlOiAwLFxuICAgICAgICAgIG1lc3NhZ2U6ICdzdWNjZXNzJyxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBpZDogMSxcbiAgICAgICAgICAgIG5hbWU6ICfpu5jorqTku6rooajnm5gnLFxuICAgICAgICAgICAgbGF5b3V0OiAnZ3JpZCcsXG4gICAgICAgICAgICB3aWRnZXRzOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogJ3dpZGdldC0xJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnc3RhdHMnLFxuICAgICAgICAgICAgICAgIHRpdGxlOiAn5bel5Y2V57uf6K6hJyxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogeyB4OiAwLCB5OiAwLCB3OiA2LCBoOiA0IH0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgKGZldGNoIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiBtb2NrUmVzcG9uc2UsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IERhc2hib2FyZEFQSS5nZXREYXNoYm9hcmRDb25maWcoKTtcblxuICAgICAgICBleHBlY3QoZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAgIGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCcvYXBpL3YxL2Rhc2hib2FyZC9jb25maWcnKSxcbiAgICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczogZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcblxuICAgICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKG1vY2tSZXNwb25zZS5kYXRhKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ2dldFRpY2tldFN0YXRzJywgKCkgPT4ge1xuICAgICAgaXQoJ3Nob3VsZCBmZXRjaCB0aWNrZXQgc3RhdGlzdGljcyBzdWNjZXNzZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1vY2tSZXNwb25zZSA9IHtcbiAgICAgICAgICBjb2RlOiAwLFxuICAgICAgICAgIG1lc3NhZ2U6ICdzdWNjZXNzJyxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0b3RhbDogMTUwLFxuICAgICAgICAgICAgb3BlbjogNDUsXG4gICAgICAgICAgICBpbl9wcm9ncmVzczogMTAsXG4gICAgICAgICAgICByZXNvbHZlZDogOTUsXG4gICAgICAgICAgICBieV9wcmlvcml0eToge1xuICAgICAgICAgICAgICBsb3c6IDUwLFxuICAgICAgICAgICAgICBtZWRpdW06IDcwLFxuICAgICAgICAgICAgICBoaWdoOiAyNSxcbiAgICAgICAgICAgICAgY3JpdGljYWw6IDUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG5cbiAgICAgICAgKGZldGNoIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiBtb2NrUmVzcG9uc2UsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IERhc2hib2FyZEFQSS5nZXRUaWNrZXRTdGF0cygpO1xuXG4gICAgICAgIGV4cGVjdChmZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICAgZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJy9hcGkvdjEvZGFzaGJvYXJkL3N0YXRzL3RpY2tldHMnKSxcbiAgICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG5cbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9FcXVhbChtb2NrUmVzcG9uc2UuZGF0YSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIEhUVFAgZXJyb3Igc3RhdHVzIGNvZGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgKGZldGNoIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IGZhbHNlLFxuICAgICAgICBzdGF0dXM6IDUwMCxcbiAgICAgICAgc3RhdHVzVGV4dDogJ0ludGVybmFsIFNlcnZlciBFcnJvcicsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IG1lc3NhZ2U6ICdTZXJ2ZXIgZXJyb3InIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChUaWNrZXRBcGkuZ2V0VGlja2V0cygpKS5yZWplY3RzLnRvVGhyb3coKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG1hbGZvcm1lZCBKU09OIHJlc3BvbnNlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIChmZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBKU09OJyk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgZXhwZWN0KFRpY2tldEFwaS5nZXRUaWNrZXRzKCkpLnJlamVjdHMudG9UaHJvdygnSW52YWxpZCBKU09OJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSB0aW1lb3V0IGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIChmZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tJbXBsZW1lbnRhdGlvbk9uY2UoXG4gICAgICAgICgpID0+IG5ldyBQcm9taXNlKChfLCByZWplY3QpID0+IFxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gcmVqZWN0KG5ldyBFcnJvcignUmVxdWVzdCB0aW1lb3V0JykpLCAxMDApXG4gICAgICAgIClcbiAgICAgICk7XG5cbiAgICAgIGF3YWl0IGV4cGVjdChUaWNrZXRBcGkuZ2V0VGlja2V0cygpKS5yZWplY3RzLnRvVGhyb3coJ1JlcXVlc3QgdGltZW91dCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgQ09SUyBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAoZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UoXG4gICAgICAgIG5ldyBUeXBlRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCcpXG4gICAgICApO1xuXG4gICAgICBhd2FpdCBleHBlY3QoVGlja2V0QXBpLmdldFRpY2tldHMoKSkucmVqZWN0cy50b1Rocm93KCdGYWlsZWQgdG8gZmV0Y2gnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0F1dGhlbnRpY2F0aW9uIEludGVncmF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaW5jbHVkZSBhdXRob3JpemF0aW9uIGhlYWRlciB3aGVuIHRva2VuIGV4aXN0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgbG9jYWxTdG9yYWdlXG4gICAgICBjb25zdCBtb2NrVG9rZW4gPSAnbW9jay1qd3QtdG9rZW4nO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ2xvY2FsU3RvcmFnZScsIHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICBnZXRJdGVtOiBqZXN0LmZuKCgpID0+IG1vY2tUb2tlbiksXG4gICAgICAgICAgc2V0SXRlbTogamVzdC5mbigpLFxuICAgICAgICAgIHJlbW92ZUl0ZW06IGplc3QuZm4oKSxcbiAgICAgICAgfSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgbW9ja1Jlc3BvbnNlID0ge1xuICAgICAgICBjb2RlOiAwLFxuICAgICAgICBtZXNzYWdlOiAnc3VjY2VzcycsXG4gICAgICAgIGRhdGE6IHsgdGlja2V0czogW10gfSxcbiAgICAgIH07XG5cbiAgICAgIChmZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gbW9ja1Jlc3BvbnNlLFxuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IFRpY2tldEFwaS5nZXRUaWNrZXRzKCk7XG5cbiAgICAgIGV4cGVjdChmZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5hbnkoU3RyaW5nKSxcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIGhlYWRlcnM6IGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke21vY2tUb2tlbn1gLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHRva2VuIGV4cGlyYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrRXJyb3JSZXNwb25zZSA9IHtcbiAgICAgICAgY29kZTogMjAwMSxcbiAgICAgICAgbWVzc2FnZTogJ1Rva2Vu5bey6L+H5pyfJyxcbiAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgIH07XG5cbiAgICAgIChmZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gbW9ja0Vycm9yUmVzcG9uc2UsXG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgZXhwZWN0KFRpY2tldEFwaS5nZXRUaWNrZXRzKCkpLnJlamVjdHMudG9UaHJvdygnVG9rZW7lt7Lov4fmnJ8nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHVuYXV0aG9yaXplZCBhY2Nlc3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICAoZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogZmFsc2UsXG4gICAgICAgIHN0YXR1czogNDAxLFxuICAgICAgICBzdGF0dXNUZXh0OiAnVW5hdXRob3JpemVkJyxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSksXG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgZXhwZWN0KFRpY2tldEFwaS5nZXRUaWNrZXRzKCkpLnJlamVjdHMudG9UaHJvdygpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUGVyZm9ybWFuY2UgYW5kIENhY2hpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgY29uY3VycmVudCByZXF1ZXN0cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tSZXNwb25zZSA9IHtcbiAgICAgICAgY29kZTogMCxcbiAgICAgICAgbWVzc2FnZTogJ3N1Y2Nlc3MnLFxuICAgICAgICBkYXRhOiB7IHRpY2tldHM6IFtdIH0sXG4gICAgICB9O1xuXG4gICAgICAoZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gbW9ja1Jlc3BvbnNlLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIE1ha2UgbXVsdGlwbGUgY29uY3VycmVudCByZXF1ZXN0c1xuICAgICAgY29uc3QgcHJvbWlzZXMgPSBbXG4gICAgICAgIFRpY2tldEFwaS5nZXRUaWNrZXRzKCksXG4gICAgICAgIFRpY2tldEFwaS5nZXRUaWNrZXRzKCksXG4gICAgICAgIFRpY2tldEFwaS5nZXRUaWNrZXRzKCksXG4gICAgICBdO1xuXG4gICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuXG4gICAgICBleHBlY3QocmVzdWx0cykudG9IYXZlTGVuZ3RoKDMpO1xuICAgICAgZXhwZWN0KGZldGNoKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBsYXJnZSByZXNwb25zZSBwYXlsb2FkcycsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIENyZWF0ZSBhIGxhcmdlIG1vY2sgcmVzcG9uc2VcbiAgICAgIGNvbnN0IGxhcmdlVGlja2V0TGlzdCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwMDAgfSwgKF8sIGkpID0+ICh7XG4gICAgICAgIGlkOiBpICsgMSxcbiAgICAgICAgdGl0bGU6IGDlt6XljZUgJHtpICsgMX1gLFxuICAgICAgICBzdGF0dXM6ICdvcGVuJyxcbiAgICAgICAgcHJpb3JpdHk6ICdtZWRpdW0nLFxuICAgICAgfSkpO1xuXG4gICAgICBjb25zdCBtb2NrUmVzcG9uc2UgPSB7XG4gICAgICAgIGNvZGU6IDAsXG4gICAgICAgIG1lc3NhZ2U6ICdzdWNjZXNzJyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHRpY2tldHM6IGxhcmdlVGlja2V0TGlzdCxcbiAgICAgICAgICB0b3RhbDogMTAwMCxcbiAgICAgICAgICBwYWdlOiAxLFxuICAgICAgICAgIHBhZ2Vfc2l6ZTogMTAwMCxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIChmZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gbW9ja1Jlc3BvbnNlLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFRpY2tldEFwaS5nZXRUaWNrZXRzKHsgcGFnZV9zaXplOiAxMDAwIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnRpY2tldHMpLnRvSGF2ZUxlbmd0aCgxMDAwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQudG90YWwpLnRvQmUoMTAwMCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdEYXRhIFZhbGlkYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWlzc2luZyByZXNwb25zZSBmaWVsZHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBwYXJ0aWFsUmVzcG9uc2UgPSB7XG4gICAgICAgIGNvZGU6IDAsXG4gICAgICAgIG1lc3NhZ2U6ICdzdWNjZXNzJyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHRpY2tldHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6IDEsXG4gICAgICAgICAgICAgIHRpdGxlOiAn5bel5Y2V5qCH6aKYJyxcbiAgICAgICAgICAgICAgLy8gTWlzc2luZyBvdGhlciByZXF1aXJlZCBmaWVsZHNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIChmZXRjaCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gcGFydGlhbFJlc3BvbnNlLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFRpY2tldEFwaS5nZXRUaWNrZXRzKCk7XG4gICAgICBcbiAgICAgIGV4cGVjdChyZXN1bHQudGlja2V0cykudG9IYXZlTGVuZ3RoKDEpO1xuICAgICAgZXhwZWN0KHJlc3VsdC50aWNrZXRzWzBdLmlkKS50b0JlKDEpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSByZXNwb25zZSBkYXRhIHN0cnVjdHVyZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGludmFsaWRSZXNwb25zZSA9IHtcbiAgICAgICAgY29kZTogMCxcbiAgICAgICAgbWVzc2FnZTogJ3N1Y2Nlc3MnLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgLy8gTWlzc2luZyByZXF1aXJlZCBmaWVsZHNcbiAgICAgICAgICB0aWNrZXRzOiBudWxsLFxuICAgICAgICB9LFxuICAgICAgfTtcblxuICAgICAgKGZldGNoIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiBpbnZhbGlkUmVzcG9uc2UsXG4gICAgICB9KTtcblxuICAgICAgLy8gVGhlIEFQSSBzaG91bGQgaGFuZGxlIGludmFsaWQgcmVzcG9uc2Ugc3RydWN0dXJlcyBncmFjZWZ1bGx5XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBUaWNrZXRBcGkuZ2V0VGlja2V0cygpO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgcHJvdmlkZSBmYWxsYmFjayB2YWx1ZXMgb3IgdGhyb3cgZGVzY3JpcHRpdmUgZXJyb3JcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVEZWZpbmVkKCk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm5hbWVzIjpbImdsb2JhbCIsImZldGNoIiwiamVzdCIsImZuIiwiY29uc29sZVNweSIsImVycm9yIiwic3B5T24iLCJjb25zb2xlIiwibW9ja0ltcGxlbWVudGF0aW9uIiwid2FybiIsImxvZyIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrQ2xlYXIiLCJhZnRlckFsbCIsIk9iamVjdCIsInZhbHVlcyIsImZvckVhY2giLCJzcHkiLCJtb2NrUmVzdG9yZSIsIml0IiwibW9ja1Jlc3BvbnNlIiwiY29kZSIsIm1lc3NhZ2UiLCJkYXRhIiwidGlja2V0cyIsImlkIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInN0YXR1cyIsInByaW9yaXR5IiwiY3JlYXRlZF9hdCIsInRvdGFsIiwicGFnZSIsInBhZ2Vfc2l6ZSIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSIsIm9rIiwianNvbiIsInJlc3VsdCIsIlRpY2tldEFwaSIsImdldFRpY2tldHMiLCJleHBlY3QiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInN0cmluZ0NvbnRhaW5pbmciLCJvYmplY3RDb250YWluaW5nIiwibWV0aG9kIiwiaGVhZGVycyIsInRvRXF1YWwiLCJtb2NrRXJyb3JSZXNwb25zZSIsInJlamVjdHMiLCJ0b1Rocm93IiwibW9ja1JlamVjdGVkVmFsdWVPbmNlIiwiRXJyb3IiLCJwYXJhbXMiLCJtb2NrVGlja2V0RGF0YSIsInR5cGUiLCJjcmVhdGVUaWNrZXQiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImludmFsaWREYXRhIiwibmFtZSIsImxheW91dCIsIndpZGdldHMiLCJwb3NpdGlvbiIsIngiLCJ5IiwidyIsImgiLCJEYXNoYm9hcmRBUEkiLCJnZXREYXNoYm9hcmRDb25maWciLCJvcGVuIiwiaW5fcHJvZ3Jlc3MiLCJyZXNvbHZlZCIsImJ5X3ByaW9yaXR5IiwibG93IiwibWVkaXVtIiwiaGlnaCIsImNyaXRpY2FsIiwiZ2V0VGlja2V0U3RhdHMiLCJzdGF0dXNUZXh0IiwibW9ja0ltcGxlbWVudGF0aW9uT25jZSIsIlByb21pc2UiLCJfIiwicmVqZWN0Iiwic2V0VGltZW91dCIsIlR5cGVFcnJvciIsIm1vY2tUb2tlbiIsImRlZmluZVByb3BlcnR5Iiwid2luZG93IiwidmFsdWUiLCJnZXRJdGVtIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJ3cml0YWJsZSIsImFueSIsIlN0cmluZyIsIm1vY2tSZXNvbHZlZFZhbHVlIiwicHJvbWlzZXMiLCJyZXN1bHRzIiwiYWxsIiwidG9IYXZlTGVuZ3RoIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwibGFyZ2VUaWNrZXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwibGVuZ3RoIiwiaSIsInRvQmUiLCJwYXJ0aWFsUmVzcG9uc2UiLCJpbnZhbGlkUmVzcG9uc2UiLCJ0b0JlRGVmaW5lZCJdLCJtYXBwaW5ncyI6Ijs7OzsyQkFBMEI7OEJBQ0c7QUFFN0Isc0JBQXNCO0FBQ3RCQSxPQUFPQyxLQUFLLEdBQUdDLEtBQUtDLEVBQUU7QUFFdEIsK0NBQStDO0FBQy9DLE1BQU1DLGFBQWE7SUFDakJDLE9BQU9ILEtBQUtJLEtBQUssQ0FBQ0MsU0FBUyxTQUFTQyxrQkFBa0IsQ0FBQyxLQUFPO0lBQzlEQyxNQUFNUCxLQUFLSSxLQUFLLENBQUNDLFNBQVMsUUFBUUMsa0JBQWtCLENBQUMsS0FB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