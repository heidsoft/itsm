{"version":3,"names":["cov_187rgj969l","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","branchMap","s","f","b","inputSourceMap","version","sources","sourcesContent","names","mappings","_coverageSchema","coverage","actualCoverage"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/types/user.ts"],"sourcesContent":["/**\n * 用户相关类型定义\n */\n\nexport type UserRole = 'admin' | 'manager' | 'agent' | 'technician' | 'end_user';\nexport type UserStatus = 'active' | 'inactive' | 'suspended' | 'pending';\n\nexport interface User {\n  id: number;\n  username: string;\n  email: string;\n  fullName: string;\n  firstName?: string;\n  lastName?: string;\n  avatar?: string;\n  phone?: string;\n  role: UserRole;\n  status: UserStatus;\n  department?: string;\n  jobTitle?: string;\n  manager?: User;\n  location?: string;\n  timezone?: string;\n  language?: string;\n  \n  // 权限相关\n  permissions: string[];\n  groups: UserGroup[];\n  \n  // 时间戳\n  createdAt: string;\n  updatedAt: string;\n  lastLoginAt?: string;\n  \n  // 偏好设置\n  preferences: UserPreferences;\n  \n  // 元数据\n  tenantId: number;\n  isActive: boolean;\n  emailVerified: boolean;\n  phoneVerified: boolean;\n}\n\nexport interface UserGroup {\n  id: number;\n  name: string;\n  description?: string;\n  permissions: string[];\n  isActive: boolean;\n}\n\nexport interface UserPreferences {\n  theme: 'light' | 'dark' | 'auto';\n  language: string;\n  timezone: string;\n  dateFormat: string;\n  timeFormat: '12h' | '24h';\n  \n  // 通知偏好\n  notifications: {\n    email: boolean;\n    sms: boolean;\n    inApp: boolean;\n    desktop: boolean;\n    \n    // 通知类型\n    ticketAssigned: boolean;\n    ticketUpdated: boolean;\n    ticketEscalated: boolean;\n    ticketResolved: boolean;\n    slaBreached: boolean;\n    systemMaintenance: boolean;\n  };\n  \n  // 界面偏好\n  ui: {\n    sidebarCollapsed: boolean;\n    tablePageSize: number;\n    defaultView: 'table' | 'card' | 'kanban';\n    showAvatars: boolean;\n    compactMode: boolean;\n  };\n  \n  // 工作偏好\n  work: {\n    autoAssign: boolean;\n    defaultPriority: string;\n    workingHours: {\n      start: string;\n      end: string;\n      timezone: string;\n    };\n    workingDays: number[]; // 0-6, 0 = Sunday\n  };\n}\n\nexport interface CreateUserRequest {\n  username: string;\n  email: string;\n  fullName: string;\n  firstName?: string;\n  lastName?: string;\n  phone?: string;\n  role: UserRole;\n  department?: string;\n  jobTitle?: string;\n  managerId?: number;\n  location?: string;\n  timezone?: string;\n  language?: string;\n  groupIds?: number[];\n  sendWelcomeEmail?: boolean;\n}\n\nexport interface UpdateUserRequest {\n  username?: string;\n  email?: string;\n  fullName?: string;\n  firstName?: string;\n  lastName?: string;\n  phone?: string;\n  role?: UserRole;\n  status?: UserStatus;\n  department?: string;\n  jobTitle?: string;\n  managerId?: number;\n  location?: string;\n  timezone?: string;\n  language?: string;\n  groupIds?: number[];\n  avatar?: string;\n}\n\nexport interface UserFilters {\n  role?: UserRole[];\n  status?: UserStatus[];\n  department?: string[];\n  location?: string[];\n  groupId?: number[];\n  search?: string;\n  isActive?: boolean;\n  lastLoginAfter?: string;\n  lastLoginBefore?: string;\n  createdAfter?: string;\n  createdBefore?: string;\n}\n\nexport interface UserListResponse {\n  users: User[];\n  total: number;\n  page: number;\n  pageSize: number;\n  totalPages: number;\n}\n\nexport interface UserStats {\n  total: number;\n  active: number;\n  inactive: number;\n  suspended: number;\n  byRole: Record<UserRole, number>;\n  byDepartment: Record<string, number>;\n  newThisMonth: number;\n  activeThisWeek: number;\n}\n\n// 认证相关\nexport interface LoginRequest {\n  username: string;\n  password: string;\n  rememberMe?: boolean;\n  captcha?: string;\n}\n\nexport interface LoginResponse {\n  user: User;\n  token: string;\n  refreshToken: string;\n  expiresIn: number;\n  permissions: string[];\n}\n\nexport interface RefreshTokenRequest {\n  refreshToken: string;\n}\n\nexport interface ChangePasswordRequest {\n  currentPassword: string;\n  newPassword: string;\n  confirmPassword: string;\n}\n\nexport interface ResetPasswordRequest {\n  email: string;\n  captcha?: string;\n}\n\nexport interface SetPasswordRequest {\n  token: string;\n  password: string;\n  confirmPassword: string;\n}\n\n// 用户活动\nexport interface UserActivity {\n  id: number;\n  userId: number;\n  type: 'login' | 'logout' | 'password_change' | 'profile_update' | 'permission_change';\n  description: string;\n  ipAddress: string;\n  userAgent: string;\n  timestamp: string;\n  metadata?: Record<string, unknown>;\n}\n\n// 用户会话\nexport interface UserSession {\n  id: string;\n  userId: number;\n  ipAddress: string;\n  userAgent: string;\n  location?: string;\n  isActive: boolean;\n  createdAt: string;\n  lastActivityAt: string;\n  expiresAt: string;\n}\n\n// 权限相关\nexport interface Permission {\n  id: number;\n  name: string;\n  description: string;\n  resource: string;\n  action: string;\n  isActive: boolean;\n}\n\nexport interface RolePermission {\n  role: UserRole;\n  permissions: Permission[];\n}\n\n// 用户导入/导出\nexport interface UserImportRequest {\n  file: File;\n  options: {\n    skipHeader: boolean;\n    updateExisting: boolean;\n    sendWelcomeEmail: boolean;\n    defaultRole: UserRole;\n    defaultStatus: UserStatus;\n  };\n}\n\nexport interface UserImportResult {\n  total: number;\n  success: number;\n  failed: number;\n  errors: Array<{\n    row: number;\n    field: string;\n    error: string;\n  }>;\n  createdUsers: User[];\n  updatedUsers: User[];\n}\n\nexport interface UserExportRequest {\n  filters?: UserFilters;\n  fields?: string[];\n  format: 'csv' | 'xlsx' | 'json';\n}"],"mappings":"AAAA;;GAEC;;AAAA;AAAA,SAAAA,eAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;IAAA;IAAAE,KAAA;IAAAC,SAAA;IAAAC,CAAA;MAAA;IAAA;IAAAC,CAAA;IAAAC,CAAA;IAAAC,cAAA;MAAAC,OAAA;MAAAC,OAAA;MAAAC,cAAA;MAAAC,KAAA;MAAAC,QAAA;IAAA;IAAAC,eAAA;IAAArB,IAAA;EAAA;EAAA,IAAAsB,QAAA,GAAArB,MAAA,CAAAE,GAAA,MAAAF,MAAA,CAAAE,GAAA;EAAA,KAAAmB,QAAA,CAAAvB,IAAA,KAAAuB,QAAA,CAAAvB,IAAA,EAAAC,IAAA,KAAAA,IAAA;IAAAsB,QAAA,CAAAvB,IAAA,IAAAK,YAAA;EAAA;EAAA,IAAAmB,cAAA,GAAAD,QAAA,CAAAvB,IAAA;EAAA","ignoreList":[]}