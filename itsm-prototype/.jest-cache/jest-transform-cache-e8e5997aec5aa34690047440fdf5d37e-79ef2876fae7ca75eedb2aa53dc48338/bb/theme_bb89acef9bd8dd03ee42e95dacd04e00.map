{"version":3,"names":["cov_1fb8mo5fc6","actualCoverage","s","ThemeConfig","f","ThemeProvider","applyCSSVariables","default","_default","generateCSSVariables","getAntdTheme","useTheme","ThemeContext","_react","createContext","undefined","children","defaultMode","b","storageKey","mode","setMode","useState","isDark","setIsDark","useEffect","savedMode","localStorage","getItem","mediaQuery","window","matchMedia","handleChange","matches","addEventListener","removeEventListener","setItem","toggleTheme","prev","handleSetMode","newMode","contextValue","_jsxruntime","jsx","Provider","value","context","useContext","Error","colorPalette","_colors","darkColors","colors","algorithm","_antd","theme","darkAlgorithm","defaultAlgorithm","token","colorPrimary","primary","colorSuccess","colorWarning","colorError","colorInfo","colorBgContainer","functional","background","colorBgLayout","secondary","colorBgElevated","elevated","colorText","text","colorTextSecondary","colorTextTertiary","tertiary","colorTextQuaternary","disabled","colorBorder","border","colorBorderSecondary","borderRadius","_spacing","lg","borderRadiusLG","xl","borderRadiusSM","md","boxShadow","boxShadowSecondary","boxShadowTertiary","fontSize","base","fontSizeLG","fontSizeSM","sm","fontSizeXL","lineHeight","normal","lineHeightLG","relaxed","lineHeightSM","snug","fontWeight","fontWeightStrong","padding","spacing","paddingLG","paddingSM","paddingXL","margin","marginLG","marginSM","marginXL","controlHeight","controlHeightLG","controlHeightSM","motionDurationSlow","motionDurationMid","motionDurationFast","components","Button","medium","Input","Card","Modal","Drawer","Message","Notification","antdTheme","ConfigProvider","neutral","surface","xs","tight","semibold","bold","variables","root","document","documentElement","Object","entries","forEach","key","style","setProperty","classList","toggle"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/lib/design-system/theme.tsx"],"sourcesContent":["\"use client\";\n\nimport React, {\n  createContext,\n  useContext,\n  useState,\n  useEffect,\n  ReactNode,\n} from \"react\";\nimport { ConfigProvider, theme } from \"antd\";\nimport { colors, darkColors } from \"@/lib/design-system/colors\";\nimport {\n  spacing,\n  borderRadius,\n  boxShadow,\n  fontSize,\n  lineHeight,\n  fontWeight,\n} from \"@/lib/design-system/spacing\";\n\n// 主题类型\nexport type ThemeMode = \"light\" | \"dark\" | \"system\";\n\n// 主题上下文类型\ninterface ThemeContextType {\n  mode: ThemeMode;\n  setMode: (mode: ThemeMode) => void;\n  isDark: boolean;\n  toggleTheme: () => void;\n}\n\n// 创建主题上下文\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\n// 主题提供者属性\ninterface ThemeProviderProps {\n  children: ReactNode;\n  defaultMode?: ThemeMode;\n  storageKey?: string;\n}\n\n// 主题提供者组件\nexport const ThemeProvider: React.FC<ThemeProviderProps> = ({\n  children,\n  defaultMode = \"system\",\n  storageKey = \"itsm-theme\",\n}) => {\n  const [mode, setMode] = useState<ThemeMode>(defaultMode);\n  const [isDark, setIsDark] = useState(false);\n\n  // 从本地存储加载主题\n  useEffect(() => {\n    const savedMode = localStorage.getItem(storageKey) as ThemeMode;\n    if (savedMode) {\n      setMode(savedMode);\n    }\n  }, [storageKey]);\n\n  // 监听系统主题变化\n  useEffect(() => {\n    const mediaQuery = window.matchMedia(\"(prefers-color-scheme: dark)\");\n\n    const handleChange = () => {\n      if (mode === \"system\") {\n        setIsDark(mediaQuery.matches);\n      }\n    };\n\n    mediaQuery.addEventListener(\"change\", handleChange);\n    handleChange(); // 初始检查\n\n    return () => mediaQuery.removeEventListener(\"change\", handleChange);\n  }, [mode]);\n\n  // 更新暗色状态\n  useEffect(() => {\n    if (mode === \"dark\") {\n      setIsDark(true);\n    } else if (mode === \"light\") {\n      setIsDark(false);\n    } else {\n      // system mode\n      setIsDark(window.matchMedia(\"(prefers-color-scheme: dark)\").matches);\n    }\n  }, [mode]);\n\n  // 保存主题到本地存储\n  useEffect(() => {\n    localStorage.setItem(storageKey, mode);\n  }, [mode, storageKey]);\n\n  // 切换主题\n  const toggleTheme = () => {\n    setMode((prev) => {\n      switch (prev) {\n        case \"light\":\n          return \"dark\";\n        case \"dark\":\n          return \"system\";\n        case \"system\":\n          return \"light\";\n        default:\n          return \"light\";\n      }\n    });\n  };\n\n  // 设置主题\n  const handleSetMode = (newMode: ThemeMode) => {\n    setMode(newMode);\n  };\n\n  const contextValue: ThemeContextType = {\n    mode,\n    setMode: handleSetMode,\n    isDark,\n    toggleTheme,\n  };\n\n  return (\n    <ThemeContext.Provider value={contextValue}>\n      {children}\n    </ThemeContext.Provider>\n  );\n};\n\n// 使用主题钩子\nexport const useTheme = (): ThemeContextType => {\n  const context = useContext(ThemeContext);\n  if (!context) {\n    throw new Error(\"useTheme must be used within a ThemeProvider\");\n  }\n  return context;\n};\n\n// Ant Design 主题配置\nexport const getAntdTheme = (isDark: boolean) => {\n  const colorPalette = isDark ? darkColors : colors;\n\n  return {\n    algorithm: isDark ? theme.darkAlgorithm : theme.defaultAlgorithm,\n    token: {\n      // 颜色配置\n      colorPrimary: colorPalette.primary[500],\n      colorSuccess: \"#22c55e\",\n      colorWarning: \"#f59e0b\",\n      colorError: \"#ef4444\",\n      colorInfo: \"#0ea5e9\",\n\n      // 背景色\n      colorBgContainer: colorPalette.functional.background.primary,\n      colorBgLayout: colorPalette.functional.background.secondary,\n      colorBgElevated: colorPalette.functional.background.elevated,\n\n      // 文本色\n      colorText: colorPalette.functional.text.primary,\n      colorTextSecondary: colorPalette.functional.text.secondary,\n      colorTextTertiary: colorPalette.functional.text.tertiary,\n      colorTextQuaternary: colorPalette.functional.text.disabled,\n\n      // 边框色\n      colorBorder: colorPalette.functional.border.primary,\n      colorBorderSecondary: colorPalette.functional.border.secondary,\n\n      // 圆角\n      borderRadius: borderRadius.lg,\n      borderRadiusLG: borderRadius.xl,\n      borderRadiusSM: borderRadius.md,\n\n      // 阴影\n      boxShadow: boxShadow.md,\n      boxShadowSecondary: boxShadow.lg,\n      boxShadowTertiary: boxShadow.xl,\n\n      // 字体\n      fontSize: fontSize.base,\n      fontSizeLG: fontSize.lg,\n      fontSizeSM: fontSize.sm,\n      fontSizeXL: fontSize.xl,\n\n      // 行高\n      lineHeight: lineHeight.normal,\n      lineHeightLG: lineHeight.relaxed,\n      lineHeightSM: lineHeight.snug,\n\n      // 字重\n      fontWeight: 400,\n      fontWeightStrong: 600,\n\n      // 间距\n      padding: spacing[4],\n      paddingLG: spacing[6],\n      paddingSM: spacing[2],\n      paddingXL: spacing[8],\n\n      margin: spacing[4],\n      marginLG: spacing[6],\n      marginSM: spacing[2],\n      marginXL: spacing[8],\n\n      // 控件高度\n      controlHeight: 32,\n      controlHeightLG: 40,\n      controlHeightSM: 24,\n\n      // 动画\n      motionDurationSlow: \"0.3s\",\n      motionDurationMid: \"0.2s\",\n      motionDurationFast: \"0.1s\",\n    },\n    components: {\n      // 按钮组件\n      Button: {\n        borderRadius: borderRadius.lg,\n        controlHeight: 40,\n        controlHeightLG: 48,\n        controlHeightSM: 32,\n        fontWeight: fontWeight.medium,\n      },\n\n      // 输入框组件\n      Input: {\n        borderRadius: borderRadius.lg,\n        controlHeight: 40,\n        controlHeightLG: 48,\n        controlHeightSM: 32,\n      },\n\n      // 卡片组件\n      Card: {\n        borderRadius: borderRadius.lg,\n        boxShadow: boxShadow.md,\n      },\n\n      // 模态框组件\n      Modal: {\n        borderRadius: borderRadius.xl,\n        boxShadow: boxShadow.xl,\n      },\n\n      // 抽屉组件\n      Drawer: {\n        borderRadius: borderRadius.xl,\n      },\n\n      // 消息组件\n      Message: {\n        borderRadius: borderRadius.lg,\n      },\n\n      // 通知组件\n      Notification: {\n        borderRadius: borderRadius.lg,\n      },\n    },\n  };\n};\n\n// 主题配置组件\ninterface ThemeConfigProps {\n  children: ReactNode;\n}\n\nexport const ThemeConfig: React.FC<ThemeConfigProps> = ({ children }) => {\n  const { isDark } = useTheme();\n  const antdTheme = getAntdTheme(isDark);\n\n  return <ConfigProvider theme={antdTheme}>{children}</ConfigProvider>;\n};\n\n// CSS 变量生成器\nexport const generateCSSVariables = (isDark: boolean) => {\n  const colorPalette = isDark ? darkColors : colors;\n\n  return {\n    // 主色调\n    \"--color-primary-50\": colorPalette.primary[50],\n    \"--color-primary-100\": colorPalette.primary[100],\n    \"--color-primary-200\": colorPalette.primary[200],\n    \"--color-primary-300\": colorPalette.primary[300],\n    \"--color-primary-400\": colorPalette.primary[400],\n    \"--color-primary-500\": colorPalette.primary[500],\n    \"--color-primary-600\": colorPalette.primary[600],\n    \"--color-primary-700\": colorPalette.primary[700],\n    \"--color-primary-800\": colorPalette.primary[800],\n    \"--color-primary-900\": colorPalette.primary[900],\n\n    // 中性色\n    \"--color-neutral-50\": colorPalette.neutral[50],\n    \"--color-neutral-100\": colorPalette.neutral[100],\n    \"--color-neutral-200\": colorPalette.neutral[200],\n    \"--color-neutral-300\": colorPalette.neutral[300],\n    \"--color-neutral-400\": colorPalette.neutral[400],\n    \"--color-neutral-500\": colorPalette.neutral[500],\n    \"--color-neutral-600\": colorPalette.neutral[600],\n    \"--color-neutral-700\": colorPalette.neutral[700],\n    \"--color-neutral-800\": colorPalette.neutral[800],\n    \"--color-neutral-900\": colorPalette.neutral[900],\n\n    // 功能色\n    \"--color-background-primary\": colorPalette.functional.background.primary,\n    \"--color-background-secondary\":\n      colorPalette.functional.background.secondary,\n    \"--color-background-tertiary\": colorPalette.functional.background.tertiary,\n    \"--color-surface-primary\": colorPalette.functional.surface.primary,\n    \"--color-surface-secondary\": colorPalette.functional.surface.secondary,\n    \"--color-border-primary\": colorPalette.functional.border.primary,\n    \"--color-border-secondary\": colorPalette.functional.border.secondary,\n    \"--color-text-primary\": colorPalette.functional.text.primary,\n    \"--color-text-secondary\": colorPalette.functional.text.secondary,\n    \"--color-text-tertiary\": colorPalette.functional.text.tertiary,\n\n    // 语义色\n    \"--color-success\": \"#22c55e\",\n    \"--color-warning\": \"#f59e0b\",\n    \"--color-error\": \"#ef4444\",\n    \"--color-info\": \"#0ea5e9\",\n\n    // 间距\n    \"--spacing-xs\": spacing[1],\n    \"--spacing-sm\": spacing[2],\n    \"--spacing-md\": spacing[4],\n    \"--spacing-lg\": spacing[6],\n    \"--spacing-xl\": spacing[8],\n    \"--spacing-2xl\": spacing[12],\n    \"--spacing-3xl\": spacing[16],\n\n    // 圆角\n    \"--border-radius-sm\": borderRadius.sm,\n    \"--border-radius-md\": borderRadius.md,\n    \"--border-radius-lg\": borderRadius.lg,\n    \"--border-radius-xl\": borderRadius.xl,\n\n    // 阴影\n    \"--box-shadow-sm\": boxShadow.sm,\n    \"--box-shadow-md\": boxShadow.md,\n    \"--box-shadow-lg\": boxShadow.lg,\n    \"--box-shadow-xl\": boxShadow.xl,\n\n    // 字体\n    \"--font-size-xs\": fontSize.xs,\n    \"--font-size-sm\": fontSize.sm,\n    \"--font-size-base\": fontSize.base,\n    \"--font-size-lg\": fontSize.lg,\n    \"--font-size-xl\": fontSize.xl,\n    \"--font-size-2xl\": fontSize[\"2xl\"],\n\n    // 行高\n    \"--line-height-tight\": lineHeight.tight,\n    \"--line-height-normal\": lineHeight.normal,\n    \"--line-height-relaxed\": lineHeight.relaxed,\n\n    // 字重\n    \"--font-weight-normal\": fontWeight.normal,\n    \"--font-weight-medium\": fontWeight.medium,\n    \"--font-weight-semibold\": fontWeight.semibold,\n    \"--font-weight-bold\": fontWeight.bold,\n  };\n};\n\n// 应用 CSS 变量到文档\nexport const applyCSSVariables = (isDark: boolean) => {\n  const variables = generateCSSVariables(isDark);\n  const root = document.documentElement;\n\n  Object.entries(variables).forEach(([key, value]) => {\n    root.style.setProperty(key, value);\n  });\n\n  // 添加主题类名\n  root.classList.toggle(\"dark\", isDark);\n  root.classList.toggle(\"light\", !isDark);\n};\n\nexport default ThemeProvider;\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IA0Ca;IAAAA,cAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,cAAA;AAAAA,cAAA,GAAAE,CAAA;;;;;;;;;;;;;;;;;;;;EA6NAC,WAAW,WAAAA,CAAA;IAAA;IAAAH,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAE,CAAA;WAAXC,WAAA;;EA7NAE,aAAa,WAAAA,CAAA;IAAA;IAAAL,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAE,CAAA;WAAbG,aAAA;;EA+TAC,iBAAiB,WAAAA,CAAA;IAAA;IAAAN,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAE,CAAA;WAAjBI,iBAAA;;EAabC,OAA6B,WAAAA,CAAA;IAAA;IAAAP,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAE,CAAA;WAA7BM,QAAA;;EAvGaC,oBAAoB,WAAAA,CAAA;IAAA;IAAAT,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAE,CAAA;WAApBO,oBAAA;;EAvIAC,YAAY,WAAAA,CAAA;IAAA;IAAAV,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAE,CAAA;WAAZQ,YAAA;;EATAC,QAAQ,WAAAA,CAAA;IAAA;IAAAX,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAE,CAAA;WAARS,QAAA;;;;;;;;0EAvHN;;;mCAC+B;;;mCACH;;;mCAQ5B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAaP;AACA,MAAMC,YAAA;AAAA;AAAA,cAAAZ,cAAA,GAAAE,CAAA,QAAe,IAAAW,MAAA,CAAAC,aAAa,EAA+BC,SAAA;AAAA;AAAAf,cAAA,GAAAE,CAAA;AAU1D,MAAMG,aAAA,GAA8CA,CAAC;EAC1DW,QAAQ;EACRC,WAAA;EAAA;EAAA,CAAAjB,cAAA,GAAAkB,CAAA,WAAc,QAAQ;EACtBC,UAAA;EAAA;EAAA,CAAAnB,cAAA,GAAAkB,CAAA,WAAa,YAAY;AAAA,CAC1B;EAAA;EAAAlB,cAAA,GAAAI,CAAA;EACC,MAAM,CAACgB,IAAA,EAAMC,OAAA,CAAQ;EAAA;EAAA,CAAArB,cAAA,GAAAE,CAAA,QAAG,IAAAW,MAAA,CAAAS,QAAQ,EAAYL,WAAA;EAC5C,MAAM,CAACM,MAAA,EAAQC,SAAA,CAAU;EAAA;EAAA,CAAAxB,cAAA,GAAAE,CAAA,QAAG,IAAAW,MAAA,CAAAS,QAAQ,EAAC;EAErC;EAAA;EAAAtB,cAAA,GAAAE,CAAA;EACA,IAAAW,MAAA,CAAAY,SAAS,EAAC;IAAA;IAAAzB,cAAA,GAAAI,CAAA;IACR,MAAMsB,SAAA;IAAA;IAAA,CAAA1B,cAAA,GAAAE,CAAA,QAAYyB,YAAA,CAAaC,OAAO,CAACT,UAAA;IAAA;IAAAnB,cAAA,GAAAE,CAAA;IACvC,IAAIwB,SAAA,EAAW;MAAA;MAAA1B,cAAA,GAAAkB,CAAA;MAAAlB,cAAA,GAAAE,CAAA;MACbmB,OAAA,CAAQK,SAAA;IACV;IAAA;IAAA;MAAA1B,cAAA,GAAAkB,CAAA;IAAA;EACF,GAAG,CAACC,UAAA,CAAW;EAEf;EAAA;EAAAnB,cAAA,GAAAE,CAAA;EACA,IAAAW,MAAA,CAAAY,SAAS,EAAC;IAAA;IAAAzB,cAAA,GAAAI,CAAA;IACR,MAAMyB,UAAA;IAAA;IAAA,CAAA7B,cAAA,GAAAE,CAAA,QAAa4B,MAAA,CAAOC,UAAU,CAAC;IAAA;IAAA/B,cAAA,GAAAE,CAAA;IAErC,MAAM8B,YAAA,GAAeA,CAAA;MAAA;MAAAhC,cAAA,GAAAI,CAAA;MAAAJ,cAAA,GAAAE,CAAA;MACnB,IAAIkB,IAAA,KAAS,UAAU;QAAA;QAAApB,cAAA,GAAAkB,CAAA;QAAAlB,cAAA,GAAAE,CAAA;QACrBsB,SAAA,CAAUK,UAAA,CAAWI,OAAO;MAC9B;MAAA;MAAA;QAAAjC,cAAA,GAAAkB,CAAA;MAAA;IACF;IAAA;IAAAlB,cAAA,GAAAE,CAAA;IAEA2B,UAAA,CAAWK,gBAAgB,CAAC,UAAUF,YAAA;IAAA;IAAAhC,cAAA,GAAAE,CAAA;IACtC8B,YAAA,IAAgB;IAAA;IAAAhC,cAAA,GAAAE,CAAA;IAEhB,OAAO,MAAM;MAAA;MAAAF,cAAA,GAAAI,CAAA;MAAAJ,cAAA,GAAAE,CAAA;MAAA,OAAA2B,UAAA,CAAWM,mBAAmB,CAAC,UAAUH,YAAA;IAAA;EACxD,GAAG,CAACZ,IAAA,CAAK;EAET;EAAA;EAAApB,cAAA,GAAAE,CAAA;EACA,IAAAW,MAAA,CAAAY,SAAS,EAAC;IAAA;IAAAzB,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAE,CAAA;IACR,IAAIkB,IAAA,KAAS,QAAQ;MAAA;MAAApB,cAAA,GAAAkB,CAAA;MAAAlB,cAAA,GAAAE,CAAA;MACnBsB,SAAA,CAAU;IACZ,OAAO;MAAA;MAAAxB,cAAA,GAAAkB,CAAA;MAAAlB,cAAA,GAAAE,CAAA;MAAA,IAAIkB,IAAA,KAAS,SAAS;QAAA;QAAApB,cAAA,GAAAkB,CAAA;QAAAlB,cAAA,GAAAE,CAAA;QAC3BsB,SAAA,CAAU;MACZ,OAAO;QAAA;QAAAxB,cAAA,GAAAkB,CAAA;QAAAlB,cAAA,GAAAE,CAAA;QACL;QACAsB,SAAA,CAAUM,MAAA,CAAOC,UAAU,CAAC,gCAAgCE,OAAO;MACrE;IAAA;EACF,GAAG,CAACb,IAAA,CAAK;EAET;EAAA;EAAApB,cAAA,GAAAE,CAAA;EACA,IAAAW,MAAA,CAAAY,SAAS,EAAC;IAAA;IAAAzB,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAE,CAAA;IACRyB,YAAA,CAAaS,OAAO,CAACjB,UAAA,EAAYC,IAAA;EACnC,GAAG,CAACA,IAAA,EAAMD,UAAA,CAAW;EAErB;EAAA;EAAAnB,cAAA,GAAAE,CAAA;EACA,MAAMmC,WAAA,GAAcA,CAAA;IAAA;IAAArC,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAE,CAAA;IAClBmB,OAAA,CAASiB,IAAA;MAAA;MAAAtC,cAAA,GAAAI,CAAA;MAAAJ,cAAA,GAAAE,CAAA;MACP,QAAQoC,IAAA;QACN,KAAK;UAAA;UAAAtC,cAAA,GAAAkB,CAAA;UAAAlB,cAAA,GAAAE,CAAA;UACH,OAAO;QACT,KAAK;UAAA;UAAAF,cAAA,GAAAkB,CAAA;UAAAlB,cAAA,GAAAE,CAAA;UACH,OAAO;QACT,KAAK;UAAA;UAAAF,cAAA,GAAAkB,CAAA;UAAAlB,cAAA,GAAAE,CAAA;UACH,OAAO;QACT;UAAA;UAAAF,cAAA,GAAAkB,CAAA;UAAAlB,cAAA,GAAAE,CAAA;UACE,OAAO;MACX;IACF;EACF;EAEA;EAAA;EAAAF,cAAA,GAAAE,CAAA;EACA,MAAMqC,aAAA,GAAiBC,OAAA;IAAA;IAAAxC,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAE,CAAA;IACrBmB,OAAA,CAAQmB,OAAA;EACV;EAEA,MAAMC,YAAA;EAAA;EAAA,CAAAzC,cAAA,GAAAE,CAAA,QAAiC;IACrCkB,IAAA;IACAC,OAAA,EAASkB,aAAA;IACThB,MAAA;IACAc;EACF;EAAA;EAAArC,cAAA,GAAAE,CAAA;EAEA,oBACE,IAAAwC,WAAA,CAAAC,GAAA,EAAC/B,YAAA,CAAagC,QAAQ;IAACC,KAAA,EAAOJ,YAAA;cAC3BzB;;AAGP;AAAA;AAAAhB,cAAA,GAAAE,CAAA;AAGO,MAAMS,QAAA,GAAWA,CAAA;EAAA;EAAAX,cAAA,GAAAI,CAAA;EACtB,MAAM0C,OAAA;EAAA;EAAA,CAAA9C,cAAA,GAAAE,CAAA,QAAU,IAAAW,MAAA,CAAAkC,UAAU,EAACnC,YAAA;EAAA;EAAAZ,cAAA,GAAAE,CAAA;EAC3B,IAAI,CAAC4C,OAAA,EAAS;IAAA;IAAA9C,cAAA,GAAAkB,CAAA;IAAAlB,cAAA,GAAAE,CAAA;IACZ,MAAM,IAAI8C,KAAA,CAAM;EAClB;EAAA;EAAA;IAAAhD,cAAA,GAAAkB,CAAA;EAAA;EAAAlB,cAAA,GAAAE,CAAA;EACA,OAAO4C,OAAA;AACT;AAAA;AAAA9C,cAAA,GAAAE,CAAA;AAGO,MAAMQ,YAAA,GAAgBa,MAAA;EAAA;EAAAvB,cAAA,GAAAI,CAAA;EAC3B,MAAM6C,YAAA;EAAA;EAAA,CAAAjD,cAAA,GAAAE,CAAA,QAAeqB,MAAA;EAAA;EAAA,CAAAvB,cAAA,GAAAkB,CAAA,WAASgC,OAAA,CAAAC,UAAU;EAAA;EAAA,CAAAnD,cAAA,GAAAkB,CAAA,WAAGgC,OAAA,CAAAE,MAAM;EAAA;EAAApD,cAAA,GAAAE,CAAA;EAEjD,OAAO;IACLmD,SAAA,EAAW9B,MAAA;IAAA;IAAA,CAAAvB,cAAA,GAAAkB,CAAA,WAASoC,KAAA,CAAAC,KAAK,CAACC,aAAa;IAAA;IAAA,CAAAxD,cAAA,GAAAkB,CAAA,WAAGoC,KAAA,CAAAC,KAAK,CAACE,gBAAgB;IAChEC,KAAA,EAAO;MACL;MACAC,YAAA,EAAcV,YAAA,CAAaW,OAAO,CAAC,IAAI;MACvCC,YAAA,EAAc;MACdC,YAAA,EAAc;MACdC,UAAA,EAAY;MACZC,SAAA,EAAW;MAEX;MACAC,gBAAA,EAAkBhB,YAAA,CAAaiB,UAAU,CAACC,UAAU,CAACP,OAAO;MAC5DQ,aAAA,EAAenB,YAAA,CAAaiB,UAAU,CAACC,UAAU,CAACE,SAAS;MAC3DC,eAAA,EAAiBrB,YAAA,CAAaiB,UAAU,CAACC,UAAU,CAACI,QAAQ;MAE5D;MACAC,SAAA,EAAWvB,YAAA,CAAaiB,UAAU,CAACO,IAAI,CAACb,OAAO;MAC/Cc,kBAAA,EAAoBzB,YAAA,CAAaiB,UAAU,CAACO,IAAI,CAACJ,SAAS;MAC1DM,iBAAA,EAAmB1B,YAAA,CAAaiB,UAAU,CAACO,IAAI,CAACG,QAAQ;MACxDC,mBAAA,EAAqB5B,YAAA,CAAaiB,UAAU,CAACO,IAAI,CAACK,QAAQ;MAE1D;MACAC,WAAA,EAAa9B,YAAA,CAAaiB,UAAU,CAACc,MAAM,CAACpB,OAAO;MACnDqB,oBAAA,EAAsBhC,YAAA,CAAaiB,UAAU,CAACc,MAAM,CAACX,SAAS;MAE9D;MACAa,YAAA,EAAcC,QAAA,CAAAD,YAAY,CAACE,EAAE;MAC7BC,cAAA,EAAgBF,QAAA,CAAAD,YAAY,CAACI,EAAE;MAC/BC,cAAA,EAAgBJ,QAAA,CAAAD,YAAY,CAACM,EAAE;MAE/B;MACAC,SAAA,EAAWN,QAAA,CAAAM,SAAS,CAACD,EAAE;MACvBE,kBAAA,EAAoBP,QAAA,CAAAM,SAAS,CAACL,EAAE;MAChCO,iBAAA,EAAmBR,QAAA,CAAAM,SAAS,CAACH,EAAE;MAE/B;MACAM,QAAA,EAAUT,QAAA,CAAAS,QAAQ,CAACC,IAAI;MACvBC,UAAA,EAAYX,QAAA,CAAAS,QAAQ,CAACR,EAAE;MACvBW,UAAA,EAAYZ,QAAA,CAAAS,QAAQ,CAACI,EAAE;MACvBC,UAAA,EAAYd,QAAA,CAAAS,QAAQ,CAACN,EAAE;MAEvB;MACAY,UAAA,EAAYf,QAAA,CAAAe,UAAU,CAACC,MAAM;MAC7BC,YAAA,EAAcjB,QAAA,CAAAe,UAAU,CAACG,OAAO;MAChCC,YAAA,EAAcnB,QAAA,CAAAe,UAAU,CAACK,IAAI;MAE7B;MACAC,UAAA,EAAY;MACZC,gBAAA,EAAkB;MAElB;MACAC,OAAA,EAASvB,QAAA,CAAAwB,OAAO,CAAC,EAAE;MACnBC,SAAA,EAAWzB,QAAA,CAAAwB,OAAO,CAAC,EAAE;MACrBE,SAAA,EAAW1B,QAAA,CAAAwB,OAAO,CAAC,EAAE;MACrBG,SAAA,EAAW3B,QAAA,CAAAwB,OAAO,CAAC,EAAE;MAErBI,MAAA,EAAQ5B,QAAA,CAAAwB,OAAO,CAAC,EAAE;MAClBK,QAAA,EAAU7B,QAAA,CAAAwB,OAAO,CAAC,EAAE;MACpBM,QAAA,EAAU9B,QAAA,CAAAwB,OAAO,CAAC,EAAE;MACpBO,QAAA,EAAU/B,QAAA,CAAAwB,OAAO,CAAC,EAAE;MAEpB;MACAQ,aAAA,EAAe;MACfC,eAAA,EAAiB;MACjBC,eAAA,EAAiB;MAEjB;MACAC,kBAAA,EAAoB;MACpBC,iBAAA,EAAmB;MACnBC,kBAAA,EAAoB;IACtB;IACAC,UAAA,EAAY;MACV;MACAC,MAAA,EAAQ;QACNxC,YAAA,EAAcC,QAAA,CAAAD,YAAY,CAACE,EAAE;QAC7B+B,aAAA,EAAe;QACfC,eAAA,EAAiB;QACjBC,eAAA,EAAiB;QACjBb,UAAA,EAAYrB,QAAA,CAAAqB,UAAU,CAACmB;MACzB;MAEA;MACAC,KAAA,EAAO;QACL1C,YAAA,EAAcC,QAAA,CAAAD,YAAY,CAACE,EAAE;QAC7B+B,aAAA,EAAe;QACfC,eAAA,EAAiB;QACjBC,eAAA,EAAiB;MACnB;MAEA;MACAQ,IAAA,EAAM;QACJ3C,YAAA,EAAcC,QAAA,CAAAD,YAAY,CAACE,EAAE;QAC7BK,SAAA,EAAWN,QAAA,CAAAM,SAAS,CAACD;MACvB;MAEA;MACAsC,KAAA,EAAO;QACL5C,YAAA,EAAcC,QAAA,CAAAD,YAAY,CAACI,EAAE;QAC7BG,SAAA,EAAWN,QAAA,CAAAM,SAAS,CAACH;MACvB;MAEA;MACAyC,MAAA,EAAQ;QACN7C,YAAA,EAAcC,QAAA,CAAAD,YAAY,CAACI;MAC7B;MAEA;MACA0C,OAAA,EAAS;QACP9C,YAAA,EAAcC,QAAA,CAAAD,YAAY,CAACE;MAC7B;MAEA;MACA6C,YAAA,EAAc;QACZ/C,YAAA,EAAcC,QAAA,CAAAD,YAAY,CAACE;MAC7B;IACF;EACF;AACF;AAAA;AAAApF,cAAA,GAAAE,CAAA;AAOO,MAAMC,WAAA,GAA0CA,CAAC;EAAEa;AAAQ,CAAE;EAAA;EAAAhB,cAAA,GAAAI,CAAA;EAClE,MAAM;IAAEmB;EAAM,CAAE;EAAA;EAAA,CAAAvB,cAAA,GAAAE,CAAA,QAAGS,QAAA;EACnB,MAAMuH,SAAA;EAAA;EAAA,CAAAlI,cAAA,GAAAE,CAAA,QAAYQ,YAAA,CAAaa,MAAA;EAAA;EAAAvB,cAAA,GAAAE,CAAA;EAE/B,oBAAO,IAAAwC,WAAA,CAAAC,GAAA,EAACW,KAAA,CAAA6E,cAAc;IAAC5E,KAAA,EAAO2E,SAAA;cAAYlH;;AAC5C;AAAA;AAAAhB,cAAA,GAAAE,CAAA;AAGO,MAAMO,oBAAA,GAAwBc,MAAA;EAAA;EAAAvB,cAAA,GAAAI,CAAA;EACnC,MAAM6C,YAAA;EAAA;EAAA,CAAAjD,cAAA,GAAAE,CAAA,QAAeqB,MAAA;EAAA;EAAA,CAAAvB,cAAA,GAAAkB,CAAA,WAASgC,OAAA,CAAAC,UAAU;EAAA;EAAA,CAAAnD,cAAA,GAAAkB,CAAA,WAAGgC,OAAA,CAAAE,MAAM;EAAA;EAAApD,cAAA,GAAAE,CAAA;EAEjD,OAAO;IACL;IACA,sBAAsB+C,YAAA,CAAaW,OAAO,CAAC,GAAG;IAC9C,uBAAuBX,YAAA,CAAaW,OAAO,CAAC,IAAI;IAChD,uBAAuBX,YAAA,CAAaW,OAAO,CAAC,IAAI;IAChD,uBAAuBX,YAAA,CAAaW,OAAO,CAAC,IAAI;IAChD,uBAAuBX,YAAA,CAAaW,OAAO,CAAC,IAAI;IAChD,uBAAuBX,YAAA,CAAaW,OAAO,CAAC,IAAI;IAChD,uBAAuBX,YAAA,CAAaW,OAAO,CAAC,IAAI;IAChD,uBAAuBX,YAAA,CAAaW,OAAO,CAAC,IAAI;IAChD,uBAAuBX,YAAA,CAAaW,OAAO,CAAC,IAAI;IAChD,uBAAuBX,YAAA,CAAaW,OAAO,CAAC,IAAI;IAEhD;IACA,sBAAsBX,YAAA,CAAamF,OAAO,CAAC,GAAG;IAC9C,uBAAuBnF,YAAA,CAAamF,OAAO,CAAC,IAAI;IAChD,uBAAuBnF,YAAA,CAAamF,OAAO,CAAC,IAAI;IAChD,uBAAuBnF,YAAA,CAAamF,OAAO,CAAC,IAAI;IAChD,uBAAuBnF,YAAA,CAAamF,OAAO,CAAC,IAAI;IAChD,uBAAuBnF,YAAA,CAAamF,OAAO,CAAC,IAAI;IAChD,uBAAuBnF,YAAA,CAAamF,OAAO,CAAC,IAAI;IAChD,uBAAuBnF,YAAA,CAAamF,OAAO,CAAC,IAAI;IAChD,uBAAuBnF,YAAA,CAAamF,OAAO,CAAC,IAAI;IAChD,uBAAuBnF,YAAA,CAAamF,OAAO,CAAC,IAAI;IAEhD;IACA,8BAA8BnF,YAAA,CAAaiB,UAAU,CAACC,UAAU,CAACP,OAAO;IACxE,gCACEX,YAAA,CAAaiB,UAAU,CAACC,UAAU,CAACE,SAAS;IAC9C,+BAA+BpB,YAAA,CAAaiB,UAAU,CAACC,UAAU,CAACS,QAAQ;IAC1E,2BAA2B3B,YAAA,CAAaiB,UAAU,CAACmE,OAAO,CAACzE,OAAO;IAClE,6BAA6BX,YAAA,CAAaiB,UAAU,CAACmE,OAAO,CAAChE,SAAS;IACtE,0BAA0BpB,YAAA,CAAaiB,UAAU,CAACc,MAAM,CAACpB,OAAO;IAChE,4BAA4BX,YAAA,CAAaiB,UAAU,CAACc,MAAM,CAACX,SAAS;IACpE,wBAAwBpB,YAAA,CAAaiB,UAAU,CAACO,IAAI,CAACb,OAAO;IAC5D,0BAA0BX,YAAA,CAAaiB,UAAU,CAACO,IAAI,CAACJ,SAAS;IAChE,yBAAyBpB,YAAA,CAAaiB,UAAU,CAACO,IAAI,CAACG,QAAQ;IAE9D;IACA,mBAAmB;IACnB,mBAAmB;IACnB,iBAAiB;IACjB,gBAAgB;IAEhB;IACA,gBAAgBO,QAAA,CAAAwB,OAAO,CAAC,EAAE;IAC1B,gBAAgBxB,QAAA,CAAAwB,OAAO,CAAC,EAAE;IAC1B,gBAAgBxB,QAAA,CAAAwB,OAAO,CAAC,EAAE;IAC1B,gBAAgBxB,QAAA,CAAAwB,OAAO,CAAC,EAAE;IAC1B,gBAAgBxB,QAAA,CAAAwB,OAAO,CAAC,EAAE;IAC1B,iBAAiBxB,QAAA,CAAAwB,OAAO,CAAC,GAAG;IAC5B,iBAAiBxB,QAAA,CAAAwB,OAAO,CAAC,GAAG;IAE5B;IACA,sBAAsBxB,QAAA,CAAAD,YAAY,CAACc,EAAE;IACrC,sBAAsBb,QAAA,CAAAD,YAAY,CAACM,EAAE;IACrC,sBAAsBL,QAAA,CAAAD,YAAY,CAACE,EAAE;IACrC,sBAAsBD,QAAA,CAAAD,YAAY,CAACI,EAAE;IAErC;IACA,mBAAmBH,QAAA,CAAAM,SAAS,CAACO,EAAE;IAC/B,mBAAmBb,QAAA,CAAAM,SAAS,CAACD,EAAE;IAC/B,mBAAmBL,QAAA,CAAAM,SAAS,CAACL,EAAE;IAC/B,mBAAmBD,QAAA,CAAAM,SAAS,CAACH,EAAE;IAE/B;IACA,kBAAkBH,QAAA,CAAAS,QAAQ,CAAC0C,EAAE;IAC7B,kBAAkBnD,QAAA,CAAAS,QAAQ,CAACI,EAAE;IAC7B,oBAAoBb,QAAA,CAAAS,QAAQ,CAACC,IAAI;IACjC,kBAAkBV,QAAA,CAAAS,QAAQ,CAACR,EAAE;IAC7B,kBAAkBD,QAAA,CAAAS,QAAQ,CAACN,EAAE;IAC7B,mBAAmBH,QAAA,CAAAS,QAAQ,CAAC,MAAM;IAElC;IACA,uBAAuBT,QAAA,CAAAe,UAAU,CAACqC,KAAK;IACvC,wBAAwBpD,QAAA,CAAAe,UAAU,CAACC,MAAM;IACzC,yBAAyBhB,QAAA,CAAAe,UAAU,CAACG,OAAO;IAE3C;IACA,wBAAwBlB,QAAA,CAAAqB,UAAU,CAACL,MAAM;IACzC,wBAAwBhB,QAAA,CAAAqB,UAAU,CAACmB,MAAM;IACzC,0BAA0BxC,QAAA,CAAAqB,UAAU,CAACgC,QAAQ;IAC7C,sBAAsBrD,QAAA,CAAAqB,UAAU,CAACiC;EACnC;AACF;AAAA;AAAAzI,cAAA,GAAAE,CAAA;AAGO,MAAMI,iBAAA,GAAqBiB,MAAA;EAAA;EAAAvB,cAAA,GAAAI,CAAA;EAChC,MAAMsI,SAAA;EAAA;EAAA,CAAA1I,cAAA,GAAAE,CAAA,QAAYO,oBAAA,CAAqBc,MAAA;EACvC,MAAMoH,IAAA;EAAA;EAAA,CAAA3I,cAAA,GAAAE,CAAA,QAAO0I,QAAA,CAASC,eAAe;EAAA;EAAA7I,cAAA,GAAAE,CAAA;EAErC4I,MAAA,CAAOC,OAAO,CAACL,SAAA,EAAWM,OAAO,CAAC,CAAC,CAACC,GAAA,EAAKpG,KAAA,CAAM;IAAA;IAAA7C,cAAA,GAAAI,CAAA;IAAAJ,cAAA,GAAAE,CAAA;IAC7CyI,IAAA,CAAKO,KAAK,CAACC,WAAW,CAACF,GAAA,EAAKpG,KAAA;EAC9B;EAEA;EAAA;EAAA7C,cAAA,GAAAE,CAAA;EACAyI,IAAA,CAAKS,SAAS,CAACC,MAAM,CAAC,QAAQ9H,MAAA;EAAA;EAAAvB,cAAA,GAAAE,CAAA;EAC9ByI,IAAA,CAAKS,SAAS,CAACC,MAAM,CAAC,SAAS,CAAC9H,MAAA;AAClC;MAEAf,QAAA;AAAA;AAAA,CAAAR,cAAA,GAAAE,CAAA,QAAeG,aAAA","ignoreList":[]}