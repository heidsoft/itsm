{"version":3,"names":["_default","CreateKnowledgeArticlePageContent","cov_1f3jr9ugr0","f","router","s","_navigation","useRouter","searchParams","useSearchParams","title","setTitle","_react","useState","content","setContent","category","setCategory","useEffect","problemId","get","problemTitle","problemSolution","b","handleSubmit","e","preventDefault","formData","FormData","currentTarget","data","Object","fromEntries","entries","console","log","JSON","stringify","alert","push","_jsxruntime","jsxs","className","onClick","back","jsx","_lucidereact","ArrowLeft","onSubmit","_FormInput","FormInput","label","id","name","type","value","onChange","target","required","placeholder","htmlFor","_FormTextarea","FormTextarea","rows","CreateKnowledgeArticlePage","Suspense","fallback","_antd","Spin","size"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/app/(main)/knowledge-base/new/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect, Suspense } from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport { ArrowLeft } from 'lucide-react';\nimport { FormInput } from '@/components/forms/FormInput';\nimport { FormTextarea } from '@/components/forms/FormTextarea';\nimport { Spin } from 'antd';\n\nconst CreateKnowledgeArticlePageContent = () => {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const [category, setCategory] = useState('故障排除');\n\n  useEffect(() => {\n    const problemId = searchParams.get('fromProblemId');\n    const problemTitle = searchParams.get('problemTitle');\n    const problemSolution = searchParams.get('problemSolution');\n\n    if (problemId) {\n      setTitle(`问题 ${problemId} 解决方案: ${problemTitle || ''}`);\n      setContent(\n        `此文章由问题 ${problemId} 解决方案转化而来。\\n\\n**问题标题:** ${\n          problemTitle || ''\n        }\\n\\n**解决方案:**\\n${problemSolution || ''}\\n\\n---`\n      );\n      setCategory('故障排除'); // 默认分类为故障排除\n    }\n  }, [searchParams]);\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    const formData = new FormData(e.currentTarget);\n    const data = Object.fromEntries(formData.entries());\n    console.log('新建知识文章数据:', JSON.stringify(data, null, 2));\n    alert('知识文章已成功创建！');\n    router.push('/knowledge-base'); // 提交后返回知识库列表\n  };\n\n  return (\n    <div className='p-10 bg-gray-50 min-h-full'>\n      <header className='mb-8'>\n        <button\n          onClick={() => router.back()}\n          className='flex items-center text-blue-600 hover:underline mb-4'\n        >\n          <ArrowLeft className='w-5 h-5 mr-2' />\n          返回知识库\n        </button>\n        <h2 className='text-4xl font-bold text-gray-800'>新建知识文章</h2>\n        <p className='text-gray-500 mt-1'>记录和分享IT知识，提升自助服务能力</p>\n      </header>\n\n      <div className='bg-white p-8 rounded-lg shadow-md'>\n        <form onSubmit={handleSubmit}>\n          <div className='space-y-6'>\n            <FormInput\n              label='文章标题'\n              id='title'\n              name='title'\n              type='text'\n              value={title}\n              onChange={e => setTitle(e.target.value)}\n              required\n              placeholder='例如：如何解决VPN连接问题'\n            />\n            <div>\n              <label htmlFor='category' className='block text-sm font-medium text-gray-700'>\n                分类\n              </label>\n              <select\n                id='category'\n                name='category'\n                value={category}\n                onChange={e => setCategory(e.target.value)}\n                className='mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500'\n              >\n                <option>故障排除</option>\n                <option>操作指南</option>\n                <option>常见问题</option>\n                <option>账号管理</option>\n                <option>网络连接</option>\n                <option>云资源</option>\n              </select>\n            </div>\n            <FormTextarea\n              label='文章内容 (支持Markdown)'\n              id='content'\n              name='content'\n              rows={15}\n              value={content}\n              onChange={e => setContent(e.target.value)}\n              required\n              placeholder='在这里编写您的知识文章内容，支持Markdown格式。'\n            />\n          </div>\n          <div className='mt-8 flex justify-end'>\n            <button\n              type='button'\n              onClick={() => router.back()}\n              className='bg-gray-200 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 mr-4'\n            >\n              取消\n            </button>\n            <button\n              type='submit'\n              className='bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700'\n            >\n              发布文章\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nconst CreateKnowledgeArticlePage = () => {\n  return (\n    <Suspense\n      fallback={\n        <div className='flex items-center justify-center min-h-screen'>\n          <Spin size='large' />\n        </div>\n      }\n    >\n      <CreateKnowledgeArticlePageContent />\n    </Suspense>\n  );\n};\n\nexport default CreateKnowledgeArticlePage;\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}