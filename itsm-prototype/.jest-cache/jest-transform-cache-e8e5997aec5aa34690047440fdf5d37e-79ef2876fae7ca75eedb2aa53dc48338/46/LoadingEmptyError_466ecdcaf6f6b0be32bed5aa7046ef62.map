{"version":3,"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/app/components/ui/LoadingEmptyError.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { Button, Result, Spin, Typography } from \"antd\";\nimport {\n  RotateCcw,\n  Plus,\n  FileText,\n  AlertTriangle,\n  User,\n  Database,\n  Settings,\n} from \"lucide-react\";\n\nconst { Text, Title } = Typography;\n\nexport type LoadingEmptyErrorState = \"loading\" | \"empty\" | \"error\" | \"success\";\n\ninterface LoadingEmptyErrorProps {\n  state: LoadingEmptyErrorState;\n  loadingText?: string;\n  empty?: {\n    title?: string;\n    description?: string;\n    actionText?: string;\n    onAction?: () => void;\n    icon?: React.ReactNode;\n    showAction?: boolean;\n  };\n  error?: {\n    title?: string;\n    description?: string;\n    actionText?: string;\n    onAction?: () => void;\n    showRetry?: boolean;\n    showAction?: boolean;\n  };\n  success?: {\n    title?: string;\n    description?: string;\n    actionText?: string;\n    onAction?: () => void;\n    showAction?: boolean;\n  };\n  minHeight?: number;\n  className?: string;\n  children?: React.ReactNode;\n}\n\n\n\n// 预定义的空状态配置\nconst getDefaultEmptyConfig = (context?: string) => {\n  switch (context) {\n    case \"tickets\":\n      return {\n        title: \"暂无工单\",\n        description: \"当前没有工单数据，点击下方按钮创建第一个工单\",\n        actionText: \"创建工单\",\n        icon: <FileText size={48} />,\n      };\n    case \"incidents\":\n      return {\n        title: \"暂无事件\",\n        description: \"当前没有事件数据，点击下方按钮创建第一个事件\",\n        actionText: \"创建事件\",\n        icon: <AlertTriangle size={48} />,\n      };\n    case \"problems\":\n      return {\n        title: \"暂无问题\",\n        description: \"当前没有问题数据，点击下方按钮创建第一个问题\",\n        actionText: \"创建问题\",\n        icon: <AlertTriangle size={48} />,\n      };\n    case \"changes\":\n      return {\n        title: \"暂无变更\",\n        description: \"当前没有变更数据，点击下方按钮创建第一个变更\",\n        actionText: \"创建变更\",\n        icon: <Settings size={48} />,\n      };\n    case \"cmdb\":\n      return {\n        title: \"暂无配置项\",\n        description: \"当前没有配置项数据，点击下方按钮创建第一个配置项\",\n        actionText: \"创建配置项\",\n        icon: <Database size={48} />,\n      };\n    case \"users\":\n      return {\n        title: \"暂无用户\",\n        description: \"当前没有用户数据，点击下方按钮创建第一个用户\",\n        actionText: \"创建用户\",\n        icon: <User size={48} />,\n      };\n    case \"workflows\":\n      return {\n        title: \"暂无工作流\",\n        description: \"当前没有工作流数据，点击下方按钮创建第一个工作流\",\n        actionText: \"创建工作流\",\n        icon: <Settings size={48} />,\n      };\n    default:\n      return {\n        title: \"暂无数据\",\n        description: \"当前没有数据，点击下方按钮创建第一条记录\",\n        actionText: \"创建\",\n        icon: <FileText size={48} />,\n      };\n  }\n};\n\nexport const LoadingEmptyError: React.FC<LoadingEmptyErrorProps> = ({\n  state,\n  loadingText = \"加载中...\",\n  empty,\n  error,\n  success,\n  minHeight = 200,\n  className = \"\",\n  children,\n}) => {\n  // 成功状态直接显示内容\n  if (state === \"success\") {\n    return (\n      <div className={className}>\n        {success?.title && (\n          <div className=\"mb-4 text-center\">\n            <Title level={4} className=\"text-gray-700\">\n              {success.title}\n            </Title>\n            {success.description && (\n              <Text type=\"secondary\" className=\"text-sm\">\n                {success.description}\n              </Text>\n            )}\n            {success.showAction && success.actionText && success.onAction && (\n              <div className=\"mt-3\">\n                <Button type=\"primary\" onClick={success.onAction}>\n                  {success.actionText}\n                </Button>\n              </div>\n            )}\n          </div>\n        )}\n        {children}\n      </div>\n    );\n  }\n\n  // 加载状态\n  if (state === \"loading\") {\n    return (\n      <div\n        className={`flex flex-col items-center justify-center ${className}`}\n        style={{ minHeight }}\n      >\n        <Spin size=\"large\" />\n        <Text className=\"mt-4 text-gray-500\">{loadingText}</Text>\n      </div>\n    );\n  }\n\n  // 空状态\n  if (state === \"empty\") {\n    const defaultConfig = getDefaultEmptyConfig();\n    const config = {\n      ...defaultConfig,\n      ...empty,\n      icon: empty?.icon || defaultConfig.icon,\n    };\n\n    return (\n      <div\n        className={`flex flex-col items-center justify-center ${className}`}\n        style={{ minHeight }}\n      >\n        <div className=\"text-gray-300 mb-4\">{config.icon}</div>\n        <Title level={4} className=\"text-gray-600 mb-2\">\n          {config.title}\n        </Title>\n        <Text type=\"secondary\" className=\"text-center mb-6 max-w-md\">\n          {config.description}\n        </Text>\n        {config.showAction !== false &&\n          config.actionText &&\n          config.onAction && (\n            <Button\n              type=\"primary\"\n              icon={<Plus size={16} />}\n              onClick={config.onAction}\n            >\n              {config.actionText}\n            </Button>\n          )}\n      </div>\n    );\n  }\n\n  // 错误状态\n  if (state === \"error\") {\n    const defaultErrorConfig = {\n      title: \"加载失败\",\n      description: \"数据加载失败，请检查网络连接或稍后重试\",\n      actionText: \"重试\",\n      showRetry: true,\n      showAction: false,\n    };\n    const config = { ...defaultErrorConfig, ...error };\n\n    return (\n      <div\n        className={`flex flex-col items-center justify-center ${className}`}\n        style={{ minHeight }}\n      >\n        <Result\n          status=\"error\"\n          icon={<AlertTriangle style={{ color: \"#ff4d4f\" }} />}\n          title={config.title}\n          subTitle={config.description}\n          extra={\n            <div className=\"flex gap-2\">\n              {config.showRetry && (\n                <Button\n                  type=\"primary\"\n                  icon={<RotateCcw size={16} />}\n                  onClick={config.onAction}\n                >\n                  {config.actionText}\n                </Button>\n              )}\n              {config.showAction && config.actionText && config.onAction && (\n                <Button onClick={config.onAction}>{config.actionText}</Button>\n              )}\n            </div>\n          }\n        />\n      </div>\n    );\n  }\n\n  return null;\n};\n\n// 预定义的上下文组件\nexport const TicketsLoadingEmptyError = (\n  props: Omit<LoadingEmptyErrorProps, \"empty\">\n) => <LoadingEmptyError {...props} empty={getDefaultEmptyConfig(\"tickets\")} />;\n\nexport const IncidentsLoadingEmptyError = (\n  props: Omit<LoadingEmptyErrorProps, \"empty\">\n) => (\n  <LoadingEmptyError {...props} empty={getDefaultEmptyConfig(\"incidents\")} />\n);\n\nexport const ProblemsLoadingEmptyError = (\n  props: Omit<LoadingEmptyErrorProps, \"empty\">\n) => <LoadingEmptyError {...props} empty={getDefaultEmptyConfig(\"problems\")} />;\n\nexport const ChangesLoadingEmptyError = (\n  props: Omit<LoadingEmptyErrorProps, \"empty\">\n) => <LoadingEmptyError {...props} empty={getDefaultEmptyConfig(\"changes\")} />;\n\nexport const CMDBLoadingEmptyError = (\n  props: Omit<LoadingEmptyErrorProps, \"empty\">\n) => <LoadingEmptyError {...props} empty={getDefaultEmptyConfig(\"cmdb\")} />;\n\nexport const UsersLoadingEmptyError = (\n  props: Omit<LoadingEmptyErrorProps, \"empty\">\n) => <LoadingEmptyError {...props} empty={getDefaultEmptyConfig(\"users\")} />;\n\nexport const WorkflowsLoadingEmptyError = (\n  props: Omit<LoadingEmptyErrorProps, \"empty\">\n) => (\n  <LoadingEmptyError {...props} empty={getDefaultEmptyConfig(\"workflows\")} />\n);\n\n// 简化的状态组件\nexport const Loading = ({ text = \"加载中...\", className = \"\" }) => (\n  <LoadingEmptyError state=\"loading\" loadingText={text} className={className} />\n);\n\nexport const Empty = ({\n  title = \"暂无数据\",\n  description = \"当前没有数据\",\n  actionText,\n  onAction,\n  className = \"\",\n}: {\n  title?: string;\n  description?: string;\n  actionText?: string;\n  onAction?: () => void;\n  className?: string;\n}) => (\n  <LoadingEmptyError\n    state=\"empty\"\n    empty={{ title, description, actionText, onAction }}\n    className={className}\n  />\n);\n\nexport const Error = ({\n  title = \"加载失败\",\n  description = \"数据加载失败\",\n  actionText = \"重试\",\n  onAction,\n  className = \"\",\n}: {\n  title?: string;\n  description?: string;\n  actionText?: string;\n  onAction?: () => void;\n  className?: string;\n}) => (\n  <LoadingEmptyError\n    state=\"error\"\n    error={{ title, description, actionText, onAction }}\n    className={className}\n  />\n);\n\nexport default LoadingEmptyError;\n"],"names":["CMDBLoadingEmptyError","ChangesLoadingEmptyError","Empty","Error","IncidentsLoadingEmptyError","Loading","LoadingEmptyError","ProblemsLoadingEmptyError","TicketsLoadingEmptyError","UsersLoadingEmptyError","WorkflowsLoadingEmptyError","Text","Title","Typography","getDefaultEmptyConfig","context","title","description","actionText","icon","FileText","size","AlertTriangle","Settings","Database","User","state","loadingText","empty","error","success","minHeight","className","children","div","level","type","showAction","onAction","Button","onClick","style","Spin","defaultConfig","config","Plus","defaultErrorConfig","showRetry","Result","status","color","subTitle","extra","RotateCcw","props","text"],"mappings":"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"}