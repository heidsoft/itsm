c53e128b05080a97a0fd09ba1b3cece2
/**
 * 工单数据分析 API 服务
 */"use strict";

/* istanbul ignore next */
function cov_2honveqrrd() {
  var path = "/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/lib/api/ticket-analytics-api.ts";
  var hash = "6891858c662ef02f447bab3c76cd082821afe0f2";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/lib/api/ticket-analytics-api.ts",
    statementMap: {
      "0": {
        start: {
          line: 4,
          column: 0
        },
        end: {
          line: 6,
          column: 3
        }
      },
      "1": {
        start: {
          line: 7,
          column: 0
        },
        end: {
          line: 12,
          column: 3
        }
      },
      "2": {
        start: {
          line: 10,
          column: 8
        },
        end: {
          line: 10,
          column: 34
        }
      },
      "3": {
        start: {
          line: 13,
          column: 20
        },
        end: {
          line: 13,
          column: 44
        }
      },
      "4": {
        start: {
          line: 17,
          column: 8
        },
        end: {
          line: 17,
          column: 82
        }
      },
      "5": {
        start: {
          line: 21,
          column: 8
        },
        end: {
          line: 23,
          column: 11
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 9,
            column: 9
          },
          end: {
            line: 9,
            column: 10
          }
        },
        loc: {
          start: {
            line: 9,
            column: 20
          },
          end: {
            line: 11,
            column: 5
          }
        },
        line: 9
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 16,
            column: 4
          },
          end: {
            line: 16,
            column: 5
          }
        },
        loc: {
          start: {
            line: 16,
            column: 42
          },
          end: {
            line: 18,
            column: 5
          }
        },
        line: 16
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 20,
            column: 4
          },
          end: {
            line: 20,
            column: 5
          }
        },
        loc: {
          start: {
            line: 20,
            column: 49
          },
          end: {
            line: 24,
            column: 5
          }
        },
        line: 20
      }
    },
    branchMap: {},
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0
    },
    b: {},
    inputSourceMap: {
      version: 3,
      sources: ["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/lib/api/ticket-analytics-api.ts"],
      sourcesContent: ["/**\n * \u5DE5\u5355\u6570\u636E\u5206\u6790 API \u670D\u52A1\n */\n\nimport { httpClient } from './http-client';\n\nexport interface AnalyticsConfig {\n  dimensions: string[];\n  metrics: string[];\n  chart_type: 'line' | 'bar' | 'pie' | 'area' | 'table';\n  time_range: [string, string];\n  filters: Record<string, any>;\n  group_by?: string;\n}\n\nexport interface AnalyticsDataPoint {\n  name: string;\n  value: number;\n  count?: number;\n  avg_time?: number;\n  metadata?: Record<string, any>;\n}\n\nexport interface AnalyticsSummary {\n  total: number;\n  resolved: number;\n  avg_response_time: number;\n  avg_resolution_time: number;\n  sla_compliance: number;\n  customer_satisfaction: number;\n}\n\nexport interface AnalyticsResponse {\n  data: AnalyticsDataPoint[];\n  summary: AnalyticsSummary;\n  generated_at: string;\n}\n\nexport class TicketAnalyticsApi {\n  // \u83B7\u53D6\u6DF1\u5EA6\u5206\u6790\u6570\u636E\n  static async getDeepAnalytics(config: AnalyticsConfig): Promise<AnalyticsResponse> {\n    return httpClient.post<AnalyticsResponse>('/api/tickets/analytics/deep', config);\n  }\n\n  // \u5BFC\u51FA\u5206\u6790\u6570\u636E\n  static async exportAnalytics(config: AnalyticsConfig, format: 'excel' | 'pdf' | 'csv'): Promise<Blob> {\n    return httpClient.post<Blob>(`/api/tickets/analytics/export?format=${format}`, config, {\n      responseType: 'blob',\n    });\n  }\n}\n\n"],
      names: ["TicketAnalyticsApi", "getDeepAnalytics", "config", "httpClient", "post", "exportAnalytics", "format", "responseType"],
      mappings: "AAAA;;CAEC;;;;+BAoCYA;;;eAAAA;;;4BAlCc;AAkCpB,MAAMA;IACX,WAAW;IACX,aAAaC,iBAAiBC,MAAuB,EAA8B;QACjF,OAAOC,sBAAU,CAACC,IAAI,CAAoB,+BAA+BF;IAC3E;IAEA,SAAS;IACT,aAAaG,gBAAgBH,MAAuB,EAAEI,MAA+B,EAAiB;QACpG,OAAOH,sBAAU,CAACC,IAAI,CAAO,CAAC,qCAAqC,EAAEE,QAAQ,EAAEJ,QAAQ;YACrFK,cAAc;QAChB;IACF;AACF"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "6891858c662ef02f447bab3c76cd082821afe0f2"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2honveqrrd = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2honveqrrd();
cov_2honveqrrd().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_2honveqrrd().s[1]++;
Object.defineProperty(exports, "TicketAnalyticsApi", {
  enumerable: true,
  get: function () {
    /* istanbul ignore next */
    cov_2honveqrrd().f[0]++;
    cov_2honveqrrd().s[2]++;
    return TicketAnalyticsApi;
  }
});
const _httpclient =
/* istanbul ignore next */
(cov_2honveqrrd().s[3]++, require("./http-client"));
class TicketAnalyticsApi {
  // 获取深度分析数据
  static async getDeepAnalytics(config) {
    /* istanbul ignore next */
    cov_2honveqrrd().f[1]++;
    cov_2honveqrrd().s[4]++;
    return _httpclient.httpClient.post('/api/tickets/analytics/deep', config);
  }
  // 导出分析数据
  static async exportAnalytics(config, format) {
    /* istanbul ignore next */
    cov_2honveqrrd().f[2]++;
    cov_2honveqrrd().s[5]++;
    return _httpclient.httpClient.post(`/api/tickets/analytics/export?format=${format}`, config, {
      responseType: 'blob'
    });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMmhvbnZlcXJyZCIsInBhdGgiLCJoYXNoIiwiZ2xvYmFsIiwiRnVuY3Rpb24iLCJnY3YiLCJjb3ZlcmFnZURhdGEiLCJzdGF0ZW1lbnRNYXAiLCJzdGFydCIsImxpbmUiLCJjb2x1bW4iLCJlbmQiLCJmbk1hcCIsIm5hbWUiLCJkZWNsIiwibG9jIiwiYnJhbmNoTWFwIiwicyIsImYiLCJiIiwiaW5wdXRTb3VyY2VNYXAiLCJ2ZXJzaW9uIiwic291cmNlcyIsInNvdXJjZXNDb250ZW50IiwibmFtZXMiLCJtYXBwaW5ncyIsIl9jb3ZlcmFnZVNjaGVtYSIsImNvdmVyYWdlIiwiYWN0dWFsQ292ZXJhZ2UiLCJUaWNrZXRBbmFseXRpY3NBcGkiLCJnZXREZWVwQW5hbHl0aWNzIiwiY29uZmlnIiwiX2h0dHBjbGllbnQiLCJodHRwQ2xpZW50IiwicG9zdCIsImV4cG9ydEFuYWx5dGljcyIsImZvcm1hdCIsInJlc3BvbnNlVHlwZSJdLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZWlkc29mdC9Eb3dubG9hZHMvcmVzZWFyY2gvaXRzbS9pdHNtLXByb3RvdHlwZS9zcmMvbGliL2FwaS90aWNrZXQtYW5hbHl0aWNzLWFwaS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIOW3peWNleaVsOaNruWIhuaekCBBUEkg5pyN5YqhXG4gKi9cblxuaW1wb3J0IHsgaHR0cENsaWVudCB9IGZyb20gJy4vaHR0cC1jbGllbnQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEFuYWx5dGljc0NvbmZpZyB7XG4gIGRpbWVuc2lvbnM6IHN0cmluZ1tdO1xuICBtZXRyaWNzOiBzdHJpbmdbXTtcbiAgY2hhcnRfdHlwZTogJ2xpbmUnIHwgJ2JhcicgfCAncGllJyB8ICdhcmVhJyB8ICd0YWJsZSc7XG4gIHRpbWVfcmFuZ2U6IFtzdHJpbmcsIHN0cmluZ107XG4gIGZpbHRlcnM6IFJlY29yZDxzdHJpbmcsIGFueT47XG4gIGdyb3VwX2J5Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFuYWx5dGljc0RhdGFQb2ludCB7XG4gIG5hbWU6IHN0cmluZztcbiAgdmFsdWU6IG51bWJlcjtcbiAgY291bnQ/OiBudW1iZXI7XG4gIGF2Z190aW1lPzogbnVtYmVyO1xuICBtZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQW5hbHl0aWNzU3VtbWFyeSB7XG4gIHRvdGFsOiBudW1iZXI7XG4gIHJlc29sdmVkOiBudW1iZXI7XG4gIGF2Z19yZXNwb25zZV90aW1lOiBudW1iZXI7XG4gIGF2Z19yZXNvbHV0aW9uX3RpbWU6IG51bWJlcjtcbiAgc2xhX2NvbXBsaWFuY2U6IG51bWJlcjtcbiAgY3VzdG9tZXJfc2F0aXNmYWN0aW9uOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQW5hbHl0aWNzUmVzcG9uc2Uge1xuICBkYXRhOiBBbmFseXRpY3NEYXRhUG9pbnRbXTtcbiAgc3VtbWFyeTogQW5hbHl0aWNzU3VtbWFyeTtcbiAgZ2VuZXJhdGVkX2F0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBUaWNrZXRBbmFseXRpY3NBcGkge1xuICAvLyDojrflj5bmt7HluqbliIbmnpDmlbDmja5cbiAgc3RhdGljIGFzeW5jIGdldERlZXBBbmFseXRpY3MoY29uZmlnOiBBbmFseXRpY3NDb25maWcpOiBQcm9taXNlPEFuYWx5dGljc1Jlc3BvbnNlPiB7XG4gICAgcmV0dXJuIGh0dHBDbGllbnQucG9zdDxBbmFseXRpY3NSZXNwb25zZT4oJy9hcGkvdGlja2V0cy9hbmFseXRpY3MvZGVlcCcsIGNvbmZpZyk7XG4gIH1cblxuICAvLyDlr7zlh7rliIbmnpDmlbDmja5cbiAgc3RhdGljIGFzeW5jIGV4cG9ydEFuYWx5dGljcyhjb25maWc6IEFuYWx5dGljc0NvbmZpZywgZm9ybWF0OiAnZXhjZWwnIHwgJ3BkZicgfCAnY3N2Jyk6IFByb21pc2U8QmxvYj4ge1xuICAgIHJldHVybiBodHRwQ2xpZW50LnBvc3Q8QmxvYj4oYC9hcGkvdGlja2V0cy9hbmFseXRpY3MvZXhwb3J0P2Zvcm1hdD0ke2Zvcm1hdH1gLCBjb25maWcsIHtcbiAgICAgIHJlc3BvbnNlVHlwZTogJ2Jsb2InLFxuICAgIH0pO1xuICB9XG59XG5cbiJdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUM7O0FBQUE7QUFBQSxTQUFBQSxlQUFBO0VBQUEsSUFBQUMsSUFBQTtFQUFBLElBQUFDLElBQUE7RUFBQSxJQUFBQyxNQUFBLE9BQUFDLFFBQUE7RUFBQSxJQUFBQyxHQUFBO0VBQUEsSUFBQUMsWUFBQTtJQUFBTCxJQUFBO0lBQUFNLFlBQUE7TUFBQTtRQUFBQyxLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7SUFBQTtJQUFBRSxLQUFBO01BQUE7UUFBQUMsSUFBQTtRQUFBQyxJQUFBO1VBQUFOLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFLLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQUksSUFBQTtRQUFBQyxJQUFBO1VBQUFOLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFLLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQUksSUFBQTtRQUFBQyxJQUFBO1VBQUFOLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFLLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO0lBQUE7SUFBQU8sU0FBQTtJQUFBQyxDQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO0lBQUE7SUFBQUMsQ0FBQTtNQUFBO01BQUE7TUFBQTtJQUFBO0lBQUFDLENBQUE7SUFBQUMsY0FBQTtNQUFBQyxPQUFBO01BQUFDLE9BQUE7TUFBQUMsY0FBQTtNQUFBQyxLQUFBO01BQUFDLFFBQUE7SUFBQTtJQUFBQyxlQUFBO0lBQUF4QixJQUFBO0VBQUE7RUFBQSxJQUFBeUIsUUFBQSxHQUFBeEIsTUFBQSxDQUFBRSxHQUFBLE1BQUFGLE1BQUEsQ0FBQUUsR0FBQTtFQUFBLEtBQUFzQixRQUFBLENBQUExQixJQUFBLEtBQUEwQixRQUFBLENBQUExQixJQUFBLEVBQUFDLElBQUEsS0FBQUEsSUFBQTtJQUFBeUIsUUFBQSxDQUFBMUIsSUFBQSxJQUFBSyxZQUFBO0VBQUE7RUFBQSxJQUFBc0IsY0FBQSxHQUFBRCxRQUFBLENBQUExQixJQUFBO0VBQUE7SUFzQ0M7SUFBQUQsY0FBQSxZQUFBQSxDQUFBO01BQUEsT0FBQTRCLGNBQUE7SUFBQTtFQUFBO0VBQUEsT0FBQUEsY0FBQTtBQUFBO0FBQUE1QixjQUFBO0FBQUFBLGNBQUEsR0FBQWlCLENBQUE7Ozs7OzsrQkFGVzs7Ozs7O1dBQUFZLGtCQUFBOzs7OztrQ0FsQ2M7QUFrQ3BCLE1BQU1BLGtCQUFBO0VBQ1g7RUFDQSxhQUFhQyxpQkFBaUJDLE1BQXVCLEVBQThCO0lBQUE7SUFBQS9CLGNBQUEsR0FBQWtCLENBQUE7SUFBQWxCLGNBQUEsR0FBQWlCLENBQUE7SUFDakYsT0FBT2UsV0FBQSxDQUFBQyxVQUFVLENBQUNDLElBQUksQ0FBb0IsK0JBQStCSCxNQUFBO0VBQzNFO0VBRUE7RUFDQSxhQUFhSSxnQkFBZ0JKLE1BQXVCLEVBQUVLLE1BQStCLEVBQWlCO0lBQUE7SUFBQXBDLGNBQUEsR0FBQWtCLENBQUE7SUFBQWxCLGNBQUEsR0FBQWlCLENBQUE7SUFDcEcsT0FBT2UsV0FBQSxDQUFBQyxVQUFVLENBQUNDLElBQUksQ0FBTyx3Q0FBd0NFLE1BQUEsRUFBUSxFQUFFTCxNQUFBLEVBQVE7TUFDckZNLFlBQUEsRUFBYztJQUNoQjtFQUNGO0FBQ0YiLCJpZ25vcmVMaXN0IjpbXX0=