{"version":3,"names":["cov_2honveqrrd","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","s","f","b","inputSourceMap","version","sources","sourcesContent","names","mappings","_coverageSchema","coverage","actualCoverage","TicketAnalyticsApi","getDeepAnalytics","config","_httpclient","httpClient","post","exportAnalytics","format","responseType"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/lib/api/ticket-analytics-api.ts"],"sourcesContent":["/**\n * 工单数据分析 API 服务\n */\n\nimport { httpClient } from './http-client';\n\nexport interface AnalyticsConfig {\n  dimensions: string[];\n  metrics: string[];\n  chart_type: 'line' | 'bar' | 'pie' | 'area' | 'table';\n  time_range: [string, string];\n  filters: Record<string, any>;\n  group_by?: string;\n}\n\nexport interface AnalyticsDataPoint {\n  name: string;\n  value: number;\n  count?: number;\n  avg_time?: number;\n  metadata?: Record<string, any>;\n}\n\nexport interface AnalyticsSummary {\n  total: number;\n  resolved: number;\n  avg_response_time: number;\n  avg_resolution_time: number;\n  sla_compliance: number;\n  customer_satisfaction: number;\n}\n\nexport interface AnalyticsResponse {\n  data: AnalyticsDataPoint[];\n  summary: AnalyticsSummary;\n  generated_at: string;\n}\n\nexport class TicketAnalyticsApi {\n  // 获取深度分析数据\n  static async getDeepAnalytics(config: AnalyticsConfig): Promise<AnalyticsResponse> {\n    return httpClient.post<AnalyticsResponse>('/api/tickets/analytics/deep', config);\n  }\n\n  // 导出分析数据\n  static async exportAnalytics(config: AnalyticsConfig, format: 'excel' | 'pdf' | 'csv'): Promise<Blob> {\n    return httpClient.post<Blob>(`/api/tickets/analytics/export?format=${format}`, config, {\n      responseType: 'blob',\n    });\n  }\n}\n\n"],"mappings":"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","ignoreList":[]}