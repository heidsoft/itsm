{"version":3,"names":["_default","CreateKnowledgeArticlePage","cov_2p7ndsatw5","f","router","s","_navigation","useRouter","searchParams","useSearchParams","title","setTitle","_react","useState","content","setContent","category","setCategory","useEffect","problemId","get","problemTitle","problemSolution","b","handleSubmit","e","preventDefault","formData","FormData","currentTarget","data","Object","fromEntries","entries","console","log","JSON","stringify","alert","push","_jsxruntime","jsxs","className","onClick","back","jsx","_lucidereact","ArrowLeft","onSubmit","_FormInput","FormInput","label","id","name","type","value","onChange","target","required","placeholder","htmlFor","_FormTextarea","FormTextarea","rows"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/app/knowledge-base/new/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport { ArrowLeft } from 'lucide-react';\nimport { FormInput } from '../../components/FormInput';\nimport { FormTextarea } from '../../components/FormTextarea';\n\nconst CreateKnowledgeArticlePage = () => {\n    const router = useRouter();\n    const searchParams = useSearchParams();\n\n    const [title, setTitle] = useState('');\n    const [content, setContent] = useState('');\n    const [category, setCategory] = useState('故障排除');\n\n    useEffect(() => {\n        const problemId = searchParams.get('fromProblemId');\n        const problemTitle = searchParams.get('problemTitle');\n        const problemSolution = searchParams.get('problemSolution');\n\n        if (problemId) {\n            setTitle(`问题 ${problemId} 解决方案: ${problemTitle || ''}`);\n            setContent(`此文章由问题 ${problemId} 解决方案转化而来。\\n\\n**问题标题:** ${problemTitle || ''}\\n\\n**解决方案:**\\n${problemSolution || ''}\\n\\n---`);\n            setCategory('故障排除'); // 默认分类为故障排除\n        }\n    }, [searchParams]);\n\n    const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n        const formData = new FormData(e.currentTarget);\n        const data = Object.fromEntries(formData.entries());\n        console.log('新建知识文章数据:', JSON.stringify(data, null, 2));\n        alert('知识文章已成功创建！');\n        router.push('/knowledge-base'); // 提交后返回知识库列表\n    };\n\n    return (\n        <div className=\"p-10 bg-gray-50 min-h-full\">\n            <header className=\"mb-8\">\n                <button onClick={() => router.back()} className=\"flex items-center text-blue-600 hover:underline mb-4\">\n                    <ArrowLeft className=\"w-5 h-5 mr-2\" />\n                    返回知识库\n                </button>\n                <h2 className=\"text-4xl font-bold text-gray-800\">新建知识文章</h2>\n                <p className=\"text-gray-500 mt-1\">记录和分享IT知识，提升自助服务能力</p>\n            </header>\n\n            <div className=\"bg-white p-8 rounded-lg shadow-md\">\n                <form onSubmit={handleSubmit}>\n                    <div className=\"space-y-6\">\n                        <FormInput \n                            label=\"文章标题\" \n                            id=\"title\" \n                            name=\"title\" \n                            type=\"text\" \n                            value={title}\n                            onChange={(e) => setTitle(e.target.value)}\n                            required \n                            placeholder=\"例如：如何解决VPN连接问题\" \n                        />\n                        <div>\n                            <label htmlFor=\"category\" className=\"block text-sm font-medium text-gray-700\">分类</label>\n                            <select \n                                id=\"category\" \n                                name=\"category\" \n                                value={category}\n                                onChange={(e) => setCategory(e.target.value)}\n                                className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\"\n                            >\n                                <option>故障排除</option>\n                                <option>操作指南</option>\n                                <option>常见问题</option>\n                                <option>账号管理</option>\n                                <option>网络连接</option>\n                                <option>云资源</option>\n                            </select>\n                        </div>\n                        <FormTextarea \n                            label=\"文章内容 (支持Markdown)\" \n                            id=\"content\" \n                            name=\"content\" \n                            rows={15} \n                            value={content}\n                            onChange={(e) => setContent(e.target.value)}\n                            required \n                            placeholder=\"在这里编写您的知识文章内容，支持Markdown格式。\"\n                        />\n                    </div>\n                    <div className=\"mt-8 flex justify-end\">\n                        <button type=\"button\" onClick={() => router.back()} className=\"bg-gray-200 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 mr-4\">\n                            取消\n                        </button>\n                        <button type=\"submit\" className=\"bg-blue-600 text-white font-semibold py-2 px-4 rounded-lg hover:bg-blue-700\">\n                            发布文章\n                        </button>\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n};\n\nexport default CreateKnowledgeArticlePage;"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}