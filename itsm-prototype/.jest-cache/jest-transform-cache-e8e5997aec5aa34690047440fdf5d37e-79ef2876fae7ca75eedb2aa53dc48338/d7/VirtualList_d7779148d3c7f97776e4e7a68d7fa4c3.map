{"version":3,"names":["VirtualList","items","itemHeight","containerHeight","renderItem","overscan","cov_1owkbbnixz","b","className","f","scrollTop","setScrollTop","s","_react","useState","scrollElementRef","useRef","totalHeight","length","visibleCount","Math","ceil","startIndex","max","floor","endIndex","min","visibleItems","useMemo","result","i","push","index","item","offsetY","handleScroll","e","currentTarget","_jsxruntime","jsx","ref","style","height","onScroll","position","map","top","left","right"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/components/ui/VirtualList.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useMemo } from \"react\";\n\ninterface VirtualListProps<T> {\n  items: T[];\n  itemHeight: number;\n  containerHeight: number;\n  renderItem: (item: T, index: number) => React.ReactNode;\n  overscan?: number;\n  className?: string;\n}\n\nexport function VirtualList<T>({\n  items,\n  itemHeight,\n  containerHeight,\n  renderItem,\n  overscan = 5,\n  className = \"\",\n}: VirtualListProps<T>) {\n  const [scrollTop, setScrollTop] = useState(0);\n  const scrollElementRef = useRef<HTMLDivElement>(null);\n\n  const totalHeight = items.length * itemHeight;\n  const visibleCount = Math.ceil(containerHeight / itemHeight);\n  const startIndex = Math.max(0, Math.floor(scrollTop / itemHeight) - overscan);\n  const endIndex = Math.min(\n    items.length - 1,\n    startIndex + visibleCount + overscan * 2\n  );\n\n  const visibleItems = useMemo(() => {\n    const result = [];\n    for (let i = startIndex; i <= endIndex; i++) {\n      result.push({\n        index: i,\n        item: items[i],\n        offsetY: i * itemHeight,\n      });\n    }\n    return result;\n  }, [items, startIndex, endIndex, itemHeight]);\n\n  const handleScroll = (e: React.UIEvent<HTMLDivElement>) => {\n    setScrollTop(e.currentTarget.scrollTop);\n  };\n\n  return (\n    <div\n      ref={scrollElementRef}\n      className={`overflow-auto ${className}`}\n      style={{ height: containerHeight }}\n      onScroll={handleScroll}\n    >\n      <div style={{ height: totalHeight, position: \"relative\" }}>\n        {visibleItems.map(({ index, item, offsetY }) => (\n          <div\n            key={index}\n            style={{\n              position: \"absolute\",\n              top: offsetY,\n              left: 0,\n              right: 0,\n              height: itemHeight,\n            }}\n          >\n            {renderItem(item, index)}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAWgB;;;;;;WAAAA,WAAA;;;;;;;;yEAX4C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWrD,SAASA,YAAe;EAC7BC,KAAK;EACLC,UAAU;EACVC,eAAe;EACfC,UAAU;EACVC,QAAA;EAAA;EAAA,CAAAC,cAAA,GAAAC,CAAA,WAAW,CAAC;EACZC,SAAA;EAAA;EAAA,CAAAF,cAAA,GAAAC,CAAA,WAAY,EAAE;AAAA,CACM;EAAA;EAAAD,cAAA,GAAAG,CAAA;EACpB,MAAM,CAACC,SAAA,EAAWC,YAAA,CAAa;EAAA;EAAA,CAAAL,cAAA,GAAAM,CAAA,QAAG,IAAAC,MAAA,CAAAC,QAAQ,EAAC;EAC3C,MAAMC,gBAAA;EAAA;EAAA,CAAAT,cAAA,GAAAM,CAAA,QAAmB,IAAAC,MAAA,CAAAG,MAAM,EAAiB;EAEhD,MAAMC,WAAA;EAAA;EAAA,CAAAX,cAAA,GAAAM,CAAA,QAAcX,KAAA,CAAMiB,MAAM,GAAGhB,UAAA;EACnC,MAAMiB,YAAA;EAAA;EAAA,CAAAb,cAAA,GAAAM,CAAA,QAAeQ,IAAA,CAAKC,IAAI,CAAClB,eAAA,GAAkBD,UAAA;EACjD,MAAMoB,UAAA;EAAA;EAAA,CAAAhB,cAAA,GAAAM,CAAA,QAAaQ,IAAA,CAAKG,GAAG,CAAC,GAAGH,IAAA,CAAKI,KAAK,CAACd,SAAA,GAAYR,UAAA,IAAcG,QAAA;EACpE,MAAMoB,QAAA;EAAA;EAAA,CAAAnB,cAAA,GAAAM,CAAA,QAAWQ,IAAA,CAAKM,GAAG,CACvBzB,KAAA,CAAMiB,MAAM,GAAG,GACfI,UAAA,GAAaH,YAAA,GAAed,QAAA,GAAW;EAGzC,MAAMsB,YAAA;EAAA;EAAA,CAAArB,cAAA,GAAAM,CAAA,QAAe,IAAAC,MAAA,CAAAe,OAAO,EAAC;IAAA;IAAAtB,cAAA,GAAAG,CAAA;IAC3B,MAAMoB,MAAA;IAAA;IAAA,CAAAvB,cAAA,GAAAM,CAAA,QAAS,EAAE;IAAA;IAAAN,cAAA,GAAAM,CAAA;IACjB,KAAK,IAAIkB,CAAA;IAAA;IAAA,CAAAxB,cAAA,GAAAM,CAAA,QAAIU,UAAA,GAAYQ,CAAA,IAAKL,QAAA,EAAUK,CAAA,IAAK;MAAA;MAAAxB,cAAA,GAAAM,CAAA;MAC3CiB,MAAA,CAAOE,IAAI,CAAC;QACVC,KAAA,EAAOF,CAAA;QACPG,IAAA,EAAMhC,KAAK,CAAC6B,CAAA,CAAE;QACdI,OAAA,EAASJ,CAAA,GAAI5B;MACf;IACF;IAAA;IAAAI,cAAA,GAAAM,CAAA;IACA,OAAOiB,MAAA;EACT,GAAG,CAAC5B,KAAA,EAAOqB,UAAA,EAAYG,QAAA,EAAUvB,UAAA,CAAW;EAAA;EAAAI,cAAA,GAAAM,CAAA;EAE5C,MAAMuB,YAAA,GAAgBC,CAAA;IAAA;IAAA9B,cAAA,GAAAG,CAAA;IAAAH,cAAA,GAAAM,CAAA;IACpBD,YAAA,CAAayB,CAAA,CAAEC,aAAa,CAAC3B,SAAS;EACxC;EAAA;EAAAJ,cAAA,GAAAM,CAAA;EAEA,oBACE,IAAA0B,WAAA,CAAAC,GAAA,EAAC;IACCC,GAAA,EAAKzB,gBAAA;IACLP,SAAA,EAAW,iBAAiBA,SAAA,EAAW;IACvCiC,KAAA,EAAO;MAAEC,MAAA,EAAQvC;IAAgB;IACjCwC,QAAA,EAAUR,YAAA;cAEV,iBAAAG,WAAA,CAAAC,GAAA,EAAC;MAAIE,KAAA,EAAO;QAAEC,MAAA,EAAQzB,WAAA;QAAa2B,QAAA,EAAU;MAAW;gBACrDjB,YAAA,CAAakB,GAAG,CAAC,CAAC;QAAEb,KAAK;QAAEC,IAAI;QAAEC;MAAO,CAAE,KACzC;QAAA;QAAA5B,cAAA,GAAAG,CAAA;QAAAH,cAAA,GAAAM,CAAA;QAAA,OADyC,aACzC,IAAA0B,WAAA,CAAAC,GAAA,EAAC;UAECE,KAAA,EAAO;YACLG,QAAA,EAAU;YACVE,GAAA,EAAKZ,OAAA;YACLa,IAAA,EAAM;YACNC,KAAA,EAAO;YACPN,MAAA,EAAQxC;UACV;oBAECE,UAAA,CAAW6B,IAAA,EAAMD,KAAA;WATbA,KAAA;MAAA;;;AAejB","ignoreList":[]}