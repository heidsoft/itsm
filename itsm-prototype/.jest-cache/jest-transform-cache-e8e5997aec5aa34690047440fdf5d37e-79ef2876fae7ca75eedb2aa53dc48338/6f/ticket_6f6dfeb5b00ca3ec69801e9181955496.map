{"version":3,"names":["cov_uwoqqcflp","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","branchMap","s","f","b","inputSourceMap","version","sources","sourcesContent","names","mappings","_coverageSchema","coverage","actualCoverage"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/types/ticket.ts"],"sourcesContent":["/**\n * 工单相关类型定义\n */\n\nexport type TicketPriority = 'low' | 'medium' | 'high' | 'urgent' | 'critical';\nexport type TicketStatus = 'new' | 'open' | 'in_progress' | 'pending' | 'resolved' | 'closed' | 'cancelled';\nexport type TicketSource = 'web' | 'email' | 'phone' | 'chat' | 'api' | 'mobile';\nexport type TicketType = 'incident' | 'request' | 'problem' | 'change' | 'task';\n\nexport interface TicketCategory {\n  id: number;\n  name: string;\n  description?: string;\n  parentId?: number;\n  isActive: boolean;\n}\n\nexport interface TicketUser {\n  id: number;\n  username: string;\n  fullName: string;\n  email: string;\n  avatar?: string;\n  department?: string;\n  role: string;\n}\n\nexport interface TicketComment {\n  id: number;\n  ticketId: number;\n  content: string;\n  author: TicketUser;\n  isInternal: boolean;\n  createdAt: string;\n  updatedAt?: string;\n  attachments?: TicketAttachment[];\n}\n\nexport interface TicketAttachment {\n  id: number;\n  ticketId: number;\n  filename: string;\n  originalName: string;\n  fileSize: number;\n  mimeType: string;\n  url: string;\n  uploadedBy: TicketUser;\n  createdAt: string;\n}\n\nexport interface TicketSLA {\n  id: number;\n  name: string;\n  responseTime: number; // 响应时间（分钟）\n  resolutionTime: number; // 解决时间（分钟）\n  priority: TicketPriority;\n  isActive: boolean;\n}\n\nexport interface Ticket {\n  id: number;\n  ticketNumber: string;\n  title: string;\n  description: string;\n  status: TicketStatus;\n  priority: TicketPriority;\n  source: TicketSource;\n  type: TicketType;\n  category?: TicketCategory;\n  requester: TicketUser;\n  assignee?: TicketUser;\n  \n  // 时间相关\n  createdAt: string;\n  updatedAt: string;\n  dueDate?: string;\n  resolvedAt?: string;\n  closedAt?: string;\n  \n  // SLA相关\n  sla?: TicketSLA;\n  slaStatus?: 'on_track' | 'at_risk' | 'breached';\n  responseDeadline?: string;\n  resolutionDeadline?: string;\n  \n  // 解决方案\n  resolution?: string;\n  resolutionCategory?: string;\n  \n  // 满意度\n  satisfactionRating?: number;\n  satisfactionComment?: string;\n  \n  // 升级相关\n  escalationLevel?: number;\n  escalationReason?: string;\n  \n  // 关联数据\n  comments?: TicketComment[];\n  attachments?: TicketAttachment[];\n  relatedTickets?: number[];\n  \n  // 自定义字段\n  customFields?: Record<string, unknown>;\n  \n  // 元数据\n  tenantId: number;\n  isMajorIncident: boolean;\n  tags?: string[];\n}\n\nexport interface CreateTicketRequest {\n  title: string;\n  description: string;\n  priority: TicketPriority;\n  type: TicketType;\n  source?: TicketSource;\n  categoryId?: number;\n  assigneeId?: number;\n  dueDate?: string;\n  customFields?: Record<string, unknown>;\n  tags?: string[];\n  attachments?: File[];\n}\n\nexport interface UpdateTicketRequest {\n  title?: string;\n  description?: string;\n  priority?: TicketPriority;\n  status?: TicketStatus;\n  categoryId?: number;\n  assigneeId?: number;\n  dueDate?: string;\n  customFields?: Record<string, unknown>;\n  tags?: string[];\n}\n\nexport interface TicketFilters {\n  status?: TicketStatus[];\n  priority?: TicketPriority[];\n  type?: TicketType[];\n  source?: TicketSource[];\n  categoryId?: number[];\n  assigneeId?: number[];\n  requesterId?: number[];\n  isMajorIncident?: boolean;\n  slaStatus?: ('on_track' | 'at_risk' | 'breached')[];\n  tags?: string[];\n  dateRange?: {\n    field: 'created' | 'updated' | 'due' | 'resolved' | 'closed';\n    start: string;\n    end: string;\n  };\n  search?: string;\n}\n\nexport interface TicketSortOptions {\n  field: 'id' | 'ticketNumber' | 'title' | 'priority' | 'status' | 'createdAt' | 'updatedAt' | 'dueDate';\n  order: 'asc' | 'desc';\n}\n\nexport interface TicketListResponse {\n  tickets: Ticket[];\n  total: number;\n  page: number;\n  pageSize: number;\n  totalPages: number;\n}\n\nexport interface TicketStats {\n  total: number;\n  byStatus: Record<TicketStatus, number>;\n  byPriority: Record<TicketPriority, number>;\n  byType: Record<TicketType, number>;\n  overdue: number;\n  slaBreached: number;\n  avgResolutionTime: number; // 小时\n  avgResponseTime: number; // 小时\n  satisfactionScore: number;\n}\n\nexport interface TicketActivity {\n  id: number;\n  ticketId: number;\n  type: 'created' | 'updated' | 'assigned' | 'status_changed' | 'commented' | 'escalated' | 'resolved' | 'closed';\n  description: string;\n  actor: TicketUser;\n  timestamp: string;\n  changes?: Record<string, { from: unknown; to: unknown }>;\n  metadata?: Record<string, unknown>;\n}\n\n// 工单模板\nexport interface TicketTemplate {\n  id: number;\n  name: string;\n  description: string;\n  category: TicketCategory;\n  type: TicketType;\n  priority: TicketPriority;\n  titleTemplate: string;\n  descriptionTemplate: string;\n  customFields: Array<{\n    name: string;\n    type: 'text' | 'textarea' | 'select' | 'multiselect' | 'date' | 'number' | 'boolean';\n    label: string;\n    required: boolean;\n    options?: string[];\n    defaultValue?: unknown;\n  }>;\n  isActive: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\n// 工单批量操作\nexport interface TicketBatchOperation {\n  action: 'assign' | 'update_status' | 'update_priority' | 'add_tags' | 'remove_tags' | 'delete';\n  ticketIds: number[];\n  data?: {\n    assigneeId?: number;\n    status?: TicketStatus;\n    priority?: TicketPriority;\n    tags?: string[];\n    comment?: string;\n  };\n}\n\nexport interface TicketBatchResult {\n  success: number;\n  failed: number;\n  errors: Array<{\n    ticketId: number;\n    error: string;\n  }>;\n}"],"mappings":"AAAA;;GAEC;;AAAA;AAAA,SAAAA,cAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;IAAA;IAAAE,KAAA;IAAAC,SAAA;IAAAC,CAAA;MAAA;IAAA;IAAAC,CAAA;IAAAC,CAAA;IAAAC,cAAA;MAAAC,OAAA;MAAAC,OAAA;MAAAC,cAAA;MAAAC,KAAA;MAAAC,QAAA;IAAA;IAAAC,eAAA;IAAArB,IAAA;EAAA;EAAA,IAAAsB,QAAA,GAAArB,MAAA,CAAAE,GAAA,MAAAF,MAAA,CAAAE,GAAA;EAAA,KAAAmB,QAAA,CAAAvB,IAAA,KAAAuB,QAAA,CAAAvB,IAAA,EAAAC,IAAA,KAAAA,IAAA;IAAAsB,QAAA,CAAAvB,IAAA,IAAAK,YAAA;EAAA;EAAA,IAAAmB,cAAA,GAAAD,QAAA,CAAAvB,IAAA;EAAA","ignoreList":[]}