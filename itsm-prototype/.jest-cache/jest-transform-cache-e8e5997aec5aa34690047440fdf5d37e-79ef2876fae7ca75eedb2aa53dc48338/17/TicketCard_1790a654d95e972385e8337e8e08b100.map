{"version":3,"names":["TicketCard","priorityConfig","cov_1ri77sd3f","s","P1","color","icon","_lucidereact","Zap","label","P2","AlertCircle","P3","Info","P4","ChevronsDown","playAlertSound","f","audio","Audio","play","catch","e","console","error","id","title","status","priority","lastUpdate","type","b","config","Icon","cardRef","_react","useRef","useEffect","current","classList","add","remove","_jsxruntime","jsxs","ref","className","jsx","Clock"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/app/components/TicketCard.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useRef } from \"react\";\nimport {\n  Zap,\n  AlertCircle,\n  Info,\n  ChevronsDown,\n  Clock,\n} from \"lucide-react\";\n\nconst priorityConfig = {\n  P1: { color: \"red\", icon: Zap, label: \"P1 紧急\" },\n  P2: { color: \"orange\", icon: AlertCircle, label: \"P2 高\" },\n  P3: { color: \"yellow\", icon: Info, label: \"P3 中\" },\n  P4: { color: \"blue\", icon: ChevronsDown, label: \"P4 低\" },\n};\n\nconst playAlertSound = () => {\n  const audio = new Audio(\"/alert.mp3\"); // 确保public目录下有alert.mp3文件\n  audio.play().catch((e) => console.error(\"Error playing sound:\", e));\n};\n\ninterface TicketCardProps {\n  id: string | number;\n  title: string;\n  status: string;\n  priority: \"P1\" | \"P2\" | \"P3\" | \"P4\";\n  lastUpdate: string;\n  type?: string;\n}\n\nexport const TicketCard: React.FC<TicketCardProps> = ({\n  id,\n  title,\n  status,\n  priority,\n  lastUpdate,\n  type = \"事件\",\n}) => {\n  const config = priorityConfig[priority] || priorityConfig.P4; // 默认P4\n  const Icon = config.icon;\n\n  const cardRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (priority === \"P1\") {\n      // 播放声音告警\n      playAlertSound();\n      // 添加闪烁动画类\n      cardRef.current?.classList.add(\"animate-pulse-strong\"); // 自定义动画类\n    } else {\n      cardRef.current?.classList.remove(\"animate-pulse-strong\");\n    }\n  }, [priority]);\n\n  return (\n    <div\n      ref={cardRef}\n      className={`relative bg-white p-6 rounded-lg shadow-md border-l-4 \n            border-${config.color}-500 \n            hover:shadow-xl transition-shadow duration-300 ease-in-out \n            flex flex-col justify-between`}\n    >\n      {/* 优先级徽章 */}\n      <div\n        className={`absolute top-3 right-3 px-3 py-1 rounded-full text-xs font-bold \n                bg-${config.color}-100 text-${config.color}-800`}\n      >\n        {config.label}\n      </div>\n\n      <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">{title}</h3>\n      <p className=\"text-sm text-gray-600 mb-4\">\n        {type}ID: {id}\n      </p>\n\n      <div className=\"flex items-center justify-between text-sm text-gray-500\">\n        <div className=\"flex items-center\">\n          <Icon className={`w-4 h-4 mr-2 text-${config.color}-600`} />\n          <span>状态: {status}</span>\n        </div>\n        <div className=\"flex items-center\">\n          <Clock className=\"w-4 h-4 mr-1\" />\n          <span>{lastUpdate}</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}