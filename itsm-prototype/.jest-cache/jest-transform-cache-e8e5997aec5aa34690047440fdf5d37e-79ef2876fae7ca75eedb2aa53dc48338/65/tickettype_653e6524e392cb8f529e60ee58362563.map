{"version":3,"names":["cov_y87o5b95m","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","s","f","b","inputSourceMap","version","sources","sourcesContent","names","mappings","_coverageSchema","coverage","actualCoverage","CustomFieldType","TicketTypeStatus"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-prototype/src/types/ticket-type.ts"],"sourcesContent":["/**\n * 工单类型管理类型定义\n */\n\nimport { ApprovalNodeConfig } from './workflow';\n\n/**\n * 工单类型状态\n */\nexport enum TicketTypeStatus {\n  ACTIVE = 'active',\n  INACTIVE = 'inactive',\n  DRAFT = 'draft',\n}\n\n/**\n * 自定义字段类型\n */\nexport enum CustomFieldType {\n  TEXT = 'text',\n  TEXTAREA = 'textarea',\n  NUMBER = 'number',\n  DATE = 'date',\n  DATETIME = 'datetime',\n  SELECT = 'select',\n  MULTI_SELECT = 'multi_select',\n  CHECKBOX = 'checkbox',\n  RADIO = 'radio',\n  FILE = 'file',\n  USER_PICKER = 'user_picker',\n  DEPARTMENT_PICKER = 'department_picker',\n}\n\n/**\n * 自定义字段定义\n */\nexport interface CustomFieldDefinition {\n  id: string;\n  name: string;\n  label: string;\n  type: CustomFieldType;\n  required: boolean;\n  description?: string;\n  placeholder?: string;\n  defaultValue?: any;\n  options?: Array<{\n    label: string;\n    value: string | number;\n  }>;\n  validation?: {\n    min?: number;\n    max?: number;\n    pattern?: string;\n    message?: string;\n  };\n  conditionalDisplay?: {\n    field: string;\n    operator: 'equals' | 'not_equals' | 'contains';\n    value: any;\n  };\n  order: number;\n}\n\n/**\n * 工单类型定义\n */\nexport interface TicketTypeDefinition {\n  id: number;\n  code: string;\n  name: string;\n  description?: string;\n  icon?: string;\n  color?: string;\n  status: TicketTypeStatus;\n  \n  // 表单配置\n  customFields: CustomFieldDefinition[];\n  \n  // 审批流程\n  approvalEnabled: boolean;\n  approvalWorkflowId?: string;\n  approvalChain?: ApprovalChainDefinition[];\n  \n  // SLA配置\n  slaEnabled: boolean;\n  defaultSlaId?: number;\n  \n  // 分配规则\n  autoAssignEnabled: boolean;\n  assignmentRules?: AssignmentRule[];\n  \n  // 通知配置\n  notificationConfig?: NotificationConfig;\n  \n  // 权限配置\n  permissionConfig?: PermissionConfig;\n  \n  // 元数据\n  createdBy: number;\n  createdByName: string;\n  updatedBy?: number;\n  updatedByName?: string;\n  createdAt: string;\n  updatedAt: string;\n  tenantId: number;\n  departmentId?: number; // 部门ID\n  \n  // 统计\n  usageCount?: number;\n}\n\n/**\n * 审批链定义\n */\nexport interface ApprovalChainDefinition {\n  id: string;\n  level: number;\n  name: string;\n  approvers: Array<{\n    type: 'user' | 'role' | 'department' | 'dynamic';\n    value: number | string;\n    name: string;\n  }>;\n  approvalType: 'any' | 'all' | 'majority';\n  minimumApprovals?: number;\n  allowReject: boolean;\n  allowDelegate: boolean;\n  rejectAction: 'end' | 'return' | 'custom';\n  returnToLevel?: number;\n  conditions?: Array<{\n    field: string;\n    operator: 'equals' | 'not_equals' | 'greater_than' | 'less_than';\n    value: any;\n  }>;\n  timeout?: number; // 超时时间（小时）\n  timeoutAction?: 'auto_approve' | 'auto_reject' | 'escalate';\n}\n\n/**\n * 分配规则\n */\nexport interface AssignmentRule {\n  id: string;\n  name: string;\n  priority: number;\n  conditions: Array<{\n    field: string;\n    operator: 'equals' | 'not_equals' | 'contains' | 'greater_than' | 'less_than';\n    value: any;\n  }>;\n  assignTo: {\n    type: 'user' | 'role' | 'department' | 'round_robin' | 'load_balance';\n    value: number | string;\n  };\n  enabled: boolean;\n}\n\n/**\n * 通知配置\n */\nexport interface NotificationConfig {\n  onCreate: {\n    enabled: boolean;\n    recipients: Array<'requester' | 'assignee' | 'approvers' | 'watchers'>;\n    template?: string;\n  };\n  onUpdate: {\n    enabled: boolean;\n    recipients: Array<'requester' | 'assignee' | 'approvers' | 'watchers'>;\n  };\n  onApproval: {\n    enabled: boolean;\n    recipients: Array<'requester' | 'assignee' | 'previous_approvers' | 'next_approvers'>;\n  };\n  onReject: {\n    enabled: boolean;\n    recipients: Array<'requester' | 'assignee' | 'approvers'>;\n  };\n  onComplete: {\n    enabled: boolean;\n    recipients: Array<'requester' | 'assignee' | 'watchers'>;\n  };\n}\n\n/**\n * 权限配置\n */\nexport interface PermissionConfig {\n  canCreate: string[]; // 角色列表\n  canView: string[];\n  canEdit: string[];\n  canDelete: string[];\n  canApprove: string[];\n}\n\n/**\n * 创建工单类型请求\n */\nexport interface CreateTicketTypeRequest {\n  code: string;\n  name: string;\n  description?: string;\n  icon?: string;\n  color?: string;\n  customFields: CustomFieldDefinition[];\n  approvalEnabled: boolean;\n  approvalChain?: ApprovalChainDefinition[];\n  slaEnabled: boolean;\n  defaultSlaId?: number;\n  autoAssignEnabled: boolean;\n  assignmentRules?: AssignmentRule[];\n  notificationConfig?: NotificationConfig;\n  permissionConfig?: PermissionConfig;\n  departmentId?: number;\n}\n\n/**\n * 工单类型列表响应\n */\nexport interface UpdateTicketTypeRequest {\n  name?: string;\n  description?: string;\n  icon?: string;\n  color?: string;\n  status?: TicketTypeStatus;\n  customFields?: CustomFieldDefinition[];\n  approvalEnabled?: boolean;\n  approvalChain?: ApprovalChainDefinition[];\n  slaEnabled?: boolean;\n  defaultSlaId?: number;\n  autoAssignEnabled?: boolean;\n  assignmentRules?: AssignmentRule[];\n  notificationConfig?: NotificationConfig;\n  permissionConfig?: PermissionConfig;\n  departmentId?: number;\n}\n\n/**\n * 工单类型列表响应\n */\nexport interface TicketTypeListResponse {\n  types: TicketTypeDefinition[];\n  total: number;\n  page: number;\n  pageSize: number;\n}\n\n"],"mappings":"AAAA;;GAEC;;AAAA;AAAA,SAAAA,cAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;IAAA;IAAAE,KAAA;MAAA;QAAAC,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;MAAA;QAAAI,IAAA;QAAAC,IAAA;UAAAN,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAK,GAAA;UAAAP,KAAA;YAAAC,IAAA;YAAAC,MAAA;UAAA;UAAAC,GAAA;YAAAF,IAAA;YAAAC,MAAA;UAAA;QAAA;QAAAD,IAAA;MAAA;IAAA;IAAAO,SAAA;IAAAC,CAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAAC,CAAA;MAAA;MAAA;MAAA;MAAA;MAAA;IAAA;IAAAC,CAAA;IAAAC,cAAA;MAAAC,OAAA;MAAAC,OAAA;MAAAC,cAAA;MAAAC,KAAA;MAAAC,QAAA;IAAA;IAAAC,eAAA;IAAAxB,IAAA;EAAA;EAAA,IAAAyB,QAAA,GAAAxB,MAAA,CAAAE,GAAA,MAAAF,MAAA,CAAAE,GAAA;EAAA,KAAAsB,QAAA,CAAA1B,IAAA,KAAA0B,QAAA,CAAA1B,IAAA,EAAAC,IAAA,KAAAA,IAAA;IAAAyB,QAAA,CAAA1B,IAAA,IAAAK,YAAA;EAAA;EAAA,IAAAsB,cAAA,GAAAD,QAAA,CAAA1B,IAAA;EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAgBW4B,eAAe,WAAAA,CAAA;IAAA;IAAA7B,aAAA,GAAAkB,CAAA;IAAAlB,aAAA,GAAAiB,CAAA;WAAfY,eAAA;;EATAC,gBAAgB,WAAAA,CAAA;IAAA;IAAA9B,aAAA,GAAAkB,CAAA;IAAAlB,aAAA,GAAAiB,CAAA;WAAhBa,gBAAA;;;AAAL,IAAAA,gBAAK;AAAA;AAAA,cAAA9B,aAAA,GAAAiB,CAAA,iBAAAa,gBAAA;EAAA;EAAA9B,aAAA,GAAAkB,CAAA;EAAAlB,aAAA,GAAAiB,CAAA;;;;;;;;;;SAAAa,gBAAA;;AASL,IAAAD,eAAK;AAAA;AAAA,cAAA7B,aAAA,GAAAiB,CAAA,kBAAAY,eAAA;EAAA;EAAA7B,aAAA,GAAAkB,CAAA;EAAAlB,aAAA,GAAAiB,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SAAAY,eAAA","ignoreList":[]}