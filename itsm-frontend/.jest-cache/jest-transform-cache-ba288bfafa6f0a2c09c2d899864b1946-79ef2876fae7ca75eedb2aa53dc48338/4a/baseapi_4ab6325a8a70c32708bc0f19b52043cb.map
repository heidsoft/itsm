{"version":3,"names":["ApiError","cov_ofh6l8o42","f","s","ApiResponseHandler","BaseApi","baseUrl","getList","endpoint","params","response","_httpclient","httpClient","get","b","undefined","error","console","getById","id","create","data","post","update","put","patch","delete","batchDelete","ids","search","getStats","export","format","fetch","getBaseURL","method","headers","getToken","ok","Error","statusText","blob","upload","file","additionalData","formData","FormData","append","Object","entries","forEach","key","value","String","constructor","message","code","originalError","name","fromResponse","fromError","isSuccess","extractData","handlePaginationResponse"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/lib/api/base-api.ts"],"sourcesContent":["import { httpClient } from '@/lib/api/http-client';\nimport { ApiResponse, PaginationResponse } from '@/app/lib/api-config';\n\n/**\n * 基础API类，提供通用的CRUD操作\n */\nexport abstract class BaseApi {\n  protected static baseUrl: string = '';\n\n  /**\n   * 获取列表数据\n   */\n  protected static async getList<T, P = Record<string, unknown>>(\n    endpoint: string,\n    params?: P\n  ): Promise<PaginationResponse<T>> {\n    try {\n      const response = await httpClient.get<PaginationResponse<T>>(\n        endpoint,\n        (params as unknown as Record<string, unknown>) || undefined\n      );\n      return response;\n    } catch (error) {\n      console.error(`BaseApi.getList error for ${endpoint}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * 获取单个资源\n   */\n  protected static async getById<T>(endpoint: string, id: string | number): Promise<T> {\n    try {\n      const response = await httpClient.get<T>(`${endpoint}/${id}`);\n      return response;\n    } catch (error) {\n      console.error(`BaseApi.getById error for ${endpoint}/${id}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * 创建资源\n   */\n  protected static async create<T, D = Record<string, unknown>>(\n    endpoint: string,\n    data: D\n  ): Promise<T> {\n    try {\n      const response = await httpClient.post<T>(endpoint, data);\n      return response;\n    } catch (error) {\n      console.error(`BaseApi.create error for ${endpoint}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * 更新资源\n   */\n  protected static async update<T, D = Record<string, unknown>>(\n    endpoint: string,\n    id: string | number,\n    data: D\n  ): Promise<T> {\n    try {\n      const response = await httpClient.put<T>(`${endpoint}/${id}`, data);\n      return response;\n    } catch (error) {\n      console.error(`BaseApi.update error for ${endpoint}/${id}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * 部分更新资源\n   */\n  protected static async patch<T, D = Record<string, unknown>>(\n    endpoint: string,\n    id: string | number,\n    data: D\n  ): Promise<T> {\n    try {\n      const response = await httpClient.patch<T>(`${endpoint}/${id}`, data);\n      return response;\n    } catch (error) {\n      console.error(`BaseApi.patch error for ${endpoint}/${id}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * 删除资源\n   */\n  protected static async delete<T = void>(endpoint: string, id: string | number): Promise<T> {\n    try {\n      const response = await httpClient.delete<T>(`${endpoint}/${id}`);\n      return response;\n    } catch (error) {\n      console.error(`BaseApi.delete error for ${endpoint}/${id}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * 批量删除资源\n   */\n  protected static async batchDelete<T = void>(\n    endpoint: string,\n    ids: (string | number)[]\n  ): Promise<T> {\n    try {\n      const response = await httpClient.delete<T>(`${endpoint}/batch`, { ids });\n      return response;\n    } catch (error) {\n      console.error(`BaseApi.batchDelete error for ${endpoint}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * 搜索资源\n   */\n  protected static async search<T, P = Record<string, unknown>>(\n    endpoint: string,\n    params: P\n  ): Promise<PaginationResponse<T>> {\n    try {\n      const response = await httpClient.get<PaginationResponse<T>>(\n        `${endpoint}/search`,\n        params as unknown as Record<string, unknown>\n      );\n      return response;\n    } catch (error) {\n      console.error(`BaseApi.search error for ${endpoint}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * 获取统计数据\n   */\n  protected static async getStats<T>(endpoint: string, params?: Record<string, unknown>): Promise<T> {\n    try {\n      const response = await httpClient.get<T>(`${endpoint}/stats`, params);\n      return response;\n    } catch (error) {\n      console.error(`BaseApi.getStats error for ${endpoint}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * 导出数据\n   */\n  protected static async export<P = Record<string, unknown>>(\n    endpoint: string,\n    params?: P,\n    format: 'csv' | 'excel' | 'pdf' = 'csv'\n  ): Promise<Blob> {\n    try {\n      const response = await fetch(`${httpClient.getBaseURL()}${endpoint}/export?format=${format}`, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${httpClient.getToken()}`,\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(`Export failed: ${response.statusText}`);\n      }\n\n      return await response.blob();\n    } catch (error) {\n      console.error(`BaseApi.export error for ${endpoint}:`, error);\n      throw error;\n    }\n  }\n\n  /**\n   * 上传文件\n   */\n  protected static async upload<T>(\n    endpoint: string,\n    file: File,\n    additionalData?: Record<string, unknown>\n  ): Promise<T> {\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      \n      if (additionalData) {\n        Object.entries(additionalData).forEach(([key, value]) => {\n          formData.append(key, String(value));\n        });\n      }\n\n      const response = await httpClient.post<T>(endpoint, formData);\n      return response;\n    } catch (error) {\n      console.error(`BaseApi.upload error for ${endpoint}:`, error);\n      throw error;\n    }\n  }\n}\n\n/**\n * API错误处理工具\n */\nexport class ApiError extends Error {\n  public code: number;\n  public originalError?: unknown;\n\n  constructor(message: string, code: number = 5001, originalError?: unknown) {\n    super(message);\n    this.name = 'ApiError';\n    this.code = code;\n    this.originalError = originalError;\n  }\n\n  static fromResponse(response: ApiResponse<unknown>): ApiError {\n    return new ApiError(response.message, response.code);\n  }\n\n  static fromError(error: unknown): ApiError {\n    if (error instanceof ApiError) {\n      return error;\n    }\n    \n    if (error instanceof Error) {\n      return new ApiError(error.message, 5001, error);\n    }\n    \n    return new ApiError('Unknown error occurred', 5001, error);\n  }\n}\n\n/**\n * API响应处理工具\n */\nexport class ApiResponseHandler {\n  /**\n   * 检查响应是否成功\n   */\n  static isSuccess(response: ApiResponse<unknown>): boolean {\n    return response.code === 0;\n  }\n\n  /**\n   * 提取响应数据\n   */\n  static extractData<T>(response: ApiResponse<T>): T {\n    if (!this.isSuccess(response)) {\n      throw ApiError.fromResponse(response);\n    }\n    return response.data;\n  }\n\n  /**\n   * 处理分页响应\n   */\n  static handlePaginationResponse<T>(\n    response: ApiResponse<PaginationResponse<T>>\n  ): PaginationResponse<T> {\n    return this.extractData(response);\n  }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}