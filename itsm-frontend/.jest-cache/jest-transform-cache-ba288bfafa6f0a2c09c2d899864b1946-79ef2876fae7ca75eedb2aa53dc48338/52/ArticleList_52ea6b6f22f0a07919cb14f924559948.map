{"version":3,"names":["_default","Option","cov_10n0qg3968","s","_antd","Select","ArticleList","f","router","_navigation","useRouter","loading","setLoading","_react","useState","data","setData","total","setTotal","categories","setCategories","form","Form","useForm","query","setQuery","page","page_size","loadCategories","res","_api","KnowledgeApi","getCategories","b","e","console","error","loadData","values","validateFields","resp","getArticles","articles","message","useEffect","handleSearch","prev","handleDelete","id","Modal","confirm","title","content","onOk","deleteArticle","success","columns","dataIndex","width","ellipsis","render","text","record","_jsxruntime","jsx","onClick","push","tags","Fragment","map","tag","Tag","is_published","status","_constants","KnowledgeStatus","PUBLISHED","DRAFT","color","KnowledgeStatusColors","KnowledgeStatusLabels","date","_dayjs","default","format","key","_","jsxs","Space","size","Tooltip","Button","type","icon","_icons","EditOutlined","danger","DeleteOutlined","Card","bordered","Breadcrumb","style","marginBottom","Item","layout","name","Input","placeholder","allowClear","prefix","SearchOutlined","c","value","ReloadOutlined","flex","textAlign","PlusOutlined","Table","rowKey","dataSource","pagination","current","pageSize","onChange"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/modules/knowledge/components/ArticleList.tsx"],"sourcesContent":["'use client';\n\n/**\n * 知识库文章列表组件\n */\n\nimport React, { useState, useEffect } from 'react';\nimport {\n    Table, Tag, Button, Card, Space, Tooltip,\n    Input, Select, Form, message, Modal, Breadcrumb\n} from 'antd';\nimport {\n    SearchOutlined, EyeOutlined, EditOutlined,\n    PlusOutlined, ReloadOutlined, DeleteOutlined\n} from '@ant-design/icons';\nimport { useRouter } from 'next/navigation';\nimport dayjs from 'dayjs';\n\nimport { KnowledgeApi } from '../api';\nimport { KnowledgeStatus, KnowledgeStatusLabels, KnowledgeStatusColors } from '../constants';\nimport type { KnowledgeArticle, ArticleQuery } from '../types';\n\nconst { Option } = Select;\n\nconst ArticleList: React.FC = () => {\n    const router = useRouter();\n    const [loading, setLoading] = useState(false);\n    const [data, setData] = useState<KnowledgeArticle[]>([]);\n    const [total, setTotal] = useState(0);\n    const [categories, setCategories] = useState<string[]>([]);\n    const [form] = Form.useForm();\n\n    const [query, setQuery] = useState<ArticleQuery>({\n        page: 1,\n        page_size: 10,\n    });\n\n    const loadCategories = async () => {\n        try {\n            const res = await KnowledgeApi.getCategories();\n            setCategories(res || []);\n        } catch (e) {\n            console.error(e);\n        }\n    };\n\n    const loadData = async () => {\n        setLoading(true);\n        try {\n            const values = await form.validateFields();\n            const resp = await KnowledgeApi.getArticles({\n                ...query,\n                ...values,\n            });\n            setData(resp.articles || []);\n            setTotal(resp.total || 0);\n        } catch (error) {\n            console.error(error);\n            message.error('加载文章列表失败');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    useEffect(() => {\n        loadCategories();\n        loadData();\n    }, [query]);\n\n    const handleSearch = () => {\n        setQuery(prev => ({ ...prev, page: 1 }));\n    };\n\n    const handleDelete = (id: number) => {\n        Modal.confirm({\n            title: '确定要删除此文章吗？',\n            content: '删除后无法恢复。',\n            onOk: async () => {\n                try {\n                    await KnowledgeApi.deleteArticle(id);\n                    message.success('删除成功');\n                    loadData();\n                } catch (e) {\n                    message.error('删除失败');\n                }\n            }\n        });\n    };\n\n    const columns = [\n        {\n            title: 'ID',\n            dataIndex: 'id',\n            width: 70,\n        },\n        {\n            title: '标题',\n            dataIndex: 'title',\n            ellipsis: true,\n            render: (text: string, record: KnowledgeArticle) => (\n                <a onClick={() => router.push(`/knowledge/articles/${record.id}`)}>{text}</a>\n            )\n        },\n        {\n            title: '分类',\n            dataIndex: 'category',\n            width: 120,\n        },\n        {\n            title: '标签',\n            dataIndex: 'tags',\n            render: (tags: string[]) => (\n                <>\n                    {tags?.map(tag => (\n                        <Tag key={tag}>{tag}</Tag>\n                    ))}\n                </>\n            ),\n        },\n        {\n            title: '状态',\n            dataIndex: 'is_published',\n            width: 100,\n            render: (is_published: boolean) => {\n                const status = is_published ? KnowledgeStatus.PUBLISHED : KnowledgeStatus.DRAFT;\n                return (\n                    <Tag color={KnowledgeStatusColors[status]}>\n                        {KnowledgeStatusLabels[status]}\n                    </Tag>\n                );\n            },\n        },\n        {\n            title: '更新时间',\n            dataIndex: 'updated_at',\n            width: 160,\n            render: (date: string) => dayjs(date).format('YYYY-MM-DD HH:mm'),\n        },\n        {\n            title: '操作',\n            key: 'action',\n            width: 120,\n            render: (_: any, record: KnowledgeArticle) => (\n                <Space size=\"small\">\n                    <Tooltip title=\"编辑\">\n                        <Button\n                            type=\"text\"\n                            icon={<EditOutlined />}\n                            onClick={() => router.push(`/knowledge/articles/${record.id}/edit`)}\n                        />\n                    </Tooltip>\n                    <Tooltip title=\"删除\">\n                        <Button\n                            type=\"text\"\n                            danger\n                            icon={<DeleteOutlined />}\n                            onClick={() => handleDelete(record.id)}\n                        />\n                    </Tooltip>\n                </Space>\n            ),\n        },\n    ];\n\n    return (\n        <Card bordered={false}>\n            <Breadcrumb style={{ marginBottom: 16 }}>\n                <Breadcrumb.Item>首页</Breadcrumb.Item>\n                <Breadcrumb.Item>知识库</Breadcrumb.Item>\n                <Breadcrumb.Item>文章列表</Breadcrumb.Item>\n            </Breadcrumb>\n\n            <Form form={form} layout=\"inline\" style={{ marginBottom: 24 }}>\n                <Form.Item name=\"search\">\n                    <Input placeholder=\"搜索标题/内容\" allowClear prefix={<SearchOutlined />} />\n                </Form.Item>\n                <Form.Item name=\"category\">\n                    <Select placeholder=\"分类\" style={{ width: 140 }} allowClear>\n                        {categories.map(c => (\n                            <Option key={c} value={c}>{c}</Option>\n                        ))}\n                    </Select>\n                </Form.Item>\n                <Form.Item name=\"status\">\n                    <Select placeholder=\"状态\" style={{ width: 110 }} allowClear>\n                        <Option value=\"published\">已发布</Option>\n                        <Option value=\"draft\">草稿</Option>\n                    </Select>\n                </Form.Item>\n                <Form.Item>\n                    <Space>\n                        <Button type=\"primary\" onClick={handleSearch}>查询</Button>\n                        <Button icon={<ReloadOutlined />} onClick={loadData} />\n                    </Space>\n                </Form.Item>\n                <div style={{ flex: 1, textAlign: 'right' }}>\n                    <Button\n                        type=\"primary\"\n                        icon={<PlusOutlined />}\n                        onClick={() => router.push('/knowledge/articles/create')}\n                    >\n                        新建文章\n                    </Button>\n                </div>\n            </Form>\n\n            <Table\n                rowKey=\"id\"\n                columns={columns as any}\n                dataSource={data}\n                loading={loading}\n                pagination={{\n                    current: query.page,\n                    pageSize: query.page_size,\n                    total: total,\n                    onChange: (page, page_size) => setQuery(prev => ({ ...prev, page, page_size })),\n                }}\n            />\n        </Card>\n    );\n};\n\nexport default ArticleList;\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BA8NA;;;;;;WAAAA,QAAA;;;;;;;;yEAxN2C;;;kCAIpC;;;kCAIA;;;kCACmB;;;wEACR;;;kCAEW;;;mCACiD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAG9E,MAAM;EAAEC;AAAM,CAAE;AAAA;AAAA,CAAAC,cAAA,GAAAC,CAAA,QAAGC,KAAA,CAAAC,MAAM;AAAA;AAAAH,cAAA,GAAAC,CAAA;AAEzB,MAAMG,WAAA,GAAwBA,CAAA;EAAA;EAAAJ,cAAA,GAAAK,CAAA;EAC1B,MAAMC,MAAA;EAAA;EAAA,CAAAN,cAAA,GAAAC,CAAA,QAAS,IAAAM,WAAA,CAAAC,SAAS;EACxB,MAAM,CAACC,OAAA,EAASC,UAAA,CAAW;EAAA;EAAA,CAAAV,cAAA,GAAAC,CAAA,QAAG,IAAAU,MAAA,CAAAC,QAAQ,EAAC;EACvC,MAAM,CAACC,IAAA,EAAMC,OAAA,CAAQ;EAAA;EAAA,CAAAd,cAAA,GAAAC,CAAA,QAAG,IAAAU,MAAA,CAAAC,QAAQ,EAAqB,EAAE;EACvD,MAAM,CAACG,KAAA,EAAOC,QAAA,CAAS;EAAA;EAAA,CAAAhB,cAAA,GAAAC,CAAA,QAAG,IAAAU,MAAA,CAAAC,QAAQ,EAAC;EACnC,MAAM,CAACK,UAAA,EAAYC,aAAA,CAAc;EAAA;EAAA,CAAAlB,cAAA,GAAAC,CAAA,QAAG,IAAAU,MAAA,CAAAC,QAAQ,EAAW,EAAE;EACzD,MAAM,CAACO,IAAA,CAAK;EAAA;EAAA,CAAAnB,cAAA,GAAAC,CAAA,QAAGC,KAAA,CAAAkB,IAAI,CAACC,OAAO;EAE3B,MAAM,CAACC,KAAA,EAAOC,QAAA,CAAS;EAAA;EAAA,CAAAvB,cAAA,GAAAC,CAAA,QAAG,IAAAU,MAAA,CAAAC,QAAQ,EAAe;IAC7CY,IAAA,EAAM;IACNC,SAAA,EAAW;EACf;EAAA;EAAAzB,cAAA,GAAAC,CAAA;EAEA,MAAMyB,cAAA,GAAiB,MAAAA,CAAA;IAAA;IAAA1B,cAAA,GAAAK,CAAA;IAAAL,cAAA,GAAAC,CAAA;IACnB,IAAI;MACA,MAAM0B,GAAA;MAAA;MAAA,CAAA3B,cAAA,GAAAC,CAAA,QAAM,MAAM2B,IAAA,CAAAC,YAAY,CAACC,aAAa;MAAA;MAAA9B,cAAA,GAAAC,CAAA;MAC5CiB,aAAA;MAAc;MAAA,CAAAlB,cAAA,GAAA+B,CAAA,WAAAJ,GAAA;MAAA;MAAA,CAAA3B,cAAA,GAAA+B,CAAA,WAAO,EAAE;IAC3B,EAAE,OAAOC,CAAA,EAAG;MAAA;MAAAhC,cAAA,GAAAC,CAAA;MACRgC,OAAA,CAAQC,KAAK,CAACF,CAAA;IAClB;EACJ;EAAA;EAAAhC,cAAA,GAAAC,CAAA;EAEA,MAAMkC,QAAA,GAAW,MAAAA,CAAA;IAAA;IAAAnC,cAAA,GAAAK,CAAA;IAAAL,cAAA,GAAAC,CAAA;IACbS,UAAA,CAAW;IAAA;IAAAV,cAAA,GAAAC,CAAA;IACX,IAAI;MACA,MAAMmC,MAAA;MAAA;MAAA,CAAApC,cAAA,GAAAC,CAAA,QAAS,MAAMkB,IAAA,CAAKkB,cAAc;MACxC,MAAMC,IAAA;MAAA;MAAA,CAAAtC,cAAA,GAAAC,CAAA,QAAO,MAAM2B,IAAA,CAAAC,YAAY,CAACU,WAAW,CAAC;QACxC,GAAGjB,KAAK;QACR,GAAGc;MACP;MAAA;MAAApC,cAAA,GAAAC,CAAA;MACAa,OAAA;MAAQ;MAAA,CAAAd,cAAA,GAAA+B,CAAA,WAAAO,IAAA,CAAKE,QAAQ;MAAA;MAAA,CAAAxC,cAAA,GAAA+B,CAAA,WAAI,EAAE;MAAA;MAAA/B,cAAA,GAAAC,CAAA;MAC3Be,QAAA;MAAS;MAAA,CAAAhB,cAAA,GAAA+B,CAAA,WAAAO,IAAA,CAAKvB,KAAK;MAAA;MAAA,CAAAf,cAAA,GAAA+B,CAAA,WAAI;IAC3B,EAAE,OAAOG,KAAA,EAAO;MAAA;MAAAlC,cAAA,GAAAC,CAAA;MACZgC,OAAA,CAAQC,KAAK,CAACA,KAAA;MAAA;MAAAlC,cAAA,GAAAC,CAAA;MACdC,KAAA,CAAAuC,OAAO,CAACP,KAAK,CAAC;IAClB,UAAU;MAAA;MAAAlC,cAAA,GAAAC,CAAA;MACNS,UAAA,CAAW;IACf;EACJ;EAAA;EAAAV,cAAA,GAAAC,CAAA;EAEA,IAAAU,MAAA,CAAA+B,SAAS,EAAC;IAAA;IAAA1C,cAAA,GAAAK,CAAA;IAAAL,cAAA,GAAAC,CAAA;IACNyB,cAAA;IAAA;IAAA1B,cAAA,GAAAC,CAAA;IACAkC,QAAA;EACJ,GAAG,CAACb,KAAA,CAAM;EAAA;EAAAtB,cAAA,GAAAC,CAAA;EAEV,MAAM0C,YAAA,GAAeA,CAAA;IAAA;IAAA3C,cAAA,GAAAK,CAAA;IAAAL,cAAA,GAAAC,CAAA;IACjBsB,QAAA,CAASqB,IAAA,IAAS;MAAA;MAAA5C,cAAA,GAAAK,CAAA;MAAAL,cAAA,GAAAC,CAAA;MAAA;QAAE,GAAG2C,IAAI;QAAEpB,IAAA,EAAM;MAAE;IAAA;EACzC;EAAA;EAAAxB,cAAA,GAAAC,CAAA;EAEA,MAAM4C,YAAA,GAAgBC,EAAA;IAAA;IAAA9C,cAAA,GAAAK,CAAA;IAAAL,cAAA,GAAAC,CAAA;IAClBC,KAAA,CAAA6C,KAAK,CAACC,OAAO,CAAC;MACVC,KAAA,EAAO;MACPC,OAAA,EAAS;MACTC,IAAA,EAAM,MAAAA,CAAA;QAAA;QAAAnD,cAAA,GAAAK,CAAA;QAAAL,cAAA,GAAAC,CAAA;QACF,IAAI;UAAA;UAAAD,cAAA,GAAAC,CAAA;UACA,MAAM2B,IAAA,CAAAC,YAAY,CAACuB,aAAa,CAACN,EAAA;UAAA;UAAA9C,cAAA,GAAAC,CAAA;UACjCC,KAAA,CAAAuC,OAAO,CAACY,OAAO,CAAC;UAAA;UAAArD,cAAA,GAAAC,CAAA;UAChBkC,QAAA;QACJ,EAAE,OAAOH,CAAA,EAAG;UAAA;UAAAhC,cAAA,GAAAC,CAAA;UACRC,KAAA,CAAAuC,OAAO,CAACP,KAAK,CAAC;QAClB;MACJ;IACJ;EACJ;EAEA,MAAMoB,OAAA;EAAA;EAAA,CAAAtD,cAAA,GAAAC,CAAA,QAAU,CACZ;IACIgD,KAAA,EAAO;IACPM,SAAA,EAAW;IACXC,KAAA,EAAO;EACX,GACA;IACIP,KAAA,EAAO;IACPM,SAAA,EAAW;IACXE,QAAA,EAAU;IACVC,MAAA,EAAQA,CAACC,IAAA,EAAcC,MAAA,KACnB;MAAA;MAAA5D,cAAA,GAAAK,CAAA;MAAAL,cAAA,GAAAC,CAAA;MAAA,OADmB,aACnB,IAAA4D,WAAA,CAAAC,GAAA,EAAC;QAAEC,OAAA,EAASA,CAAA,KAAM;UAAA;UAAA/D,cAAA,GAAAK,CAAA;UAAAL,cAAA,GAAAC,CAAA;UAAA,OAAAK,MAAA,CAAO0D,IAAI,CAAC,uBAAuBJ,MAAA,CAAOd,EAAE,EAAE;QAAA;kBAAIa;;;EAE5E,GACA;IACIV,KAAA,EAAO;IACPM,SAAA,EAAW;IACXC,KAAA,EAAO;EACX,GACA;IACIP,KAAA,EAAO;IACPM,SAAA,EAAW;IACXG,MAAA,EAASO,IAAA,IACL;MAAA;MAAAjE,cAAA,GAAAK,CAAA;MAAAL,cAAA,GAAAC,CAAA;MAAA,OADK,aACL,IAAA4D,WAAA,CAAAC,GAAA,EAAAD,WAAA,CAAAK,QAAA;kBACKD,IAAA,EAAME,GAAA,CAAIC,GAAA,IACP;UAAA;UAAApE,cAAA,GAAAK,CAAA;UAAAL,cAAA,GAAAC,CAAA;UAAA,OADO,aACP,IAAA4D,WAAA,CAAAC,GAAA,EAAC5D,KAAA,CAAAmE,GAAG;sBAAYD;aAANA,GAAA;QAAA;;;EAI1B,GACA;IACInB,KAAA,EAAO;IACPM,SAAA,EAAW;IACXC,KAAA,EAAO;IACPE,MAAA,EAASY,YAAA;MAAA;MAAAtE,cAAA,GAAAK,CAAA;MACL,MAAMkE,MAAA;MAAA;MAAA,CAAAvE,cAAA,GAAAC,CAAA,QAASqE,YAAA;MAAA;MAAA,CAAAtE,cAAA,GAAA+B,CAAA,WAAeyC,UAAA,CAAAC,eAAe,CAACC,SAAS;MAAA;MAAA,CAAA1E,cAAA,GAAA+B,CAAA,WAAGyC,UAAA,CAAAC,eAAe,CAACE,KAAK;MAAA;MAAA3E,cAAA,GAAAC,CAAA;MAC/E,oBACI,IAAA4D,WAAA,CAAAC,GAAA,EAAC5D,KAAA,CAAAmE,GAAG;QAACO,KAAA,EAAOJ,UAAA,CAAAK,qBAAqB,CAACN,MAAA,CAAO;kBACpCC,UAAA,CAAAM,qBAAqB,CAACP,MAAA;;IAGnC;EACJ,GACA;IACItB,KAAA,EAAO;IACPM,SAAA,EAAW;IACXC,KAAA,EAAO;IACPE,MAAA,EAASqB,IAAA,IAAiB;MAAA;MAAA/E,cAAA,GAAAK,CAAA;MAAAL,cAAA,GAAAC,CAAA;MAAA,WAAA+E,MAAA,CAAAC,OAAK,EAACF,IAAA,EAAMG,MAAM,CAAC;IAAA;EACjD,GACA;IACIjC,KAAA,EAAO;IACPkC,GAAA,EAAK;IACL3B,KAAA,EAAO;IACPE,MAAA,EAAQA,CAAC0B,CAAA,EAAQxB,MAAA,KACb;MAAA;MAAA5D,cAAA,GAAAK,CAAA;MAAAL,cAAA,GAAAC,CAAA;MAAA,OADa,aACb,IAAA4D,WAAA,CAAAwB,IAAA,EAACnF,KAAA,CAAAoF,KAAK;QAACC,IAAA,EAAK;gCACR,IAAA1B,WAAA,CAAAC,GAAA,EAAC5D,KAAA,CAAAsF,OAAO;UAACvC,KAAA,EAAM;oBACX,iBAAAY,WAAA,CAAAC,GAAA,EAAC5D,KAAA,CAAAuF,MAAM;YACHC,IAAA,EAAK;YACLC,IAAA,eAAM,IAAA9B,WAAA,CAAAC,GAAA,EAAC8B,MAAA,CAAAC,YAAY;YACnB9B,OAAA,EAASA,CAAA,KAAM;cAAA;cAAA/D,cAAA,GAAAK,CAAA;cAAAL,cAAA,GAAAC,CAAA;cAAA,OAAAK,MAAA,CAAO0D,IAAI,CAAC,uBAAuBJ,MAAA,CAAOd,EAAE,OAAO;YAAA;;yBAG1E,IAAAe,WAAA,CAAAC,GAAA,EAAC5D,KAAA,CAAAsF,OAAO;UAACvC,KAAA,EAAM;oBACX,iBAAAY,WAAA,CAAAC,GAAA,EAAC5D,KAAA,CAAAuF,MAAM;YACHC,IAAA,EAAK;YACLI,MAAM;YACNH,IAAA,eAAM,IAAA9B,WAAA,CAAAC,GAAA,EAAC8B,MAAA,CAAAG,cAAc;YACrBhC,OAAA,EAASA,CAAA,KAAM;cAAA;cAAA/D,cAAA,GAAAK,CAAA;cAAAL,cAAA,GAAAC,CAAA;cAAA,OAAA4C,YAAA,CAAae,MAAA,CAAOd,EAAE;YAAA;;;;;EAKzD,EACH;EAAA;EAAA9C,cAAA,GAAAC,CAAA;EAED,oBACI,IAAA4D,WAAA,CAAAwB,IAAA,EAACnF,KAAA,CAAA8F,IAAI;IAACC,QAAA,EAAU;4BACZ,IAAApC,WAAA,CAAAwB,IAAA,EAACnF,KAAA,CAAAgG,UAAU;MAACC,KAAA,EAAO;QAAEC,YAAA,EAAc;MAAG;8BAClC,IAAAvC,WAAA,CAAAC,GAAA,EAAC5D,KAAA,CAAAgG,UAAU,CAACG,IAAI;kBAAC;uBACjB,IAAAxC,WAAA,CAAAC,GAAA,EAAC5D,KAAA,CAAAgG,UAAU,CAACG,IAAI;kBAAC;uBACjB,IAAAxC,WAAA,CAAAC,GAAA,EAAC5D,KAAA,CAAAgG,UAAU,CAACG,IAAI;kBAAC;;qBAGrB,IAAAxC,WAAA,CAAAwB,IAAA,EAACnF,KAAA,CAAAkB,IAAI;MAACD,IAAA,EAAMA,IAAA;MAAMmF,MAAA,EAAO;MAASH,KAAA,EAAO;QAAEC,YAAA,EAAc;MAAG;8BACxD,IAAAvC,WAAA,CAAAC,GAAA,EAAC5D,KAAA,CAAAkB,IAAI,CAACiF,IAAI;QAACE,IAAA,EAAK;kBACZ,iBAAA1C,WAAA,CAAAC,GAAA,EAAC5D,KAAA,CAAAsG,KAAK;UAACC,WAAA,EAAY;UAAUC,UAAU;UAACC,MAAA,eAAQ,IAAA9C,WAAA,CAAAC,GAAA,EAAC8B,MAAA,CAAAgB,cAAc;;uBAEnE,IAAA/C,WAAA,CAAAC,GAAA,EAAC5D,KAAA,CAAAkB,IAAI,CAACiF,IAAI;QAACE,IAAA,EAAK;kBACZ,iBAAA1C,WAAA,CAAAC,GAAA,EAAC5D,KAAA,CAAAC,MAAM;UAACsG,WAAA,EAAY;UAAKN,KAAA,EAAO;YAAE3C,KAAA,EAAO;UAAI;UAAGkD,UAAU;oBACrDzF,UAAA,CAAWkD,GAAG,CAAC0C,CAAA,IACZ;YAAA;YAAA7G,cAAA,GAAAK,CAAA;YAAAL,cAAA,GAAAC,CAAA;YAAA,OADY,aACZ,IAAA4D,WAAA,CAAAC,GAAA,EAAC/D,MAAA;cAAe+G,KAAA,EAAOD,CAAA;wBAAIA;eAAdA,CAAA;UAAA;;uBAIzB,IAAAhD,WAAA,CAAAC,GAAA,EAAC5D,KAAA,CAAAkB,IAAI,CAACiF,IAAI;QAACE,IAAA,EAAK;kBACZ,iBAAA1C,WAAA,CAAAwB,IAAA,EAACnF,KAAA,CAAAC,MAAM;UAACsG,WAAA,EAAY;UAAKN,KAAA,EAAO;YAAE3C,KAAA,EAAO;UAAI;UAAGkD,UAAU;kCACtD,IAAA7C,WAAA,CAAAC,GAAA,EAAC/D,MAAA;YAAO+G,KAAA,EAAM;sBAAY;2BAC1B,IAAAjD,WAAA,CAAAC,GAAA,EAAC/D,MAAA;YAAO+G,KAAA,EAAM;sBAAQ;;;uBAG9B,IAAAjD,WAAA,CAAAC,GAAA,EAAC5D,KAAA,CAAAkB,IAAI,CAACiF,IAAI;kBACN,iBAAAxC,WAAA,CAAAwB,IAAA,EAACnF,KAAA,CAAAoF,KAAK;kCACF,IAAAzB,WAAA,CAAAC,GAAA,EAAC5D,KAAA,CAAAuF,MAAM;YAACC,IAAA,EAAK;YAAU3B,OAAA,EAASpB,YAAA;sBAAc;2BAC9C,IAAAkB,WAAA,CAAAC,GAAA,EAAC5D,KAAA,CAAAuF,MAAM;YAACE,IAAA,eAAM,IAAA9B,WAAA,CAAAC,GAAA,EAAC8B,MAAA,CAAAmB,cAAc;YAAKhD,OAAA,EAAS5B;;;uBAGnD,IAAA0B,WAAA,CAAAC,GAAA,EAAC;QAAIqC,KAAA,EAAO;UAAEa,IAAA,EAAM;UAAGC,SAAA,EAAW;QAAQ;kBACtC,iBAAApD,WAAA,CAAAC,GAAA,EAAC5D,KAAA,CAAAuF,MAAM;UACHC,IAAA,EAAK;UACLC,IAAA,eAAM,IAAA9B,WAAA,CAAAC,GAAA,EAAC8B,MAAA,CAAAsB,YAAY;UACnBnD,OAAA,EAASA,CAAA,KAAM;YAAA;YAAA/D,cAAA,GAAAK,CAAA;YAAAL,cAAA,GAAAC,CAAA;YAAA,OAAAK,MAAA,CAAO0D,IAAI,CAAC;UAAA;oBAC9B;;;qBAMT,IAAAH,WAAA,CAAAC,GAAA,EAAC5D,KAAA,CAAAiH,KAAK;MACFC,MAAA,EAAO;MACP9D,OAAA,EAASA,OAAA;MACT+D,UAAA,EAAYxG,IAAA;MACZJ,OAAA,EAASA,OAAA;MACT6G,UAAA,EAAY;QACRC,OAAA,EAASjG,KAAA,CAAME,IAAI;QACnBgG,QAAA,EAAUlG,KAAA,CAAMG,SAAS;QACzBV,KAAA,EAAOA,KAAA;QACP0G,QAAA,EAAUA,CAACjG,IAAA,EAAMC,SAAA,KAAc;UAAA;UAAAzB,cAAA,GAAAK,CAAA;UAAAL,cAAA,GAAAC,CAAA;UAAA,OAAAsB,QAAA,CAASqB,IAAA,IAAS;YAAA;YAAA5C,cAAA,GAAAK,CAAA;YAAAL,cAAA,GAAAC,CAAA;YAAA;cAAE,GAAG2C,IAAI;cAAEpB,IAAA;cAAMC;YAAU;UAAA;QAAA;MAChF;;;AAIhB;MAEA3B,QAAA;AAAA;AAAA,CAAAE,cAAA,GAAAC,CAAA,QAAeG,WAAA","ignoreList":[]}