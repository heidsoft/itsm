{"version":3,"names":["_default","PeakHoursChart","cov_100vvvg5oh","s","_react","default","memo","data","f","validData","filter","item","b","hour","undefined","count","length","_jsxruntime","jsx","_DashboardChartCard","DashboardChartCard","title","subtitle","icon","_lucidereact","TrendingUp","style","width","height","iconColor","display","alignItems","justifyContent","color","config","map","xField","yField","columnStyle","radius","smooth","label","tooltip","formatter","datum","name","value","responsive","peakHour","reduce","max","totalCount","sum","extra","jsxs","_antd","Tag","_charts","Column","displayName"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/app/(main)/dashboard/components/PeakHoursChart.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { Tag } from 'antd';\nimport { Column } from '@ant-design/charts';\nimport { TrendingUp } from 'lucide-react';\nimport { DashboardChartCard } from './DashboardChartCard';\nimport { PeakHourData } from '../types/dashboard.types';\n\nconst PeakHoursChart: React.FC<{ data: PeakHourData[] }> = React.memo(({ data }) => {\n  // 确保数据有效性\n  const validData = data.filter(item => item && item.hour !== undefined && typeof item.count === 'number');\n  \n  // 如果没有有效数据，显示空状态\n  if (validData.length === 0) {\n    return (\n      <DashboardChartCard\n        title='高峰时段分析'\n        subtitle='24小时工单创建分布'\n        icon={<TrendingUp style={{ width: 20, height: 20 }} />}\n        iconColor='#06b6d4'\n      >\n        <div style={{ \n          display: 'flex', \n          alignItems: 'center', \n          justifyContent: 'center', \n          height: '280px',\n          color: '#999'\n        }}>\n          暂无数据\n        </div>\n      </DashboardChartCard>\n    );\n  }\n\n  const config = {\n    data: validData.map(item => ({\n      hour: `${item.hour}:00`,\n      count: item.count,\n    })),\n    xField: 'hour',\n    yField: 'count',\n    color: '#06b6d4',\n    columnStyle: {\n      radius: [8, 8, 0, 0],\n    },\n    smooth: true,\n    label: false,\n    tooltip: {\n      formatter: (datum: any) => ({\n        name: '工单数',\n        value: `${datum.count}个`,\n      }),\n    },\n    responsive: true,\n  };\n\n  const peakHour = validData.reduce((max, item) => (item.count > max.count ? item : max), validData[0]);\n  const totalCount = validData.reduce((sum, item) => sum + item.count, 0);\n\n  return (\n    <DashboardChartCard\n      title='高峰时段分析'\n      subtitle='24小时工单创建分布'\n      icon={<TrendingUp style={{ width: 20, height: 20 }} />}\n      iconColor='#06b6d4'\n      extra={\n        <Tag color='cyan'>\n          高峰时段: {peakHour.hour}:00\n        </Tag>\n      }\n    >\n      <div style={{ height: '280px' }}>\n        <Column {...config} />\n      </div>\n          </DashboardChartCard>  );\n});\n\nPeakHoursChart.displayName = 'PeakHoursChart';\n\nexport default PeakHoursChart;\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAgFA;;;;;;WAAAA,QAAA;;;;;;;;wEA9EkB;;;kCACE;;;kCACG;;;kCACI;;;kCACQ;;;;;;;;;;;;;;;AAGnC,MAAMC,cAAA;AAAA;AAAA,cAAAC,cAAA,GAAAC,CAAA,QAAqDC,MAAA,CAAAC,OAAK,CAACC,IAAI,CAAC,CAAC;EAAEC;AAAI,CAAE;EAAA;EAAAL,cAAA,GAAAM,CAAA;EAC7E;EACA,MAAMC,SAAA;EAAA;EAAA,CAAAP,cAAA,GAAAC,CAAA,QAAYI,IAAA,CAAKG,MAAM,CAACC,IAAA,IAAQ;IAAA;IAAAT,cAAA,GAAAM,CAAA;IAAAN,cAAA,GAAAC,CAAA;IAAA,kCAAAD,cAAA,GAAAU,CAAA,UAAAD,IAAA;IAAA;IAAA,CAAAT,cAAA,GAAAU,CAAA,UAAQD,IAAA,CAAKE,IAAI,KAAKC,SAAA;IAAA;IAAA,CAAAZ,cAAA,GAAAU,CAAA,UAAa,OAAOD,IAAA,CAAKI,KAAK,KAAK;EAAA;EAE/F;EAAA;EAAAb,cAAA,GAAAC,CAAA;EACA,IAAIM,SAAA,CAAUO,MAAM,KAAK,GAAG;IAAA;IAAAd,cAAA,GAAAU,CAAA;IAAAV,cAAA,GAAAC,CAAA;IAC1B,oBACE,IAAAc,WAAA,CAAAC,GAAA,EAACC,mBAAA,CAAAC,kBAAkB;MACjBC,KAAA,EAAM;MACNC,QAAA,EAAS;MACTC,IAAA,eAAM,IAAAN,WAAA,CAAAC,GAAA,EAACM,YAAA,CAAAC,UAAU;QAACC,KAAA,EAAO;UAAEC,KAAA,EAAO;UAAIC,MAAA,EAAQ;QAAG;;MACjDC,SAAA,EAAU;gBAEV,iBAAAZ,WAAA,CAAAC,GAAA,EAAC;QAAIQ,KAAA,EAAO;UACVI,OAAA,EAAS;UACTC,UAAA,EAAY;UACZC,cAAA,EAAgB;UAChBJ,MAAA,EAAQ;UACRK,KAAA,EAAO;QACT;kBAAG;;;EAKT;EAAA;EAAA;IAAA/B,cAAA,GAAAU,CAAA;EAAA;EAEA,MAAMsB,MAAA;EAAA;EAAA,CAAAhC,cAAA,GAAAC,CAAA,QAAS;IACbI,IAAA,EAAME,SAAA,CAAU0B,GAAG,CAACxB,IAAA,IAAS;MAAA;MAAAT,cAAA,GAAAM,CAAA;MAAAN,cAAA,GAAAC,CAAA;MAAA;QAC3BU,IAAA,EAAM,GAAGF,IAAA,CAAKE,IAAI,KAAK;QACvBE,KAAA,EAAOJ,IAAA,CAAKI;MACd;IAAA;IACAqB,MAAA,EAAQ;IACRC,MAAA,EAAQ;IACRJ,KAAA,EAAO;IACPK,WAAA,EAAa;MACXC,MAAA,EAAQ,CAAC,GAAG,GAAG,GAAG;IACpB;IACAC,MAAA,EAAQ;IACRC,KAAA,EAAO;IACPC,OAAA,EAAS;MACPC,SAAA,EAAYC,KAAA,IAAgB;QAAA;QAAA1C,cAAA,GAAAM,CAAA;QAAAN,cAAA,GAAAC,CAAA;QAAA;UAC1B0C,IAAA,EAAM;UACNC,KAAA,EAAO,GAAGF,KAAA,CAAM7B,KAAK;QACvB;MAAA;IACF;IACAgC,UAAA,EAAY;EACd;EAEA,MAAMC,QAAA;EAAA;EAAA,CAAA9C,cAAA,GAAAC,CAAA,QAAWM,SAAA,CAAUwC,MAAM,CAAC,CAACC,GAAA,EAAKvC,IAAA,KAAU;IAAA;IAAAT,cAAA,GAAAM,CAAA;IAAAN,cAAA,GAAAC,CAAA;IAAA,OAAAQ,IAAA,CAAKI,KAAK,GAAGmC,GAAA,CAAInC,KAAK;IAAA;IAAA,CAAAb,cAAA,GAAAU,CAAA,UAAGD,IAAA;IAAA;IAAA,CAAAT,cAAA,GAAAU,CAAA,UAAOsC,GAAA;EAAA,GAAMzC,SAAS,CAAC,EAAE;EACpG,MAAM0C,UAAA;EAAA;EAAA,CAAAjD,cAAA,GAAAC,CAAA,QAAaM,SAAA,CAAUwC,MAAM,CAAC,CAACG,GAAA,EAAKzC,IAAA,KAAS;IAAA;IAAAT,cAAA,GAAAM,CAAA;IAAAN,cAAA,GAAAC,CAAA;IAAA,OAAAiD,GAAA,GAAMzC,IAAA,CAAKI,KAAK;EAAL,CAAK,EAAE;EAAA;EAAAb,cAAA,GAAAC,CAAA;EAErE,oBACE,IAAAc,WAAA,CAAAC,GAAA,EAACC,mBAAA,CAAAC,kBAAkB;IACjBC,KAAA,EAAM;IACNC,QAAA,EAAS;IACTC,IAAA,eAAM,IAAAN,WAAA,CAAAC,GAAA,EAACM,YAAA,CAAAC,UAAU;MAACC,KAAA,EAAO;QAAEC,KAAA,EAAO;QAAIC,MAAA,EAAQ;MAAG;;IACjDC,SAAA,EAAU;IACVwB,KAAA,eACE,IAAApC,WAAA,CAAAqC,IAAA,EAACC,KAAA,CAAAC,GAAG;MAACvB,KAAA,EAAM;iBAAO,UACTe,QAAA,CAASnC,IAAI,EAAC;;cAIzB,iBAAAI,WAAA,CAAAC,GAAA,EAAC;MAAIQ,KAAA,EAAO;QAAEE,MAAA,EAAQ;MAAQ;gBAC5B,iBAAAX,WAAA,CAAAC,GAAA,EAACuC,OAAA,CAAAC,MAAM;QAAE,GAAGxB;;;;AAGpB;AAAA;AAAAhC,cAAA,GAAAC,CAAA;AAEAF,cAAA,CAAe0D,WAAW,GAAG;MAE7B3D,QAAA;AAAA;AAAA,CAAAE,cAAA,GAAAC,CAAA,QAAeF,cAAA","ignoreList":[]}