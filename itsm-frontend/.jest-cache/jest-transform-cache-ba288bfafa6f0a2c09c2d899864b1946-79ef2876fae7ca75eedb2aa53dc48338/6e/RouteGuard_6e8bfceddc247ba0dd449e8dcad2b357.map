{"version":3,"names":["cov_2g9n27krdc","actualCoverage","s","RouteGuard","f","default","_default","useAuth","withRouteGuard","AuthService","TOKEN_KEY","_tokenstorage","STORAGE_KEYS","ACCESS_TOKEN","USER_KEY","getToken","window","b","migrateLegacyAuthStorage","localStorage","getItem","setToken","token","setItem","removeToken","removeItem","getUser","userStr","JSON","parse","setUser","user","stringify","validateToken","_token","Promise","resolve","setTimeout","mockUser","id","username","email","roles","permissions","resource","action","isActive","console","error","login","password","Date","now","logout","authState","setAuthState","_react","useState","isAuthenticated","isLoading","router","_navigation","useRouter","useEffect","initAuth","cachedUser","prev","result","push","LoginPage","onLogin","loading","setLoading","setError","handleSubmit","e","preventDefault","formData","FormData","currentTarget","get","success","_jsxruntime","jsx","className","jsxs","_lucidereact","Lock","size","onSubmit","htmlFor","name","type","required","placeholder","defaultValue","disabled","_antd","Spin","PermissionGuard","children","route","hasPermission","_routeconfig","RoutePermissionChecker","hasRoutePermission","Result","status","title","subTitle","icon","AlertTriangle","extra","Button","onClick","history","back","Fragment","fallback","pathname","usePathname","publicRoutes","isPublicRoute","includes","location","href","meta","requireAuth","Component","GuardedComponent","props","displayName"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/components/layout/RouteGuard.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { useRouter, usePathname } from 'next/navigation';\nimport { Spin, Result, Button } from 'antd';\nimport { Lock, AlertTriangle } from 'lucide-react';\nimport {\n  RoutePermissionChecker,\n  type RouteConfig,\n  type RoutePermission,\n} from '../../lib/router/route-config';\nimport { STORAGE_KEYS, migrateLegacyAuthStorage } from '@/lib/auth/token-storage';\n\ninterface User {\n  id: number;\n  username: string;\n  email: string;\n  roles: string[];\n  permissions: RoutePermission[];\n  isActive: boolean;\n}\n\ninterface AuthState {\n  user: User | null;\n  token: string | null;\n  isAuthenticated: boolean;\n  isLoading: boolean;\n}\n\ninterface RouteGuardProps {\n  children: React.ReactNode;\n  route?: RouteConfig;\n  fallback?: React.ReactNode;\n}\n\n// 模拟认证服务\nclass AuthService {\n  private static readonly TOKEN_KEY = STORAGE_KEYS.ACCESS_TOKEN;\n  private static readonly USER_KEY = 'itsm_user';\n\n  static getToken(): string | null {\n    if (typeof window === 'undefined') return null;\n    migrateLegacyAuthStorage();\n    return localStorage.getItem(this.TOKEN_KEY);\n  }\n\n  static setToken(token: string): void {\n    if (typeof window === 'undefined') return;\n    localStorage.setItem(this.TOKEN_KEY, token);\n  }\n\n  static removeToken(): void {\n    if (typeof window === 'undefined') return;\n    localStorage.removeItem(this.TOKEN_KEY);\n    localStorage.removeItem(this.USER_KEY);\n  }\n\n  static getUser(): User | null {\n    if (typeof window === 'undefined') return null;\n    const userStr = localStorage.getItem(this.USER_KEY);\n    if (!userStr) return null;\n\n    try {\n      return JSON.parse(userStr);\n    } catch {\n      return null;\n    }\n  }\n\n  static setUser(user: User): void {\n    if (typeof window === 'undefined') return;\n    localStorage.setItem(this.USER_KEY, JSON.stringify(user));\n  }\n\n  static async validateToken(_token: string): Promise<User | null> {\n    try {\n      // 模拟API调用验证token\n      await new Promise(resolve => setTimeout(resolve, 500));\n\n      // 模拟用户数据\n      const mockUser: User = {\n        id: 1,\n        username: 'admin',\n        email: 'admin@example.com',\n        roles: ['admin', 'user'],\n        permissions: [\n          { resource: 'dashboard', action: 'read' },\n          { resource: 'ticket', action: 'read' },\n          { resource: 'ticket', action: 'create' },\n          { resource: 'ticket', action: 'update' },\n          { resource: 'incident', action: 'read' },\n          { resource: 'incident', action: 'create' },\n          { resource: 'problem', action: 'read' },\n          { resource: 'change', action: 'read' },\n          { resource: 'knowledge', action: 'read' },\n          { resource: 'cmdb', action: 'read' },\n          { resource: 'report', action: 'read' },\n          { resource: 'admin', action: 'read' },\n          { resource: 'user', action: 'manage' },\n          { resource: 'role', action: 'manage' },\n        ],\n        isActive: true,\n      };\n\n      return mockUser;\n    } catch {\n      console.error('Token validation failed');\n      return null;\n    }\n  }\n\n  static async login(\n    username: string,\n    password: string\n  ): Promise<{ user: User; token: string } | null> {\n    try {\n      // 模拟登录API调用\n      await new Promise(resolve => setTimeout(resolve, 1000));\n\n      if (username === 'admin' && password === 'admin123') {\n        const token = 'mock_jwt_token_' + Date.now();\n        const user = await this.validateToken(token);\n\n        if (user) {\n          this.setToken(token);\n          this.setUser(user);\n          return { user, token };\n        }\n      }\n\n      return null;\n    } catch (error) {\n      console.error('Login failed:', error);\n      return null;\n    }\n  }\n\n  static logout(): void {\n    this.removeToken();\n  }\n}\n\n// 认证Hook\nexport const useAuth = () => {\n  const [authState, setAuthState] = useState<AuthState>({\n    user: null,\n    token: null,\n    isAuthenticated: false,\n    isLoading: true,\n  });\n\n  const router = useRouter();\n\n  useEffect(() => {\n    const initAuth = async () => {\n      const token = AuthService.getToken();\n      const cachedUser = AuthService.getUser();\n\n      if (token && cachedUser) {\n        // 验证token是否仍然有效\n        const user = await AuthService.validateToken(token);\n        if (user) {\n          setAuthState({\n            user,\n            token,\n            isAuthenticated: true,\n            isLoading: false,\n          });\n        } else {\n          // Token无效，清除本地存储\n          AuthService.logout();\n          setAuthState({\n            user: null,\n            token: null,\n            isAuthenticated: false,\n            isLoading: false,\n          });\n        }\n      } else {\n        setAuthState({\n          user: null,\n          token: null,\n          isAuthenticated: false,\n          isLoading: false,\n        });\n      }\n    };\n\n    initAuth();\n  }, []);\n\n  const login = async (username: string, password: string): Promise<boolean> => {\n    setAuthState(prev => ({ ...prev, isLoading: true }));\n\n    const result = await AuthService.login(username, password);\n\n    if (result) {\n      setAuthState({\n        user: result.user,\n        token: result.token,\n        isAuthenticated: true,\n        isLoading: false,\n      });\n      return true;\n    } else {\n      setAuthState(prev => ({ ...prev, isLoading: false }));\n      return false;\n    }\n  };\n\n  const logout = () => {\n    AuthService.logout();\n    setAuthState({\n      user: null,\n      token: null,\n      isAuthenticated: false,\n      isLoading: false,\n    });\n    router.push('/login');\n  };\n\n  return {\n    ...authState,\n    login,\n    logout,\n  };\n};\n\n// 登录页面组件\nconst LoginPage: React.FC<{\n  onLogin: (username: string, password: string) => Promise<boolean>;\n}> = ({ onLogin }) => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(null);\n\n    const formData = new FormData(e.currentTarget);\n    const username = formData.get('username') as string;\n    const password = formData.get('password') as string;\n\n    try {\n      const success = await onLogin(username, password);\n      if (!success) {\n        setError('用户名或密码错误');\n      }\n    } catch (error) {\n      setError('登录失败，请稍后重试');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className='min-h-screen flex items-center justify-center bg-gray-50'>\n      <div className='max-w-md w-full space-y-8'>\n        <div className='text-center'>\n          <Lock size={48} className='mx-auto text-blue-600' />\n          <h2 className='mt-6 text-3xl font-extrabold text-gray-900'>ITSM 系统登录</h2>\n          <p className='mt-2 text-sm text-gray-600'>请输入您的账号和密码</p>\n        </div>\n\n        <form className='mt-8 space-y-6' onSubmit={handleSubmit}>\n          <div className='space-y-4'>\n            <div>\n              <label htmlFor='username' className='block text-sm font-medium text-gray-700'>\n                用户名\n              </label>\n              <input\n                id='username'\n                name='username'\n                type='text'\n                required\n                className='mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500'\n                placeholder='请输入用户名'\n                defaultValue='admin'\n              />\n            </div>\n\n            <div>\n              <label htmlFor='password' className='block text-sm font-medium text-gray-700'>\n                密码\n              </label>\n              <input\n                id='password'\n                name='password'\n                type='password'\n                required\n                className='mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500'\n                placeholder='请输入密码'\n                defaultValue='admin123'\n              />\n            </div>\n          </div>\n\n          {error && <div className='text-red-600 text-sm text-center'>{error}</div>}\n\n          <div>\n            <button\n              type='submit'\n              disabled={loading}\n              className='group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed'\n            >\n              {loading ? <Spin size='small' className='mr-2' /> : null}\n              {loading ? '登录中...' : '登录'}\n            </button>\n          </div>\n\n          <div className='text-xs text-gray-500 text-center'>\n            <p>测试账号: admin / admin123</p>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\n// 权限检查组件\nconst PermissionGuard: React.FC<{\n  children: React.ReactNode;\n  route: RouteConfig;\n  user: User;\n}> = ({ children, route, user }) => {\n  const hasPermission = RoutePermissionChecker.hasRoutePermission(\n    route,\n    user.permissions,\n    user.roles\n  );\n\n  if (!hasPermission) {\n    return (\n      <div className='min-h-screen flex items-center justify-center'>\n        <Result\n          status='403'\n          title='403'\n          subTitle='抱歉，您没有权限访问此页面'\n          icon={<AlertTriangle size={64} className='text-red-500' />}\n          extra={\n            <Button type='primary' onClick={() => window.history.back()}>\n              返回上一页\n            </Button>\n          }\n        />\n      </div>\n    );\n  }\n\n  return <>{children}</>;\n};\n\n// 主路由守卫组件\nexport const RouteGuard: React.FC<RouteGuardProps> = ({ children, route, fallback }) => {\n  const { user, isAuthenticated, isLoading, login } = useAuth();\n  const pathname = usePathname();\n\n  // 公共路由，不需要认证\n  const publicRoutes = ['/login', '/register', '/forgot-password'];\n  const isPublicRoute = publicRoutes.includes(pathname);\n\n  // 加载状态\n  if (isLoading) {\n    return (\n      fallback || (\n        <div className='min-h-screen flex items-center justify-center'>\n          <Spin size='large' />\n        </div>\n      )\n    );\n  }\n\n  // 未认证且不是公共路由\n  if (!isAuthenticated && !isPublicRoute) {\n    return <LoginPage onLogin={login} />;\n  }\n\n  // 已认证但访问登录页面，重定向到首页\n  if (isAuthenticated && pathname === '/login') {\n    window.location.href = '/';\n    return null;\n  }\n\n  // 需要权限检查的路由\n  if (route && user && route.meta?.requireAuth) {\n    return (\n      <PermissionGuard route={route} user={user}>\n        {children}\n      </PermissionGuard>\n    );\n  }\n\n  return <>{children}</>;\n};\n\n// 页面级路由守卫HOC\nexport const withRouteGuard = <P extends object>(\n  Component: React.ComponentType<P>,\n  route?: RouteConfig\n) => {\n  const GuardedComponent: React.FC<P> = props => {\n    return (\n      <RouteGuard route={route}>\n        <Component {...props} />\n      </RouteGuard>\n    );\n  };\n\n  GuardedComponent.displayName = `withRouteGuard(${Component.displayName || Component.name})`;\n\n  return GuardedComponent;\n};\n\nexport default RouteGuard;\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}