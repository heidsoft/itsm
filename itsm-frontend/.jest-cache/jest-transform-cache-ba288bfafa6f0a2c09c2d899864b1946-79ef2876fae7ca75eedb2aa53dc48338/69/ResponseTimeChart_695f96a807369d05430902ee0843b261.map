{"version":3,"names":["_default","ResponseTimeChart","cov_2bcxnwiz93","s","_react","default","memo","data","f","config","map","item","range","timeRange","count","percentage","xField","yField","color","columnStyle","radius","label","position","style","fill","fontSize","fontWeight","formatter","datum","tooltip","name","value","responsive","totalTickets","reduce","sum","avgTime","b","_jsxruntime","jsx","_DashboardChartCard","DashboardChartCard","title","subtitle","icon","_lucidereact","LineChart","width","height","iconColor","extra","jsxs","textAlign","toFixed","_charts","Column","displayName"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/app/(main)/dashboard/components/ResponseTimeChart.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { Column } from '@ant-design/charts';\nimport { LineChart } from 'lucide-react';\nimport { ResponseTimeDistribution } from '../types/dashboard.types';\nimport { DashboardChartCard } from './DashboardChartCard';\n\nconst ResponseTimeChart: React.FC<{ data: ResponseTimeDistribution[] }> = React.memo(({ data }) => {\n  const config = {\n    data: data.map(item => ({\n      range: item.timeRange,\n      count: item.count,\n      percentage: item.percentage,\n    })),\n    xField: 'range',\n    yField: 'count',\n    color: '#8b5cf6',\n    columnStyle: {\n      radius: [8, 8, 0, 0],\n    },\n    label: {\n      position: 'top' as const,\n      style: {\n        fill: '#8b5cf6',\n        fontSize: 12,\n        fontWeight: 'bold',\n      },\n      formatter: (datum: any) => `${datum.percentage}%`,\n    },\n    tooltip: {\n      formatter: (datum: any) => ({\n        name: '工单数',\n        value: `${datum.count}个 (${datum.percentage}%)`,\n      }),\n    },\n    responsive: true,\n  };\n\n  const totalTickets = data.reduce((sum, item) => sum + item.count, 0);\n  const avgTime = data.reduce((sum, item) => sum + (item.avgTime || 0) * item.count, 0) / totalTickets;\n\n  return (\n    <DashboardChartCard\n      title='响应时间分布'\n      subtitle='工单首次响应时间统计'\n      icon={<LineChart style={{ width: 20, height: 20 }} />}\n      iconColor='#8b5cf6'\n      extra={\n        <div style={{ textAlign: 'right' }}>\n          <div style={{ fontSize: 12, color: '#8c8c8c' }}>平均响应</div>\n          <div style={{ fontSize: 16, fontWeight: 600, color: '#722ed1' }}>\n            {avgTime.toFixed(1)}小时\n          </div>\n        </div>\n      }\n    >\n      <div style={{ height: '320px' }}>\n        <Column {...config} />\n      </div>\n    </DashboardChartCard>\n  );\n});\n\nResponseTimeChart.displayName = 'ResponseTimeChart';\n\nexport default ResponseTimeChart;\n"],"mappings":"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","ignoreList":[]}