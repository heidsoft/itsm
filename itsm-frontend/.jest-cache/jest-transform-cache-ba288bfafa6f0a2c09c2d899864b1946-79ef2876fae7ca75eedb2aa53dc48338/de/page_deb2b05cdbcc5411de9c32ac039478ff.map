{"version":3,"names":["CreateTicketPage","Title","Text","cov_117byxaddi","s","_antd","Typography","TextArea","Input","f","router","_navigation","useRouter","form","Form","useForm","loading","setLoading","_react","useState","handleSubmit","values","validateFields","created","_ticketapi","TicketApi","createTicket","title","description","priority","category","message","success","push","id","e","console","error","Error","b","_jsxruntime","jsx","className","jsxs","Space","direction","size","style","width","Card","align","Button","icon","_lucidereact","ArrowLeft","onClick","back","level","marginBottom","type","layout","Item","name","label","rules","required","placeholder","rows","initialValue","Select","Option","value"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/app/(main)/tickets/create/page.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { Card, Form, Input, Select, Button, Space, Typography, message } from 'antd';\nimport { ArrowLeft } from 'lucide-react';\nimport { TicketApi } from '@/lib/api/ticket-api';\n\nconst { Title, Text } = Typography;\nconst { TextArea } = Input;\n\ntype Priority = 'low' | 'medium' | 'high' | 'urgent';\n\nexport default function CreateTicketPage() {\n  const router = useRouter();\n  const [form] = Form.useForm();\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async () => {\n    try {\n      const values = await form.validateFields();\n      setLoading(true);\n\n      const created = await TicketApi.createTicket({\n        title: values.title,\n        description: values.description,\n        priority: values.priority,\n        category: values.category,\n      } as any);\n\n      message.success('工单创建成功');\n      router.push(`/tickets/${created.id}`);\n    } catch (e) {\n      console.error(e);\n      message.error(e instanceof Error ? e.message : '创建工单失败');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n        return (\n    <div className='max-w-4xl mx-auto p-6'>\n      <Space direction='vertical' size={16} style={{ width: '100%' }}>\n        <Card>\n          <Space align='center'>\n            <Button icon={<ArrowLeft className='w-4 h-4' />} onClick={() => router.back()}>\n              返回\n            </Button>\n            <div>\n              <Title level={2} style={{ marginBottom: 0 }}>\n                新建工单\n              </Title>\n              <Text type='secondary'>P0 轻量创建页（仅保留核心字段），避免引入 legacy 依赖</Text>\n            </div>\n          </Space>\n        </Card>\n\n        <Card>\n          <Form form={form} layout='vertical'>\n            <Form.Item name='title' label='标题' rules={[{ required: true, message: '请输入标题' }]}>\n              <Input placeholder='例如：VPN 无法连接' />\n                  </Form.Item>\n\n            <Form.Item name='description' label='描述' rules={[{ required: true, message: '请输入描述' }]}>\n              <TextArea rows={6} placeholder='请详细描述问题/需求与影响范围...' />\n                  </Form.Item>\n\n            <Form.Item name='priority' label='优先级' initialValue='medium' rules={[{ required: true }]}>\n              <Select<Priority>>\n                <Select.Option value='low'>低</Select.Option>\n                <Select.Option value='medium'>中</Select.Option>\n                <Select.Option value='high'>高</Select.Option>\n                <Select.Option value='urgent'>紧急</Select.Option>\n                    </Select>\n                  </Form.Item>\n\n            <Form.Item name='category' label='分类' initialValue='网络'>\n              <Select>\n                <Select.Option value='网络'>网络</Select.Option>\n                <Select.Option value='性能'>性能</Select.Option>\n                <Select.Option value='安全'>安全</Select.Option>\n                <Select.Option value='存储'>存储</Select.Option>\n                <Select.Option value='连接'>连接</Select.Option>\n                    </Select>\n                  </Form.Item>\n\n          <Space>\n              <Button type='primary' onClick={handleSubmit} loading={loading}>\n                创建\n              </Button>\n              <Button onClick={() => router.push('/tickets')}>取消</Button>\n          </Space>\n          </Form>\n      </Card>\n      </Space>\n    </div>\n  );\n}\n\n\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}