695620f48df775174c92c674529e1d82
/**
 * 工单数据分析 API 服务
 */"use strict";

/* istanbul ignore next */
function cov_sk7lh73vr() {
  var path = "/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/lib/api/ticket-analytics-api.ts";
  var hash = "2534777a596fe0bcdd7878052238d8b3336028e2";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/lib/api/ticket-analytics-api.ts",
    statementMap: {
      "0": {
        start: {
          line: 4,
          column: 0
        },
        end: {
          line: 6,
          column: 3
        }
      },
      "1": {
        start: {
          line: 7,
          column: 0
        },
        end: {
          line: 12,
          column: 3
        }
      },
      "2": {
        start: {
          line: 10,
          column: 8
        },
        end: {
          line: 10,
          column: 34
        }
      },
      "3": {
        start: {
          line: 13,
          column: 20
        },
        end: {
          line: 13,
          column: 44
        }
      },
      "4": {
        start: {
          line: 17,
          column: 8
        },
        end: {
          line: 17,
          column: 82
        }
      },
      "5": {
        start: {
          line: 21,
          column: 8
        },
        end: {
          line: 23,
          column: 11
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 9,
            column: 9
          },
          end: {
            line: 9,
            column: 10
          }
        },
        loc: {
          start: {
            line: 9,
            column: 20
          },
          end: {
            line: 11,
            column: 5
          }
        },
        line: 9
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 16,
            column: 4
          },
          end: {
            line: 16,
            column: 5
          }
        },
        loc: {
          start: {
            line: 16,
            column: 42
          },
          end: {
            line: 18,
            column: 5
          }
        },
        line: 16
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 20,
            column: 4
          },
          end: {
            line: 20,
            column: 5
          }
        },
        loc: {
          start: {
            line: 20,
            column: 49
          },
          end: {
            line: 24,
            column: 5
          }
        },
        line: 20
      }
    },
    branchMap: {},
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0
    },
    b: {},
    inputSourceMap: {
      version: 3,
      sources: ["/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/lib/api/ticket-analytics-api.ts"],
      sourcesContent: ["/**\n * \u5DE5\u5355\u6570\u636E\u5206\u6790 API \u670D\u52A1\n */\n\nimport { httpClient } from './http-client';\n\nexport interface AnalyticsConfig {\n  dimensions: string[];\n  metrics: string[];\n  chart_type: 'line' | 'bar' | 'pie' | 'area' | 'table';\n  time_range: [string, string];\n  filters: Record<string, any>;\n  group_by?: string;\n}\n\nexport interface AnalyticsDataPoint {\n  name: string;\n  value: number;\n  count?: number;\n  avg_time?: number;\n  metadata?: Record<string, any>;\n}\n\nexport interface AnalyticsSummary {\n  total: number;\n  resolved: number;\n  avg_response_time: number;\n  avg_resolution_time: number;\n  sla_compliance: number;\n  customer_satisfaction: number;\n}\n\nexport interface AnalyticsResponse {\n  data: AnalyticsDataPoint[];\n  summary: AnalyticsSummary;\n  generated_at: string;\n}\n\nexport class TicketAnalyticsApi {\n  // \u83B7\u53D6\u6DF1\u5EA6\u5206\u6790\u6570\u636E\n  static async getDeepAnalytics(config: AnalyticsConfig): Promise<AnalyticsResponse> {\n    return httpClient.post<AnalyticsResponse>('/api/tickets/analytics/deep', config);\n  }\n\n  // \u5BFC\u51FA\u5206\u6790\u6570\u636E\n  static async exportAnalytics(config: AnalyticsConfig, format: 'excel' | 'pdf' | 'csv'): Promise<Blob> {\n    return httpClient.post<Blob>(`/api/tickets/analytics/export?format=${format}`, config, {\n      responseType: 'blob',\n    });\n  }\n}\n\n"],
      names: ["TicketAnalyticsApi", "getDeepAnalytics", "config", "httpClient", "post", "exportAnalytics", "format", "responseType"],
      mappings: "AAAA;;CAEC;;;;+BAoCYA;;;eAAAA;;;4BAlCc;AAkCpB,MAAMA;IACX,WAAW;IACX,aAAaC,iBAAiBC,MAAuB,EAA8B;QACjF,OAAOC,sBAAU,CAACC,IAAI,CAAoB,+BAA+BF;IAC3E;IAEA,SAAS;IACT,aAAaG,gBAAgBH,MAAuB,EAAEI,MAA+B,EAAiB;QACpG,OAAOH,sBAAU,CAACC,IAAI,CAAO,CAAC,qCAAqC,EAAEE,QAAQ,EAAEJ,QAAQ;YACrFK,cAAc;QAChB;IACF;AACF"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "2534777a596fe0bcdd7878052238d8b3336028e2"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_sk7lh73vr = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_sk7lh73vr();
cov_sk7lh73vr().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_sk7lh73vr().s[1]++;
Object.defineProperty(exports, "TicketAnalyticsApi", {
  enumerable: true,
  get: function () {
    /* istanbul ignore next */
    cov_sk7lh73vr().f[0]++;
    cov_sk7lh73vr().s[2]++;
    return TicketAnalyticsApi;
  }
});
const _httpclient =
/* istanbul ignore next */
(cov_sk7lh73vr().s[3]++, require("./http-client"));
class TicketAnalyticsApi {
  // 获取深度分析数据
  static async getDeepAnalytics(config) {
    /* istanbul ignore next */
    cov_sk7lh73vr().f[1]++;
    cov_sk7lh73vr().s[4]++;
    return _httpclient.httpClient.post('/api/tickets/analytics/deep', config);
  }
  // 导出分析数据
  static async exportAnalytics(config, format) {
    /* istanbul ignore next */
    cov_sk7lh73vr().f[2]++;
    cov_sk7lh73vr().s[5]++;
    return _httpclient.httpClient.post(`/api/tickets/analytics/export?format=${format}`, config, {
      responseType: 'blob'
    });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3Zfc2s3bGg3M3ZyIiwicGF0aCIsImhhc2giLCJnbG9iYWwiLCJGdW5jdGlvbiIsImdjdiIsImNvdmVyYWdlRGF0YSIsInN0YXRlbWVudE1hcCIsInN0YXJ0IiwibGluZSIsImNvbHVtbiIsImVuZCIsImZuTWFwIiwibmFtZSIsImRlY2wiLCJsb2MiLCJicmFuY2hNYXAiLCJzIiwiZiIsImIiLCJpbnB1dFNvdXJjZU1hcCIsInZlcnNpb24iLCJzb3VyY2VzIiwic291cmNlc0NvbnRlbnQiLCJuYW1lcyIsIm1hcHBpbmdzIiwiX2NvdmVyYWdlU2NoZW1hIiwiY292ZXJhZ2UiLCJhY3R1YWxDb3ZlcmFnZSIsIlRpY2tldEFuYWx5dGljc0FwaSIsImdldERlZXBBbmFseXRpY3MiLCJjb25maWciLCJfaHR0cGNsaWVudCIsImh0dHBDbGllbnQiLCJwb3N0IiwiZXhwb3J0QW5hbHl0aWNzIiwiZm9ybWF0IiwicmVzcG9uc2VUeXBlIl0sInNvdXJjZXMiOlsiL1VzZXJzL2hlaWRzb2Z0L0Rvd25sb2Fkcy9yZXNlYXJjaC9pdHNtL2l0c20tZnJvbnRlbmQvc3JjL2xpYi9hcGkvdGlja2V0LWFuYWx5dGljcy1hcGkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiDlt6XljZXmlbDmja7liIbmnpAgQVBJIOacjeWKoVxuICovXG5cbmltcG9ydCB7IGh0dHBDbGllbnQgfSBmcm9tICcuL2h0dHAtY2xpZW50JztcblxuZXhwb3J0IGludGVyZmFjZSBBbmFseXRpY3NDb25maWcge1xuICBkaW1lbnNpb25zOiBzdHJpbmdbXTtcbiAgbWV0cmljczogc3RyaW5nW107XG4gIGNoYXJ0X3R5cGU6ICdsaW5lJyB8ICdiYXInIHwgJ3BpZScgfCAnYXJlYScgfCAndGFibGUnO1xuICB0aW1lX3JhbmdlOiBbc3RyaW5nLCBzdHJpbmddO1xuICBmaWx0ZXJzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICBncm91cF9ieT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBbmFseXRpY3NEYXRhUG9pbnQge1xuICBuYW1lOiBzdHJpbmc7XG4gIHZhbHVlOiBudW1iZXI7XG4gIGNvdW50PzogbnVtYmVyO1xuICBhdmdfdGltZT86IG51bWJlcjtcbiAgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFuYWx5dGljc1N1bW1hcnkge1xuICB0b3RhbDogbnVtYmVyO1xuICByZXNvbHZlZDogbnVtYmVyO1xuICBhdmdfcmVzcG9uc2VfdGltZTogbnVtYmVyO1xuICBhdmdfcmVzb2x1dGlvbl90aW1lOiBudW1iZXI7XG4gIHNsYV9jb21wbGlhbmNlOiBudW1iZXI7XG4gIGN1c3RvbWVyX3NhdGlzZmFjdGlvbjogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFuYWx5dGljc1Jlc3BvbnNlIHtcbiAgZGF0YTogQW5hbHl0aWNzRGF0YVBvaW50W107XG4gIHN1bW1hcnk6IEFuYWx5dGljc1N1bW1hcnk7XG4gIGdlbmVyYXRlZF9hdDogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgVGlja2V0QW5hbHl0aWNzQXBpIHtcbiAgLy8g6I635Y+W5rex5bqm5YiG5p6Q5pWw5o2uXG4gIHN0YXRpYyBhc3luYyBnZXREZWVwQW5hbHl0aWNzKGNvbmZpZzogQW5hbHl0aWNzQ29uZmlnKTogUHJvbWlzZTxBbmFseXRpY3NSZXNwb25zZT4ge1xuICAgIHJldHVybiBodHRwQ2xpZW50LnBvc3Q8QW5hbHl0aWNzUmVzcG9uc2U+KCcvYXBpL3RpY2tldHMvYW5hbHl0aWNzL2RlZXAnLCBjb25maWcpO1xuICB9XG5cbiAgLy8g5a+85Ye65YiG5p6Q5pWw5o2uXG4gIHN0YXRpYyBhc3luYyBleHBvcnRBbmFseXRpY3MoY29uZmlnOiBBbmFseXRpY3NDb25maWcsIGZvcm1hdDogJ2V4Y2VsJyB8ICdwZGYnIHwgJ2NzdicpOiBQcm9taXNlPEJsb2I+IHtcbiAgICByZXR1cm4gaHR0cENsaWVudC5wb3N0PEJsb2I+KGAvYXBpL3RpY2tldHMvYW5hbHl0aWNzL2V4cG9ydD9mb3JtYXQ9JHtmb3JtYXR9YCwgY29uZmlnLCB7XG4gICAgICByZXNwb25zZVR5cGU6ICdibG9iJyxcbiAgICB9KTtcbiAgfVxufVxuXG4iXSwibWFwcGluZ3MiOiJBQUFBOztHQUVDOztBQUFBO0FBQUEsU0FBQUEsY0FBQTtFQUFBLElBQUFDLElBQUE7RUFBQSxJQUFBQyxJQUFBO0VBQUEsSUFBQUMsTUFBQSxPQUFBQyxRQUFBO0VBQUEsSUFBQUMsR0FBQTtFQUFBLElBQUFDLFlBQUE7SUFBQUwsSUFBQTtJQUFBTSxZQUFBO01BQUE7UUFBQUMsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO0lBQUE7SUFBQUUsS0FBQTtNQUFBO1FBQUFDLElBQUE7UUFBQUMsSUFBQTtVQUFBTixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBSyxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFELElBQUE7TUFBQTtNQUFBO1FBQUFJLElBQUE7UUFBQUMsSUFBQTtVQUFBTixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBSyxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFELElBQUE7TUFBQTtNQUFBO1FBQUFJLElBQUE7UUFBQUMsSUFBQTtVQUFBTixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBSyxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFELElBQUE7TUFBQTtJQUFBO0lBQUFPLFNBQUE7SUFBQUMsQ0FBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtJQUFBO0lBQUFDLENBQUE7TUFBQTtNQUFBO01BQUE7SUFBQTtJQUFBQyxDQUFBO0lBQUFDLGNBQUE7TUFBQUMsT0FBQTtNQUFBQyxPQUFBO01BQUFDLGNBQUE7TUFBQUMsS0FBQTtNQUFBQyxRQUFBO0lBQUE7SUFBQUMsZUFBQTtJQUFBeEIsSUFBQTtFQUFBO0VBQUEsSUFBQXlCLFFBQUEsR0FBQXhCLE1BQUEsQ0FBQUUsR0FBQSxNQUFBRixNQUFBLENBQUFFLEdBQUE7RUFBQSxLQUFBc0IsUUFBQSxDQUFBMUIsSUFBQSxLQUFBMEIsUUFBQSxDQUFBMUIsSUFBQSxFQUFBQyxJQUFBLEtBQUFBLElBQUE7SUFBQXlCLFFBQUEsQ0FBQTFCLElBQUEsSUFBQUssWUFBQTtFQUFBO0VBQUEsSUFBQXNCLGNBQUEsR0FBQUQsUUFBQSxDQUFBMUIsSUFBQTtFQUFBO0lBc0NDO0lBQUFELGFBQUEsWUFBQUEsQ0FBQTtNQUFBLE9BQUE0QixjQUFBO0lBQUE7RUFBQTtFQUFBLE9BQUFBLGNBQUE7QUFBQTtBQUFBNUIsYUFBQTtBQUFBQSxhQUFBLEdBQUFpQixDQUFBOzs7Ozs7K0JBRlc7Ozs7OztXQUFBWSxrQkFBQTs7Ozs7aUNBbENjO0FBa0NwQixNQUFNQSxrQkFBQTtFQUNYO0VBQ0EsYUFBYUMsaUJBQWlCQyxNQUF1QixFQUE4QjtJQUFBO0lBQUEvQixhQUFBLEdBQUFrQixDQUFBO0lBQUFsQixhQUFBLEdBQUFpQixDQUFBO0lBQ2pGLE9BQU9lLFdBQUEsQ0FBQUMsVUFBVSxDQUFDQyxJQUFJLENBQW9CLCtCQUErQkgsTUFBQTtFQUMzRTtFQUVBO0VBQ0EsYUFBYUksZ0JBQWdCSixNQUF1QixFQUFFSyxNQUErQixFQUFpQjtJQUFBO0lBQUFwQyxhQUFBLEdBQUFrQixDQUFBO0lBQUFsQixhQUFBLEdBQUFpQixDQUFBO0lBQ3BHLE9BQU9lLFdBQUEsQ0FBQUMsVUFBVSxDQUFDQyxJQUFJLENBQU8sd0NBQXdDRSxNQUFBLEVBQVEsRUFBRUwsTUFBQSxFQUFRO01BQ3JGTSxZQUFBLEVBQWM7SUFDaEI7RUFDRjtBQUNGIiwiaWdub3JlTGlzdCI6W119