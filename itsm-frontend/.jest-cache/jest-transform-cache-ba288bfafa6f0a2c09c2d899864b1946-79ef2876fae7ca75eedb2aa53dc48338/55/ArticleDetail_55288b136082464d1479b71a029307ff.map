{"version":3,"names":["_default","Title","Paragraph","Text","cov_dehga5hgy","s","_antd","Typography","ArticleDetail","f","id","_navigation","useParams","router","useRouter","loading","setLoading","_react","useState","article","setArticle","useEffect","b","loadDetail","data","_api","KnowledgeApi","getArticle","error","console","message","_jsxruntime","jsx","Card","Skeleton","active","Result","status","title","subTitle","extra","Button","type","onClick","push","_constants","KnowledgeStatus","PUBLISHED","DRAFT","jsxs","style","padding","Breadcrumb","marginBottom","Item","display","justifyContent","alignItems","icon","_icons","ArrowLeftOutlined","EditOutlined","level","Space","split","Divider","wrap","UserOutlined","author","CalendarOutlined","_dayjs","default","created_at","format","FolderOutlined","category","Tag","color","KnowledgeStatusColors","KnowledgeStatusLabels","tags","map","tag","className","minHeight","content","line","i","Fragment"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/modules/knowledge/components/ArticleDetail.tsx"],"sourcesContent":["'use client';\n\n/**\n * 知识库文章详情组件\n */\n\nimport React, { useState, useEffect } from 'react';\nimport {\n    Card, Tag, Button, Skeleton, Result,\n    Typography, Space, Breadcrumb, message, Divider\n} from 'antd';\nimport { ArrowLeftOutlined, EditOutlined, UserOutlined, CalendarOutlined, FolderOutlined } from '@ant-design/icons';\nimport { useParams, useRouter } from 'next/navigation';\nimport dayjs from 'dayjs';\n\nimport { KnowledgeApi } from '../api';\nimport { KnowledgeStatus, KnowledgeStatusLabels, KnowledgeStatusColors } from '../constants';\nimport type { KnowledgeArticle } from '../types';\n\nconst { Title, Paragraph, Text } = Typography;\n\nconst ArticleDetail: React.FC = () => {\n    const { id } = useParams() as { id: string };\n    const router = useRouter();\n    const [loading, setLoading] = useState(true);\n    const [article, setArticle] = useState<KnowledgeArticle | null>(null);\n\n    useEffect(() => {\n        if (id) {\n            loadDetail();\n        }\n    }, [id]);\n\n    const loadDetail = async () => {\n        setLoading(true);\n        try {\n            const data = await KnowledgeApi.getArticle(id!);\n            setArticle(data);\n        } catch (error) {\n            console.error(error);\n            message.error('加载文章详情失败');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    if (loading) return <Card><Skeleton active /></Card>;\n\n    if (!article) {\n        return (\n            <Card>\n                <Result\n                    status=\"404\"\n                    title=\"404\"\n                    subTitle=\"抱歉，您访问的文章不存在\"\n                    extra={<Button type=\"primary\" onClick={() => router.push('/knowledge')}>返回列表</Button>}\n                />\n            </Card>\n        );\n    }\n\n    const status = article.status === KnowledgeStatus.PUBLISHED ? KnowledgeStatus.PUBLISHED : KnowledgeStatus.DRAFT;\n\n    return (\n        <div style={{ padding: '0 0 24px' }}>\n            <Breadcrumb style={{ marginBottom: 16 }}>\n                <Breadcrumb.Item>首页</Breadcrumb.Item>\n                <Breadcrumb.Item>知识库</Breadcrumb.Item>\n                <Breadcrumb.Item onClick={() => router.push('/knowledge')}>文章列表</Breadcrumb.Item>\n                <Breadcrumb.Item>文章详情</Breadcrumb.Item>\n            </Breadcrumb>\n\n            <Card>\n                <div style={{ marginBottom: 24 }}>\n                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: 16 }}>\n                        <Button\n                            icon={<ArrowLeftOutlined />}\n                            onClick={() => router.push('/knowledge')}\n                        >\n                            返回列表\n                        </Button>\n                        <Button\n                            type=\"primary\"\n                            icon={<EditOutlined />}\n                            onClick={() => router.push(`/knowledge/articles/${article.id}/edit`)}\n                        >\n                            编辑文章\n                        </Button>\n                    </div>\n\n                    <Title level={2}>{article.title}</Title>\n\n                    <Space split={<Divider type=\"vertical\" />} wrap>\n                        <Space><UserOutlined /><Text type=\"secondary\">作者: {article.author}</Text></Space>\n                        <Space><CalendarOutlined /><Text type=\"secondary\">{dayjs(article.created_at).format('YYYY-MM-DD HH:mm')}</Text></Space>\n                        <Space><FolderOutlined /><Text type=\"secondary\">{article.category || '未分类'}</Text></Space>\n                        <Tag color={KnowledgeStatusColors[status]}>{KnowledgeStatusLabels[status]}</Tag>\n                    </Space>\n                </div>\n\n                <div style={{ marginBottom: 16 }}>\n                    {article.tags?.map(tag => (\n                        <Tag key={tag}>{tag}</Tag>\n                    ))}\n                </div>\n\n                <Divider />\n\n                <div className=\"article-content\" style={{ minHeight: 400 }}>\n                    <Paragraph>\n                        {article.content.split('\\n').map((line, i) => (\n                            <React.Fragment key={i}>\n                                {line}\n                                <br />\n                            </React.Fragment>\n                        ))}\n                    </Paragraph>\n                </div>\n            </Card>\n        </div>\n    );\n};\n\nexport default ArticleDetail;\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}