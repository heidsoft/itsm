{"version":3,"names":["cov_1mo8y9dq2t","actualCoverage","s","LazyBackgroundImage","f","LazyImage","ResponsiveLazyImage","default","_default","src","alt","width","height","className","b","placeholder","fallback","threshold","rootMargin","onLoad","onError","style","isLoaded","setIsLoaded","_react","useState","isInView","setIsInView","hasError","setHasError","imgRef","useRef","observerRef","useEffect","window","currentImg","current","IntersectionObserver","entries","forEach","entry","isIntersecting","unobserve","observe","handleLoad","handleError","Error","defaultPlaceholder","_jsxruntime","jsx","_antd","Skeleton","Image","active","defaultFallback","display","alignItems","justifyContent","background","color","borderRadius","jsxs","textAlign","_icons","FileImageOutlined","fontSize","marginBottom","Fragment","ref","srcSet","defaultSrc","props","currentSrc","setCurrentSrc","updateSrc","innerWidth","sm","md","lg","xl","addEventListener","removeEventListener","children","containerRef","currentContainer","observer","img","onload","backgroundImage","backgroundSize","backgroundPosition","transition"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/components/common/LazyImage.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Skeleton } from 'antd';\nimport { FileImageOutlined } from '@ant-design/icons';\n\ninterface LazyImageProps {\n  src: string;\n  alt: string;\n  width?: number | string;\n  height?: number | string;\n  className?: string;\n  placeholder?: React.ReactNode;\n  fallback?: React.ReactNode;\n  threshold?: number;\n  rootMargin?: string;\n  onLoad?: () => void;\n  onError?: (error: Error) => void;\n  style?: React.CSSProperties;\n}\n\n/**\n * 懒加载图片组件\n * 使用Intersection Observer API实现高性能图片懒加载\n */\nexport const LazyImage: React.FC<LazyImageProps> = ({\n  src,\n  alt,\n  width,\n  height,\n  className = '',\n  placeholder,\n  fallback,\n  threshold = 0.1,\n  rootMargin = '50px',\n  onLoad,\n  onError,\n  style,\n}) => {\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [isInView, setIsInView] = useState(false);\n  const [hasError, setHasError] = useState(false);\n  const imgRef = useRef<HTMLImageElement>(null);\n  const observerRef = useRef<IntersectionObserver | null>(null);\n\n  useEffect(() => {\n    // 检查浏览器是否支持Intersection Observer\n    if (!('IntersectionObserver' in window)) {\n      // 如果不支持，直接加载图片\n      setIsInView(true);\n      return;\n    }\n\n    const currentImg = imgRef.current;\n    if (!currentImg) return;\n\n    // 创建Intersection Observer\n    observerRef.current = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            setIsInView(true);\n            // 图片进入视口后，停止观察\n            if (observerRef.current && currentImg) {\n              observerRef.current.unobserve(currentImg);\n            }\n          }\n        });\n      },\n      {\n        threshold,\n        rootMargin,\n      }\n    );\n\n    // 开始观察\n    observerRef.current.observe(currentImg);\n\n    // 清理函数\n    return () => {\n      if (observerRef.current && currentImg) {\n        observerRef.current.unobserve(currentImg);\n      }\n    };\n  }, [threshold, rootMargin]);\n\n  const handleLoad = () => {\n    setIsLoaded(true);\n    if (onLoad) {\n      onLoad();\n    }\n  };\n\n  const handleError = () => {\n    setHasError(true);\n    if (onError) {\n      onError(new Error(`Failed to load image: ${src}`));\n    }\n  };\n\n  // 默认占位符\n  const defaultPlaceholder = (\n    <Skeleton.Image\n      active\n      style={{ width: width || '100%', height: height || 'auto' }}\n    />\n  );\n\n  // 默认错误回退\n  const defaultFallback = (\n    <div\n      style={{\n        width: width || '100%',\n        height: height || 200,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        background: '#f0f0f0',\n        color: '#999',\n        borderRadius: 4,\n        ...style,\n      }}\n      className={className}\n    >\n      <div style={{ textAlign: 'center' }}>\n        <FileImageOutlined style={{ fontSize: 48, marginBottom: 8 }} />\n        <div style={{ fontSize: 12 }}>图片加载失败</div>\n      </div>\n    </div>\n  );\n\n  // 显示错误状态\n  if (hasError) {\n    return <>{fallback || defaultFallback}</>;\n  }\n\n  // 显示占位符（图片未进入视口或未加载完成）\n  if (!isInView || !isLoaded) {\n    return (\n      <div\n        ref={imgRef}\n        style={{\n          width: width || '100%',\n          height: height || 'auto',\n          ...style,\n        }}\n        className={className}\n      >\n        {!isLoaded && (placeholder || defaultPlaceholder)}\n        {isInView && (\n          <img\n            src={src}\n            alt={alt}\n            onLoad={handleLoad}\n            onError={handleError}\n            style={{\n              ...style,\n              display: isLoaded ? 'block' : 'none',\n              width: width || '100%',\n              height: height || 'auto',\n            }}\n            className={className}\n          />\n        )}\n      </div>\n    );\n  }\n\n  // 显示已加载的图片\n  return (\n    <img\n      ref={imgRef}\n      src={src}\n      alt={alt}\n      style={{\n        ...style,\n        width: width || '100%',\n        height: height || 'auto',\n      }}\n      className={className}\n    />\n  );\n};\n\n/**\n * 响应式懒加载图片组件\n * 支持根据屏幕大小加载不同尺寸的图片\n */\ninterface ResponsiveLazyImageProps extends Omit<LazyImageProps, 'src'> {\n  srcSet: {\n    sm?: string;\n    md?: string;\n    lg?: string;\n    xl?: string;\n  };\n  defaultSrc: string;\n}\n\nexport const ResponsiveLazyImage: React.FC<ResponsiveLazyImageProps> = ({\n  srcSet,\n  defaultSrc,\n  ...props\n}) => {\n  const [currentSrc, setCurrentSrc] = useState(defaultSrc);\n\n  useEffect(() => {\n    const updateSrc = () => {\n      const width = window.innerWidth;\n\n      if (width < 640 && srcSet.sm) {\n        setCurrentSrc(srcSet.sm);\n      } else if (width < 768 && srcSet.md) {\n        setCurrentSrc(srcSet.md);\n      } else if (width < 1024 && srcSet.lg) {\n        setCurrentSrc(srcSet.lg);\n      } else if (srcSet.xl) {\n        setCurrentSrc(srcSet.xl);\n      } else {\n        setCurrentSrc(defaultSrc);\n      }\n    };\n\n    updateSrc();\n\n    window.addEventListener('resize', updateSrc);\n    return () => window.removeEventListener('resize', updateSrc);\n  }, [srcSet, defaultSrc]);\n\n  return <LazyImage {...props} src={currentSrc} />;\n};\n\n/**\n * 懒加载背景图片组件\n */\ninterface LazyBackgroundImageProps {\n  src: string;\n  children?: React.ReactNode;\n  className?: string;\n  style?: React.CSSProperties;\n  threshold?: number;\n  rootMargin?: string;\n}\n\nexport const LazyBackgroundImage: React.FC<LazyBackgroundImageProps> = ({\n  src,\n  children,\n  className = '',\n  style,\n  threshold = 0.1,\n  rootMargin = '50px',\n}) => {\n  const [isInView, setIsInView] = useState(false);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!('IntersectionObserver' in window)) {\n      setIsInView(true);\n      return;\n    }\n\n    const currentContainer = containerRef.current;\n    if (!currentContainer) return;\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting) {\n            setIsInView(true);\n            observer.unobserve(currentContainer);\n          }\n        });\n      },\n      {\n        threshold,\n        rootMargin,\n      }\n    );\n\n    observer.observe(currentContainer);\n\n    return () => {\n      observer.unobserve(currentContainer);\n    };\n  }, [threshold, rootMargin]);\n\n  useEffect(() => {\n    if (isInView && !isLoaded) {\n      const img = new Image();\n      img.src = src;\n      img.onload = () => setIsLoaded(true);\n    }\n  }, [isInView, isLoaded, src]);\n\n  return (\n    <div\n      ref={containerRef}\n      className={className}\n      style={{\n        ...style,\n        backgroundImage: isLoaded ? `url(${src})` : 'none',\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n        transition: 'background-image 0.3s ease-in-out',\n      }}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default LazyImage;\n\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}