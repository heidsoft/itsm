eb32145ca5e070540b2aa7cc06cdb165
'use client';
"use strict";

/* istanbul ignore next */
function cov_18i3k508y7() {
  var path = "/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/app/(main)/incidents/hooks/useIncidentsData.ts";
  var hash = "6caa33bce717911bb6af27998da5faf2a2d94259";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/app/(main)/incidents/hooks/useIncidentsData.ts",
    statementMap: {
      "0": {
        start: {
          line: 3,
          column: 0
        },
        end: {
          line: 5,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 0
        },
        end: {
          line: 11,
          column: 3
        }
      },
      "2": {
        start: {
          line: 9,
          column: 8
        },
        end: {
          line: 9,
          column: 32
        }
      },
      "3": {
        start: {
          line: 12,
          column: 15
        },
        end: {
          line: 12,
          column: 31
        }
      },
      "4": {
        start: {
          line: 13,
          column: 21
        },
        end: {
          line: 13,
          column: 64
        }
      },
      "5": {
        start: {
          line: 14,
          column: 14
        },
        end: {
          line: 14,
          column: 29
        }
      },
      "6": {
        start: {
          line: 15,
          column: 14
        },
        end: {
          line: 15,
          column: 45
        }
      },
      "7": {
        start: {
          line: 16,
          column: 25
        },
        end: {
          line: 105,
          column: 1
        }
      },
      "8": {
        start: {
          line: 17,
          column: 18
        },
        end: {
          line: 17,
          column: 38
        }
      },
      "9": {
        start: {
          line: 18,
          column: 38
        },
        end: {
          line: 18,
          column: 62
        }
      },
      "10": {
        start: {
          line: 19,
          column: 34
        },
        end: {
          line: 19,
          column: 61
        }
      },
      "11": {
        start: {
          line: 20,
          column: 30
        },
        end: {
          line: 20,
          column: 53
        }
      },
      "12": {
        start: {
          line: 21,
          column: 42
        },
        end: {
          line: 21,
          column: 65
        }
      },
      "13": {
        start: {
          line: 22,
          column: 36
        },
        end: {
          line: 22,
          column: 60
        }
      },
      "14": {
        start: {
          line: 23,
          column: 34
        },
        end: {
          line: 28,
          column: 6
        }
      },
      "15": {
        start: {
          line: 29,
          column: 34
        },
        end: {
          line: 34,
          column: 6
        }
      },
      "16": {
        start: {
          line: 35,
          column: 4
        },
        end: {
          line: 42,
          column: 7
        }
      },
      "17": {
        start: {
          line: 36,
          column: 8
        },
        end: {
          line: 36,
          column: 24
        }
      },
      "18": {
        start: {
          line: 37,
          column: 8
        },
        end: {
          line: 37,
          column: 22
        }
      },
      "19": {
        start: {
          line: 43,
          column: 26
        },
        end: {
          line: 62,
          column: 5
        }
      },
      "20": {
        start: {
          line: 44,
          column: 8
        },
        end: {
          line: 44,
          column: 25
        }
      },
      "21": {
        start: {
          line: 45,
          column: 8
        },
        end: {
          line: 61,
          column: 9
        }
      },
      "22": {
        start: {
          line: 46,
          column: 29
        },
        end: {
          line: 53,
          column: 14
        }
      },
      "23": {
        start: {
          line: 54,
          column: 12
        },
        end: {
          line: 54,
          column: 45
        }
      },
      "24": {
        start: {
          line: 55,
          column: 12
        },
        end: {
          line: 55,
          column: 72
        }
      },
      "25": {
        start: {
          line: 57,
          column: 12
        },
        end: {
          line: 57,
          column: 62
        }
      },
      "26": {
        start: {
          line: 58,
          column: 12
        },
        end: {
          line: 58,
          column: 62
        }
      },
      "27": {
        start: {
          line: 60,
          column: 12
        },
        end: {
          line: 60,
          column: 30
        }
      },
      "28": {
        start: {
          line: 63,
          column: 24
        },
        end: {
          line: 76,
          column: 5
        }
      },
      "29": {
        start: {
          line: 64,
          column: 8
        },
        end: {
          line: 75,
          column: 9
        }
      },
      "30": {
        start: {
          line: 65,
          column: 29
        },
        end: {
          line: 65,
          column: 80
        }
      },
      "31": {
        start: {
          line: 66,
          column: 12
        },
        end: {
          line: 66,
          column: 33
        }
      },
      "32": {
        start: {
          line: 68,
          column: 12
        },
        end: {
          line: 68,
          column: 60
        }
      },
      "33": {
        start: {
          line: 69,
          column: 12
        },
        end: {
          line: 74,
          column: 15
        }
      },
      "34": {
        start: {
          line: 77,
          column: 25
        },
        end: {
          line: 83,
          column: 5
        }
      },
      "35": {
        start: {
          line: 78,
          column: 8
        },
        end: {
          line: 81,
          column: 11
        }
      },
      "36": {
        start: {
          line: 82,
          column: 8
        },
        end: {
          line: 82,
          column: 26
        }
      },
      "37": {
        start: {
          line: 84,
          column: 31
        },
        end: {
          line: 90,
          column: 5
        }
      },
      "38": {
        start: {
          line: 85,
          column: 8
        },
        end: {
          line: 88,
          column: 11
        }
      },
      "39": {
        start: {
          line: 89,
          column: 8
        },
        end: {
          line: 89,
          column: 26
        }
      },
      "40": {
        start: {
          line: 91,
          column: 4
        },
        end: {
          line: 104,
          column: 6
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 8,
            column: 9
          },
          end: {
            line: 8,
            column: 10
          }
        },
        loc: {
          start: {
            line: 8,
            column: 20
          },
          end: {
            line: 10,
            column: 5
          }
        },
        line: 8
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 16,
            column: 25
          },
          end: {
            line: 16,
            column: 26
          }
        },
        loc: {
          start: {
            line: 16,
            column: 29
          },
          end: {
            line: 105,
            column: 1
          }
        },
        line: 16
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 35,
            column: 26
          },
          end: {
            line: 35,
            column: 27
          }
        },
        loc: {
          start: {
            line: 35,
            column: 30
          },
          end: {
            line: 38,
            column: 5
          }
        },
        line: 35
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 43,
            column: 26
          },
          end: {
            line: 43,
            column: 27
          }
        },
        loc: {
          start: {
            line: 43,
            column: 36
          },
          end: {
            line: 62,
            column: 5
          }
        },
        line: 43
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 63,
            column: 24
          },
          end: {
            line: 63,
            column: 25
          }
        },
        loc: {
          start: {
            line: 63,
            column: 34
          },
          end: {
            line: 76,
            column: 5
          }
        },
        line: 63
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 77,
            column: 25
          },
          end: {
            line: 77,
            column: 26
          }
        },
        loc: {
          start: {
            line: 77,
            column: 34
          },
          end: {
            line: 83,
            column: 5
          }
        },
        line: 77
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 84,
            column: 31
          },
          end: {
            line: 84,
            column: 32
          }
        },
        loc: {
          start: {
            line: 84,
            column: 45
          },
          end: {
            line: 90,
            column: 5
          }
        },
        line: 84
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 55,
            column: 21
          },
          end: {
            line: 55,
            column: 70
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 55,
            column: 21
          },
          end: {
            line: 55,
            column: 35
          }
        }, {
          start: {
            line: 55,
            column: 39
          },
          end: {
            line: 55,
            column: 65
          }
        }, {
          start: {
            line: 55,
            column: 69
          },
          end: {
            line: 55,
            column: 70
          }
        }],
        line: 55
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0
    },
    b: {
      "0": [0, 0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/app/(main)/incidents/hooks/useIncidentsData.ts"],
      sourcesContent: ["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { IncidentAPI, Incident } from '@/lib/api/incident-api';\nimport { message } from 'antd';\nimport { useI18n } from '@/lib/i18n';\n\nexport const useIncidentsData = () => {\n  const { t } = useI18n();\n  const [incidents, setIncidents] = useState<Incident[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [total, setTotal] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pageSize, setPageSize] = useState(10);\n  const [filters, setFilters] = useState({\n    status: '',\n    priority: '',\n    source: '',\n    keyword: '',\n  });\n  const [metrics, setMetrics] = useState({\n    total_incidents: 0,\n    critical_incidents: 0,\n    major_incidents: 0,\n    avg_resolution_time: 0,\n  });\n\n  useEffect(() => {\n    loadIncidents();\n    loadMetrics();\n  }, [currentPage, pageSize, filters]);\n\n  const loadIncidents = async () => {\n    setLoading(true);\n    try {\n      const response = await IncidentAPI.listIncidents({\n        page: currentPage,\n        page_size: pageSize,\n        status: filters.status,\n        priority: filters.priority,\n        source: filters.source,\n        keyword: filters.keyword,\n      });\n      setIncidents(response.incidents);\n      setTotal((response as any).total ?? response.incidents?.length ?? 0);\n    } catch (error) {\n      console.error('Failed to load incidents:', error);\n      message.error(t('incidents.loadDataError'));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadMetrics = async () => {\n    try {\n      const response = await IncidentAPI.getIncidentMetrics();\n      setMetrics(response);\n    } catch (error) {\n      console.error('Failed to load metrics:', error);\n      setMetrics({\n        total_incidents: 0,\n        critical_incidents: 0,\n        major_incidents: 0,\n        avg_resolution_time: 0,\n      });\n    }\n  };\n\n  const handleSearch = (value: string) => {\n    setFilters({ ...filters, keyword: value });\n    setCurrentPage(1);\n  };\n\n  const handleFilterChange = (key: string, value: string) => {\n    setFilters({ ...filters, [key]: value });\n    setCurrentPage(1);\n  };\n\n  return {\n    incidents,\n    loading,\n    total,\n    currentPage,\n    pageSize,\n    filters,\n    metrics,\n    setCurrentPage,\n    setPageSize,\n    handleSearch,\n    handleFilterChange,\n    loadIncidents,\n  };\n};\n"],
      names: ["useIncidentsData", "t", "useI18n", "incidents", "setIncidents", "useState", "loading", "setLoading", "total", "setTotal", "currentPage", "setCurrentPage", "pageSize", "setPageSize", "filters", "setFilters", "status", "priority", "source", "keyword", "metrics", "setMetrics", "total_incidents", "critical_incidents", "major_incidents", "avg_resolution_time", "useEffect", "loadIncidents", "loadMetrics", "response", "IncidentAPI", "listIncidents", "page", "page_size", "length", "error", "console", "message", "getIncidentMetrics", "handleSearch", "value", "handleFilterChange", "key"],
      mappings: "AAAA;;;;;+BAOaA;;;eAAAA;;;uBALuB;6BACE;sBACd;sBACA;AAEjB,MAAMA,mBAAmB;IAC9B,MAAM,EAAEC,CAAC,EAAE,GAAGC,IAAAA,aAAO;IACrB,MAAM,CAACC,WAAWC,aAAa,GAAGC,IAAAA,eAAQ,EAAa,EAAE;IACzD,MAAM,CAACC,SAASC,WAAW,GAAGF,IAAAA,eAAQ,EAAC;IACvC,MAAM,CAACG,OAAOC,SAAS,GAAGJ,IAAAA,eAAQ,EAAC;IACnC,MAAM,CAACK,aAAaC,eAAe,GAAGN,IAAAA,eAAQ,EAAC;IAC/C,MAAM,CAACO,UAAUC,YAAY,GAAGR,IAAAA,eAAQ,EAAC;IACzC,MAAM,CAACS,SAASC,WAAW,GAAGV,IAAAA,eAAQ,EAAC;QACrCW,QAAQ;QACRC,UAAU;QACVC,QAAQ;QACRC,SAAS;IACX;IACA,MAAM,CAACC,SAASC,WAAW,GAAGhB,IAAAA,eAAQ,EAAC;QACrCiB,iBAAiB;QACjBC,oBAAoB;QACpBC,iBAAiB;QACjBC,qBAAqB;IACvB;IAEAC,IAAAA,gBAAS,EAAC;QACRC;QACAC;IACF,GAAG;QAAClB;QAAaE;QAAUE;KAAQ;IAEnC,MAAMa,gBAAgB;QACpBpB,WAAW;QACX,IAAI;YACF,MAAMsB,WAAW,MAAMC,wBAAW,CAACC,aAAa,CAAC;gBAC/CC,MAAMtB;gBACNuB,WAAWrB;gBACXI,QAAQF,QAAQE,MAAM;gBACtBC,UAAUH,QAAQG,QAAQ;gBAC1BC,QAAQJ,QAAQI,MAAM;gBACtBC,SAASL,QAAQK,OAAO;YAC1B;YACAf,aAAayB,SAAS1B,SAAS;YAC/BM,SAAS,AAACoB,SAAiBrB,KAAK,IAAIqB,SAAS1B,SAAS,EAAE+B,UAAU;QACpE,EAAE,OAAOC,OAAO;YACdC,QAAQD,KAAK,CAAC,6BAA6BA;YAC3CE,aAAO,CAACF,KAAK,CAAClC,EAAE;QAClB,SAAU;YACRM,WAAW;QACb;IACF;IAEA,MAAMqB,cAAc;QAClB,IAAI;YACF,MAAMC,WAAW,MAAMC,wBAAW,CAACQ,kBAAkB;YACrDjB,WAAWQ;QACb,EAAE,OAAOM,OAAO;YACdC,QAAQD,KAAK,CAAC,2BAA2BA;YACzCd,WAAW;gBACTC,iBAAiB;gBACjBC,oBAAoB;gBACpBC,iBAAiB;gBACjBC,qBAAqB;YACvB;QACF;IACF;IAEA,MAAMc,eAAe,CAACC;QACpBzB,WAAW;YAAE,GAAGD,OAAO;YAAEK,SAASqB;QAAM;QACxC7B,eAAe;IACjB;IAEA,MAAM8B,qBAAqB,CAACC,KAAaF;QACvCzB,WAAW;YAAE,GAAGD,OAAO;YAAE,CAAC4B,IAAI,EAAEF;QAAM;QACtC7B,eAAe;IACjB;IAEA,OAAO;QACLR;QACAG;QACAE;QACAE;QACAE;QACAE;QACAM;QACAT;QACAE;QACA0B;QACAE;QACAd;IACF;AACF"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "6caa33bce717911bb6af27998da5faf2a2d94259"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_18i3k508y7 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_18i3k508y7();
cov_18i3k508y7().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_18i3k508y7().s[1]++;
Object.defineProperty(exports, "useIncidentsData", {
  enumerable: true,
  get: function () {
    /* istanbul ignore next */
    cov_18i3k508y7().f[0]++;
    cov_18i3k508y7().s[2]++;
    return useIncidentsData;
  }
});
const _react =
/* istanbul ignore next */
(cov_18i3k508y7().s[3]++, require("react"));
const _incidentapi =
/* istanbul ignore next */
(cov_18i3k508y7().s[4]++, require("../../../../lib/api/incident-api"));
const _antd =
/* istanbul ignore next */
(cov_18i3k508y7().s[5]++, require("antd"));
const _i18n =
/* istanbul ignore next */
(cov_18i3k508y7().s[6]++, require("../../../../lib/i18n"));
/* istanbul ignore next */
cov_18i3k508y7().s[7]++;
const useIncidentsData = () => {
  /* istanbul ignore next */
  cov_18i3k508y7().f[1]++;
  const {
    t
  } =
  /* istanbul ignore next */
  (cov_18i3k508y7().s[8]++, (0, _i18n.useI18n)());
  const [incidents, setIncidents] =
  /* istanbul ignore next */
  (cov_18i3k508y7().s[9]++, (0, _react.useState)([]));
  const [loading, setLoading] =
  /* istanbul ignore next */
  (cov_18i3k508y7().s[10]++, (0, _react.useState)(false));
  const [total, setTotal] =
  /* istanbul ignore next */
  (cov_18i3k508y7().s[11]++, (0, _react.useState)(0));
  const [currentPage, setCurrentPage] =
  /* istanbul ignore next */
  (cov_18i3k508y7().s[12]++, (0, _react.useState)(1));
  const [pageSize, setPageSize] =
  /* istanbul ignore next */
  (cov_18i3k508y7().s[13]++, (0, _react.useState)(10));
  const [filters, setFilters] =
  /* istanbul ignore next */
  (cov_18i3k508y7().s[14]++, (0, _react.useState)({
    status: '',
    priority: '',
    source: '',
    keyword: ''
  }));
  const [metrics, setMetrics] =
  /* istanbul ignore next */
  (cov_18i3k508y7().s[15]++, (0, _react.useState)({
    total_incidents: 0,
    critical_incidents: 0,
    major_incidents: 0,
    avg_resolution_time: 0
  }));
  /* istanbul ignore next */
  cov_18i3k508y7().s[16]++;
  (0, _react.useEffect)(() => {
    /* istanbul ignore next */
    cov_18i3k508y7().f[2]++;
    cov_18i3k508y7().s[17]++;
    loadIncidents();
    /* istanbul ignore next */
    cov_18i3k508y7().s[18]++;
    loadMetrics();
  }, [currentPage, pageSize, filters]);
  /* istanbul ignore next */
  cov_18i3k508y7().s[19]++;
  const loadIncidents = async () => {
    /* istanbul ignore next */
    cov_18i3k508y7().f[3]++;
    cov_18i3k508y7().s[20]++;
    setLoading(true);
    /* istanbul ignore next */
    cov_18i3k508y7().s[21]++;
    try {
      const response =
      /* istanbul ignore next */
      (cov_18i3k508y7().s[22]++, await _incidentapi.IncidentAPI.listIncidents({
        page: currentPage,
        page_size: pageSize,
        status: filters.status,
        priority: filters.priority,
        source: filters.source,
        keyword: filters.keyword
      }));
      /* istanbul ignore next */
      cov_18i3k508y7().s[23]++;
      setIncidents(response.incidents);
      /* istanbul ignore next */
      cov_18i3k508y7().s[24]++;
      setTotal(
      /* istanbul ignore next */
      (cov_18i3k508y7().b[0][0]++, response.total) ??
      /* istanbul ignore next */
      (cov_18i3k508y7().b[0][1]++, response.incidents?.length) ??
      /* istanbul ignore next */
      (cov_18i3k508y7().b[0][2]++, 0));
    } catch (error) {
      /* istanbul ignore next */
      cov_18i3k508y7().s[25]++;
      console.error('Failed to load incidents:', error);
      /* istanbul ignore next */
      cov_18i3k508y7().s[26]++;
      _antd.message.error(t('incidents.loadDataError'));
    } finally {
      /* istanbul ignore next */
      cov_18i3k508y7().s[27]++;
      setLoading(false);
    }
  };
  /* istanbul ignore next */
  cov_18i3k508y7().s[28]++;
  const loadMetrics = async () => {
    /* istanbul ignore next */
    cov_18i3k508y7().f[4]++;
    cov_18i3k508y7().s[29]++;
    try {
      const response =
      /* istanbul ignore next */
      (cov_18i3k508y7().s[30]++, await _incidentapi.IncidentAPI.getIncidentMetrics());
      /* istanbul ignore next */
      cov_18i3k508y7().s[31]++;
      setMetrics(response);
    } catch (error) {
      /* istanbul ignore next */
      cov_18i3k508y7().s[32]++;
      console.error('Failed to load metrics:', error);
      /* istanbul ignore next */
      cov_18i3k508y7().s[33]++;
      setMetrics({
        total_incidents: 0,
        critical_incidents: 0,
        major_incidents: 0,
        avg_resolution_time: 0
      });
    }
  };
  /* istanbul ignore next */
  cov_18i3k508y7().s[34]++;
  const handleSearch = value => {
    /* istanbul ignore next */
    cov_18i3k508y7().f[5]++;
    cov_18i3k508y7().s[35]++;
    setFilters({
      ...filters,
      keyword: value
    });
    /* istanbul ignore next */
    cov_18i3k508y7().s[36]++;
    setCurrentPage(1);
  };
  /* istanbul ignore next */
  cov_18i3k508y7().s[37]++;
  const handleFilterChange = (key, value) => {
    /* istanbul ignore next */
    cov_18i3k508y7().f[6]++;
    cov_18i3k508y7().s[38]++;
    setFilters({
      ...filters,
      [key]: value
    });
    /* istanbul ignore next */
    cov_18i3k508y7().s[39]++;
    setCurrentPage(1);
  };
  /* istanbul ignore next */
  cov_18i3k508y7().s[40]++;
  return {
    incidents,
    loading,
    total,
    currentPage,
    pageSize,
    filters,
    metrics,
    setCurrentPage,
    setPageSize,
    handleSearch,
    handleFilterChange,
    loadIncidents
  };
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMThpM2s1MDh5NyIsImFjdHVhbENvdmVyYWdlIiwicyIsInVzZUluY2lkZW50c0RhdGEiLCJmIiwidCIsIl9pMThuIiwidXNlSTE4biIsImluY2lkZW50cyIsInNldEluY2lkZW50cyIsIl9yZWFjdCIsInVzZVN0YXRlIiwibG9hZGluZyIsInNldExvYWRpbmciLCJ0b3RhbCIsInNldFRvdGFsIiwiY3VycmVudFBhZ2UiLCJzZXRDdXJyZW50UGFnZSIsInBhZ2VTaXplIiwic2V0UGFnZVNpemUiLCJmaWx0ZXJzIiwic2V0RmlsdGVycyIsInN0YXR1cyIsInByaW9yaXR5Iiwic291cmNlIiwia2V5d29yZCIsIm1ldHJpY3MiLCJzZXRNZXRyaWNzIiwidG90YWxfaW5jaWRlbnRzIiwiY3JpdGljYWxfaW5jaWRlbnRzIiwibWFqb3JfaW5jaWRlbnRzIiwiYXZnX3Jlc29sdXRpb25fdGltZSIsInVzZUVmZmVjdCIsImxvYWRJbmNpZGVudHMiLCJsb2FkTWV0cmljcyIsInJlc3BvbnNlIiwiX2luY2lkZW50YXBpIiwiSW5jaWRlbnRBUEkiLCJsaXN0SW5jaWRlbnRzIiwicGFnZSIsInBhZ2Vfc2l6ZSIsImIiLCJsZW5ndGgiLCJlcnJvciIsImNvbnNvbGUiLCJfYW50ZCIsIm1lc3NhZ2UiLCJnZXRJbmNpZGVudE1ldHJpY3MiLCJoYW5kbGVTZWFyY2giLCJ2YWx1ZSIsImhhbmRsZUZpbHRlckNoYW5nZSIsImtleSJdLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZWlkc29mdC9Eb3dubG9hZHMvcmVzZWFyY2gvaXRzbS9pdHNtLWZyb250ZW5kL3NyYy9hcHAvKG1haW4pL2luY2lkZW50cy9ob29rcy91c2VJbmNpZGVudHNEYXRhLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEluY2lkZW50QVBJLCBJbmNpZGVudCB9IGZyb20gJ0AvbGliL2FwaS9pbmNpZGVudC1hcGknO1xuaW1wb3J0IHsgbWVzc2FnZSB9IGZyb20gJ2FudGQnO1xuaW1wb3J0IHsgdXNlSTE4biB9IGZyb20gJ0AvbGliL2kxOG4nO1xuXG5leHBvcnQgY29uc3QgdXNlSW5jaWRlbnRzRGF0YSA9ICgpID0+IHtcbiAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gIGNvbnN0IFtpbmNpZGVudHMsIHNldEluY2lkZW50c10gPSB1c2VTdGF0ZTxJbmNpZGVudFtdPihbXSk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3RvdGFsLCBzZXRUb3RhbF0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2N1cnJlbnRQYWdlLCBzZXRDdXJyZW50UGFnZV0gPSB1c2VTdGF0ZSgxKTtcbiAgY29uc3QgW3BhZ2VTaXplLCBzZXRQYWdlU2l6ZV0gPSB1c2VTdGF0ZSgxMCk7XG4gIGNvbnN0IFtmaWx0ZXJzLCBzZXRGaWx0ZXJzXSA9IHVzZVN0YXRlKHtcbiAgICBzdGF0dXM6ICcnLFxuICAgIHByaW9yaXR5OiAnJyxcbiAgICBzb3VyY2U6ICcnLFxuICAgIGtleXdvcmQ6ICcnLFxuICB9KTtcbiAgY29uc3QgW21ldHJpY3MsIHNldE1ldHJpY3NdID0gdXNlU3RhdGUoe1xuICAgIHRvdGFsX2luY2lkZW50czogMCxcbiAgICBjcml0aWNhbF9pbmNpZGVudHM6IDAsXG4gICAgbWFqb3JfaW5jaWRlbnRzOiAwLFxuICAgIGF2Z19yZXNvbHV0aW9uX3RpbWU6IDAsXG4gIH0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbG9hZEluY2lkZW50cygpO1xuICAgIGxvYWRNZXRyaWNzKCk7XG4gIH0sIFtjdXJyZW50UGFnZSwgcGFnZVNpemUsIGZpbHRlcnNdKTtcblxuICBjb25zdCBsb2FkSW5jaWRlbnRzID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgSW5jaWRlbnRBUEkubGlzdEluY2lkZW50cyh7XG4gICAgICAgIHBhZ2U6IGN1cnJlbnRQYWdlLFxuICAgICAgICBwYWdlX3NpemU6IHBhZ2VTaXplLFxuICAgICAgICBzdGF0dXM6IGZpbHRlcnMuc3RhdHVzLFxuICAgICAgICBwcmlvcml0eTogZmlsdGVycy5wcmlvcml0eSxcbiAgICAgICAgc291cmNlOiBmaWx0ZXJzLnNvdXJjZSxcbiAgICAgICAga2V5d29yZDogZmlsdGVycy5rZXl3b3JkLFxuICAgICAgfSk7XG4gICAgICBzZXRJbmNpZGVudHMocmVzcG9uc2UuaW5jaWRlbnRzKTtcbiAgICAgIHNldFRvdGFsKChyZXNwb25zZSBhcyBhbnkpLnRvdGFsID8/IHJlc3BvbnNlLmluY2lkZW50cz8ubGVuZ3RoID8/IDApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBpbmNpZGVudHM6JywgZXJyb3IpO1xuICAgICAgbWVzc2FnZS5lcnJvcih0KCdpbmNpZGVudHMubG9hZERhdGFFcnJvcicpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGxvYWRNZXRyaWNzID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEluY2lkZW50QVBJLmdldEluY2lkZW50TWV0cmljcygpO1xuICAgICAgc2V0TWV0cmljcyhyZXNwb25zZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIG1ldHJpY3M6JywgZXJyb3IpO1xuICAgICAgc2V0TWV0cmljcyh7XG4gICAgICAgIHRvdGFsX2luY2lkZW50czogMCxcbiAgICAgICAgY3JpdGljYWxfaW5jaWRlbnRzOiAwLFxuICAgICAgICBtYWpvcl9pbmNpZGVudHM6IDAsXG4gICAgICAgIGF2Z19yZXNvbHV0aW9uX3RpbWU6IDAsXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU2VhcmNoID0gKHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICBzZXRGaWx0ZXJzKHsgLi4uZmlsdGVycywga2V5d29yZDogdmFsdWUgfSk7XG4gICAgc2V0Q3VycmVudFBhZ2UoMSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRmlsdGVyQ2hhbmdlID0gKGtleTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgc2V0RmlsdGVycyh7IC4uLmZpbHRlcnMsIFtrZXldOiB2YWx1ZSB9KTtcbiAgICBzZXRDdXJyZW50UGFnZSgxKTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGluY2lkZW50cyxcbiAgICBsb2FkaW5nLFxuICAgIHRvdGFsLFxuICAgIGN1cnJlbnRQYWdlLFxuICAgIHBhZ2VTaXplLFxuICAgIGZpbHRlcnMsXG4gICAgbWV0cmljcyxcbiAgICBzZXRDdXJyZW50UGFnZSxcbiAgICBzZXRQYWdlU2l6ZSxcbiAgICBoYW5kbGVTZWFyY2gsXG4gICAgaGFuZGxlRmlsdGVyQ2hhbmdlLFxuICAgIGxvYWRJbmNpZGVudHMsXG4gIH07XG59O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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