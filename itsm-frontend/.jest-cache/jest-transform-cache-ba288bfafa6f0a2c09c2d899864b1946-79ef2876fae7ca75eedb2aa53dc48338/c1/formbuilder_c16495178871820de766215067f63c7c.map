{"version":3,"names":["FormBuilder","fields","values","cov_15toigpzqq","b","errors","onChange","onSubmit","loading","submitText","resetText","showReset","layout","className","f","s","handleFieldChange","name","value","handleSubmit","e","preventDefault","handleReset","resetValues","forEach","field","defaultValue","renderField","commonProps","label","placeholder","required","disabled","error","help","type","_jsxruntime","jsx","_forminput","FormInput","maxLength","minLength","pattern","_formtextarea","FormTextarea","rows","autoResize","_formselect","FormSelect","options","multiple","searchable","clearable","_formcheckbox","FormCheckbox","checked","Boolean","_formradio","FormRadioGroup","direction","_formdatepicker","FormDatePicker","showTime","showToday","disabledDate","console","warn","jsxs","map","onClick"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/components/forms/form-builder.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { FormBuilderProps, FormFieldConfig } from './types';\nimport { FormInput } from './form-input';\nimport { FormTextarea } from './form-textarea';\nimport { FormSelect } from './form-select';\nimport { FormCheckbox } from './form-checkbox';\nimport { FormRadioGroup } from './form-radio';\nimport { FormDatePicker } from './form-date-picker';\n\nexport const FormBuilder: React.FC<FormBuilderProps> = ({\n  fields,\n  values = {},\n  errors = {},\n  onChange,\n  onSubmit,\n  loading = false,\n  submitText = '提交',\n  resetText = '重置',\n  showReset = true,\n  layout = 'vertical',\n  className = ''\n}) => {\n  const handleFieldChange = (name: string, value: unknown) => {\n    onChange?.(name, value);\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onSubmit?.(values);\n  };\n\n  const handleReset = () => {\n    const resetValues: Record<string, unknown> = {};\n    fields.forEach(field => {\n      resetValues[field.name] = field.defaultValue || '';\n    });\n    \n    fields.forEach(field => {\n      onChange?.(field.name, resetValues[field.name]);\n    });\n  };\n\n  const renderField = (field: FormFieldConfig) => {\n    const commonProps = {\n      name: field.name,\n      label: field.label,\n      placeholder: field.placeholder,\n      required: field.required,\n      disabled: field.disabled || loading,\n      error: errors[field.name],\n      help: field.help,\n      onChange: (value: unknown) => handleFieldChange(field.name, value),\n    };\n\n    switch (field.type) {\n      case 'text':\n      case 'email':\n      case 'password':\n      case 'number':\n      case 'tel':\n      case 'url':\n        return (\n          <FormInput\n            key={field.name}\n            {...commonProps}\n            type={field.type}\n            value={values[field.name] as string}\n            maxLength={field.maxLength}\n            minLength={field.minLength}\n            pattern={field.pattern}\n          />\n        );\n\n      case 'textarea':\n        return (\n          <FormTextarea\n            key={field.name}\n            {...commonProps}\n            value={values[field.name] as string}\n            rows={field.rows}\n            maxLength={field.maxLength}\n            minLength={field.minLength}\n            autoResize={field.autoResize}\n          />\n        );\n\n      case 'select':\n        return (\n          <FormSelect\n            key={field.name}\n            {...commonProps}\n            value={values[field.name] as string | number | string[] | number[]}\n            options={field.options || []}\n            multiple={field.multiple}\n            searchable={field.searchable}\n            clearable={field.clearable}\n          />\n        );\n\n      case 'checkbox':\n        return (\n          <FormCheckbox\n            key={field.name}\n            {...commonProps}\n            checked={Boolean(values[field.name])}\n            value={values[field.name] as string | number}\n          >\n            {field.label}\n          </FormCheckbox>\n        );\n\n      case 'radio':\n        return (\n          <FormRadioGroup\n            key={field.name}\n            {...commonProps}\n            value={values[field.name] as string | number}\n            options={field.options || []}\n            direction={field.direction}\n          />\n        );\n\n      case 'date':\n        return (\n          <FormDatePicker\n            key={field.name}\n            {...commonProps}\n            value={values[field.name] as string | Date}\n            showTime={field.showTime}\n            showToday={field.showToday}\n            disabledDate={field.disabledDate}\n          />\n        );\n\n      default:\n        console.warn(`Unknown field type: ${field.type}`);\n        return null;\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className={`space-y-6 ${className}`}>\n      <div className={`${layout === 'horizontal' ? 'grid grid-cols-2 gap-6' : 'space-y-4'}`}>\n        {fields.map(renderField)}\n      </div>\n\n      <div className=\"flex justify-end space-x-4 pt-6 border-t border-gray-200\">\n        {showReset && (\n          <button\n            type=\"button\"\n            onClick={handleReset}\n            disabled={loading}\n            className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {resetText}\n          </button>\n        )}\n        \n        <button\n          type=\"submit\"\n          disabled={loading}\n          className=\"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          {loading ? '提交中...' : submitText}\n        </button>\n      </div>\n    </form>\n  );\n};"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}