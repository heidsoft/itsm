{"version":3,"names":["cov_2pexhmhcwh","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","s","f","b","inputSourceMap","version","sources","sourcesContent","names","mappings","_coverageSchema","coverage","actualCoverage","ImpactLevel","PriorityRuleType","UrgencyLevel"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/types/priority-matrix.ts"],"sourcesContent":["/**\n * 事件优先级矩阵类型定义\n * 基于影响度和紧急度自动计算优先级\n */\n\nimport type { TicketPriority } from './ticket';\n\n// ==================== 影响度 ====================\n\n/**\n * 影响度级别\n */\nexport enum ImpactLevel {\n  LOW = 'low',           // 低 - 影响个人或小团队\n  MEDIUM = 'medium',     // 中 - 影响部门\n  HIGH = 'high',         // 高 - 影响多个部门\n  CRITICAL = 'critical', // 严重 - 影响整个组织\n}\n\n/**\n * 影响度因素\n */\nexport interface ImpactFactors {\n  affectedUsers: number;              // 受影响用户数\n  affectedDepartments: string[];      // 受影响部门\n  businessImpact: 'none' | 'low' | 'medium' | 'high' | 'critical'; // 业务影响\n  financialImpact?: number;           // 财务影响（金额）\n  reputationImpact?: 'none' | 'low' | 'medium' | 'high'; // 声誉影响\n  dataLoss?: boolean;                 // 是否涉及数据丢失\n  securityImpact?: boolean;           // 是否涉及安全\n}\n\n/**\n * 影响度计算结果\n */\nexport interface ImpactAssessment {\n  level: ImpactLevel;\n  score: number;                      // 影响度评分（0-100）\n  factors: ImpactFactors;\n  description: string;\n  calculatedAt: Date;\n}\n\n// ==================== 紧急度 ====================\n\n/**\n * 紧急度级别\n */\nexport enum UrgencyLevel {\n  LOW = 'low',           // 低 - 可以延后处理\n  MEDIUM = 'medium',     // 中 - 需要及时处理\n  HIGH = 'high',         // 高 - 需要尽快处理\n  CRITICAL = 'critical', // 严重 - 需要立即处理\n}\n\n/**\n * 紧急度因素\n */\nexport interface UrgencyFactors {\n  isBlocking: boolean;                // 是否阻塞业务\n  deadline?: Date;                    // 截止时间\n  timeToDeadline?: number;            // 距离截止时间（小时）\n  escalationLevel: number;            // 升级级别（0-5）\n  vipUser?: boolean;                  // 是否VIP用户\n  peakHours?: boolean;                // 是否高峰时段\n  slaBreachRisk?: number;             // SLA违反风险（0-100）\n}\n\n/**\n * 紧急度计算结果\n */\nexport interface UrgencyAssessment {\n  level: UrgencyLevel;\n  score: number;                      // 紧急度评分（0-100）\n  factors: UrgencyFactors;\n  description: string;\n  calculatedAt: Date;\n}\n\n// ==================== 优先级矩阵 ====================\n\n/**\n * 优先级矩阵配置\n */\nexport interface PriorityMatrixConfig {\n  id: string;\n  name: string;\n  description?: string;\n  matrixType: '2x2' | '3x3' | '4x4';  // 矩阵类型\n  mappingRules: PriorityMappingRule[];\n  isActive: boolean;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\n/**\n * 优先级映射规则\n */\nexport interface PriorityMappingRule {\n  impactLevel: ImpactLevel;\n  urgencyLevel: UrgencyLevel;\n  resultPriority: TicketPriority;\n  slaTarget?: number;                 // SLA目标（小时）\n  autoAssign?: boolean;               // 是否自动分配\n  notificationRules?: string[];       // 通知规则\n}\n\n/**\n * 优先级矩阵单元格\n */\nexport interface MatrixCell {\n  impactLevel: ImpactLevel;\n  urgencyLevel: UrgencyLevel;\n  priority: TicketPriority;\n  color: string;\n  label: string;\n  count?: number;                     // 当前此优先级的工单数\n}\n\n/**\n * 优先级矩阵数据\n */\nexport interface PriorityMatrixData {\n  config: PriorityMatrixConfig;\n  cells: MatrixCell[][];\n  statistics: {\n    totalTickets: number;\n    byPriority: Record<TicketPriority, number>;\n    byImpact: Record<ImpactLevel, number>;\n    byUrgency: Record<UrgencyLevel, number>;\n  };\n}\n\n// ==================== 优先级计算 ====================\n\n/**\n * 优先级计算请求\n */\nexport interface PriorityCalculationRequest {\n  ticketId?: number;\n  impactFactors: ImpactFactors;\n  urgencyFactors: UrgencyFactors;\n  matrixConfigId?: string;\n}\n\n/**\n * 优先级计算结果\n */\nexport interface PriorityCalculationResult {\n  suggestedPriority: TicketPriority;\n  impactAssessment: ImpactAssessment;\n  urgencyAssessment: UrgencyAssessment;\n  confidence: number;                 // 置信度（0-100）\n  reasoning: string;\n  alternatives?: Array<{\n    priority: TicketPriority;\n    reason: string;\n    confidence: number;\n  }>;\n}\n\n// ==================== 自动优先级建议 ====================\n\n/**\n * 优先级建议\n */\nexport interface PrioritySuggestion {\n  ticketId: number;\n  currentPriority?: TicketPriority;\n  suggestedPriority: TicketPriority;\n  reason: string;\n  confidence: number;\n  basedOn: 'historical' | 'keywords' | 'similarity' | 'rules' | 'ml';\n  similarTickets?: Array<{\n    ticketId: number;\n    ticketNumber: string;\n    priority: TicketPriority;\n    similarity: number;\n  }>;\n}\n\n/**\n * 批量优先级建议\n */\nexport interface BatchPrioritySuggestions {\n  suggestions: PrioritySuggestion[];\n  total: number;\n  highConfidence: number;             // 高置信度建议数量\n  needsReview: number;                // 需要审查的数量\n}\n\n// ==================== 优先级规则 ====================\n\n/**\n * 优先级规则类型\n */\nexport enum PriorityRuleType {\n  KEYWORD_MATCH = 'keyword_match',      // 关键词匹配\n  USER_BASED = 'user_based',            // 基于用户\n  TIME_BASED = 'time_based',            // 基于时间\n  CATEGORY_BASED = 'category_based',    // 基于分类\n  SLA_BASED = 'sla_based',              // 基于SLA\n  CUSTOM = 'custom',                    // 自定义\n}\n\n/**\n * 优先级规则\n */\nexport interface PriorityRule {\n  id: string;\n  name: string;\n  type: PriorityRuleType;\n  enabled: boolean;\n  priority: number;                   // 规则优先级（数字越小越优先）\n  conditions: PriorityRuleCondition[];\n  actions: PriorityRuleAction[];\n  createdAt: Date;\n  updatedAt: Date;\n}\n\n/**\n * 规则条件\n */\nexport interface PriorityRuleCondition {\n  field: string;\n  operator: 'equals' | 'contains' | 'greater_than' | 'less_than' | 'in' | 'regex';\n  value: any;\n  caseSensitive?: boolean;\n}\n\n/**\n * 规则动作\n */\nexport interface PriorityRuleAction {\n  type: 'set_priority' | 'set_impact' | 'set_urgency' | 'notify' | 'assign';\n  params: Record<string, any>;\n}\n\n/**\n * 规则执行结果\n */\nexport interface RuleExecutionResult {\n  ruleId: string;\n  ruleName: string;\n  matched: boolean;\n  appliedActions: string[];\n  executedAt: Date;\n}\n\n// ==================== 优先级历史 ====================\n\n/**\n * 优先级变更历史\n */\nexport interface PriorityChangeHistory {\n  id: string;\n  ticketId: number;\n  oldPriority?: TicketPriority;\n  newPriority: TicketPriority;\n  changeReason: 'manual' | 'automatic' | 'rule_based' | 'suggestion_accepted';\n  changedBy: number;\n  changedByName: string;\n  comment?: string;\n  impactAssessment?: ImpactAssessment;\n  urgencyAssessment?: UrgencyAssessment;\n  appliedRules?: RuleExecutionResult[];\n  changedAt: Date;\n}\n\n// ==================== 优先级分析 ====================\n\n/**\n * 优先级分布分析\n */\nexport interface PriorityDistributionAnalysis {\n  period: {\n    start: Date;\n    end: Date;\n  };\n  distribution: {\n    priority: TicketPriority;\n    count: number;\n    percentage: number;\n    avgResolutionTime: number;\n    slaCompliance: number;\n  }[];\n  trends: {\n    date: string;\n    byPriority: Record<TicketPriority, number>;\n  }[];\n  insights: {\n    type: 'warning' | 'info' | 'success';\n    message: string;\n    recommendation?: string;\n  }[];\n}\n\n/**\n * 优先级准确性分析\n */\nexport interface PriorityAccuracyAnalysis {\n  totalTickets: number;\n  accurateAssignments: number;\n  accuracyRate: number;               // 准确率（%）\n  commonMisclassifications: Array<{\n    assignedPriority: TicketPriority;\n    shouldBePriority: TicketPriority;\n    count: number;\n    examples: number[];               // 工单ID示例\n  }>;\n  improvementSuggestions: string[];\n}\n\n// ==================== API请求/响应 ====================\n\n/**\n * 创建优先级矩阵配置请求\n */\nexport interface CreateMatrixConfigRequest {\n  name: string;\n  description?: string;\n  matrixType: '2x2' | '3x3' | '4x4';\n  mappingRules: Omit<PriorityMappingRule, 'id'>[];\n}\n\n/**\n * 更新优先级矩阵配置请求\n */\nexport interface UpdateMatrixConfigRequest {\n  name?: string;\n  description?: string;\n  mappingRules?: PriorityMappingRule[];\n  isActive?: boolean;\n}\n\n/**\n * 优先级规则查询\n */\nexport interface PriorityRuleQuery {\n  type?: PriorityRuleType;\n  enabled?: boolean;\n  search?: string;\n  page?: number;\n  pageSize?: number;\n}\n\n/**\n * 优先级分析查询\n */\nexport interface PriorityAnalysisQuery {\n  startDate: string;\n  endDate: string;\n  groupBy?: 'day' | 'week' | 'month';\n  priorities?: TicketPriority[];\n}\n\n// ==================== 导出所有类型 ====================\n\nexport default PriorityMatrixConfig;\n\n"],"mappings":"AAAA;;;GAGC;;AAAA;AAAA,SAAAA,eAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;U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","ignoreList":[]}