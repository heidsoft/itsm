369a3b0db6a8dec5829e3138d80e7468
// 安全工具库
// XSS防护
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    contentSecurity: function() {
        return contentSecurity;
    },
    csrfProtection: function() {
        return csrfProtection;
    },
    encryption: function() {
        return encryption;
    },
    inputSanitization: function() {
        return inputSanitization;
    },
    networkSecurity: function() {
        return networkSecurity;
    },
    passwordSecurity: function() {
        return passwordSecurity;
    },
    security: function() {
        return security;
    },
    securityConfig: function() {
        return securityConfig;
    },
    securityLogger: function() {
        return securityLogger;
    },
    sessionSecurity: function() {
        return sessionSecurity;
    },
    xssProtection: function() {
        return xssProtection;
    }
});
const xssProtection = {
    // HTML转义
    escapeHtml: (text)=>{
        const map = {
            '&': '&amp;',
            '<': '&lt;',
            '>': '&gt;',
            '"': '&quot;',
            "'": '&#39;',
            '/': '&#x2F;'
        };
        return text.replace(/[&<>"'\/]/g, (s)=>map[s]);
    },
    // HTML反转义
    unescapeHtml: (text)=>{
        const map = {
            '&amp;': '&',
            '&lt;': '<',
            '&gt;': '>',
            '&quot;': '"',
            '&#39;': "'",
            '&#x2F;': '/'
        };
        return text.replace(/&(amp|lt|gt|quot|#39|#x2F);/g, (s)=>map[s]);
    },
    // 清理HTML标签
    stripHtml: (html)=>{
        return html.replace(/<[^>]*>/g, '');
    },
    // 安全的innerHTML设置
    safeInnerHTML: (element, html)=>{
        element.innerHTML = xssProtection.escapeHtml(html);
    }
};
const csrfProtection = {
    // 生成CSRF令牌
    generateToken: ()=>{
        const array = new Uint8Array(32);
        crypto.getRandomValues(array);
        return Array.from(array, (byte)=>byte.toString(16).padStart(2, '0')).join('');
    },
    // 验证CSRF令牌
    validateToken: (token, expectedToken)=>{
        if (!token || !expectedToken) return false;
        return token === expectedToken;
    },
    // 从meta标签获取CSRF令牌
    getTokenFromMeta: ()=>{
        const metaTag = document.querySelector('meta[name="csrf-token"]');
        return metaTag ? metaTag.getAttribute('content') : null;
    }
};
const inputSanitization = {
    // 清理用户输入
    sanitizeInput: (input)=>{
        return input.trim().replace(/[<>"'&]/g, '') // 移除潜在的XSS字符
        .substring(0, 1000); // 限制长度
    },
    // 验证邮箱格式
    isValidEmail: (email)=>{
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email) && email.length <= 254;
    },
    // 验证URL格式
    isValidUrl: (url)=>{
        try {
            const urlObj = new URL(url);
            return [
                'http:',
                'https:'
            ].includes(urlObj.protocol);
        } catch  {
            return false;
        }
    },
    // 验证文件类型
    isValidFileType: (fileName, allowedTypes)=>{
        const extension = fileName.split('.').pop()?.toLowerCase();
        return extension ? allowedTypes.includes(extension) : false;
    },
    // 验证文件大小
    isValidFileSize: (fileSize, maxSizeInMB)=>{
        const maxSizeInBytes = maxSizeInMB * 1024 * 1024;
        return fileSize <= maxSizeInBytes;
    }
};
const passwordSecurity = {
    // 密码强度检查
    checkPasswordStrength: (password)=>{
        const feedback = [];
        let score = 0;
        // 长度检查
        if (password.length >= 8) {
            score += 1;
        } else {
            feedback.push('密码长度至少需要8个字符');
        }
        // 包含小写字母
        if (/[a-z]/.test(password)) {
            score += 1;
        } else {
            feedback.push('密码需要包含小写字母');
        }
        // 包含大写字母
        if (/[A-Z]/.test(password)) {
            score += 1;
        } else {
            feedback.push('密码需要包含大写字母');
        }
        // 包含数字
        if (/\d/.test(password)) {
            score += 1;
        } else {
            feedback.push('密码需要包含数字');
        }
        // 包含特殊字符
        if (/[!@#$%^&*(),.?":{}|<>]/.test(password)) {
            score += 1;
        } else {
            feedback.push('密码需要包含特殊字符');
        }
        // 不包含常见弱密码
        const commonPasswords = [
            '123456',
            'password',
            '123456789',
            'qwerty',
            'abc123'
        ];
        if (commonPasswords.includes(password.toLowerCase())) {
            score = 0;
            feedback.push('请不要使用常见的弱密码');
        }
        return {
            score,
            feedback,
            isStrong: score >= 4
        };
    },
    // 生成随机密码
    generateRandomPassword: (length = 12)=>{
        const charset = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*';
        let password = '';
        for(let i = 0; i < length; i++){
            const randomIndex = Math.floor(Math.random() * charset.length);
            password += charset[randomIndex];
        }
        return password;
    }
};
const sessionSecurity = {
    // 检查会话是否过期
    isSessionExpired: (expirationTime)=>{
        return Date.now() > expirationTime;
    },
    // 生成会话ID
    generateSessionId: ()=>{
        const array = new Uint8Array(16);
        crypto.getRandomValues(array);
        return Array.from(array, (byte)=>byte.toString(16).padStart(2, '0')).join('');
    },
    // 安全的localStorage操作
    // 警告：localStorage不是一个安全的地方来存储敏感信息，例如认证令牌。
    // 任何在同一域名下运行的脚本都可以访问localStorage。
    // 对于敏感数据，请使用HttpOnly cookies。
    secureStorage: {
        setItem: (key, value, expirationMinutes)=>{
            const item = {
                value,
                timestamp: Date.now(),
                expiration: expirationMinutes ? Date.now() + expirationMinutes * 60 * 1000 : null
            };
            localStorage.setItem(key, JSON.stringify(item));
        },
        getItem: (key)=>{
            try {
                const itemStr = localStorage.getItem(key);
                if (!itemStr) return null;
                const item = JSON.parse(itemStr);
                // 检查是否过期
                if (item.expiration && Date.now() > item.expiration) {
                    localStorage.removeItem(key);
                    return null;
                }
                return item.value;
            } catch  {
                return null;
            }
        },
        removeItem: (key)=>{
            localStorage.removeItem(key);
        },
        clear: ()=>{
            localStorage.clear();
        }
    }
};
const contentSecurity = {
    // 验证内容类型
    validateContentType: (contentType, allowedTypes)=>{
        return allowedTypes.some((type)=>contentType.includes(type));
    },
    // 检查恶意脚本
    containsMaliciousScript: (content)=>{
        const maliciousPatterns = [
            /<script[^>]*>.*?<\/script>/gi,
            /javascript:/gi,
            /on\w+\s*=/gi,
            /eval\s*\(/gi,
            /document\.write/gi
        ];
        return maliciousPatterns.some((pattern)=>pattern.test(content));
    },
    // 清理危险内容
    sanitizeContent: (content)=>{
        return content.replace(/<script[^>]*>.*?<\/script>/gi, '').replace(/javascript:/gi, '').replace(/on\w+\s*=/gi, '').replace(/eval\s*\(/gi, '').replace(/document\.write/gi, '');
    }
};
const networkSecurity = {
    // 检查是否为HTTPS
    isHttps: ()=>{
        return window.location.protocol === 'https:';
    },
    // 验证请求来源
    validateOrigin: (origin, allowedOrigins)=>{
        return allowedOrigins.includes(origin);
    },
    // 生成安全的请求头
    getSecureHeaders: (csrfToken)=>{
        const headers = {
            'Content-Type': 'application/json',
            'X-Requested-With': 'XMLHttpRequest'
        };
        if (csrfToken) {
            headers['X-CSRF-Token'] = csrfToken;
        }
        return headers;
    }
};
const encryption = {
    // Base64编码
    base64Encode: (text)=>{
        return btoa(unescape(encodeURIComponent(text)));
    },
    // Base64解码
    base64Decode: (encodedText)=>{
        return decodeURIComponent(escape(atob(encodedText)));
    },
    // 简单的字符串混淆（不是真正的加密）
    obfuscate: (text, key)=>{
        let result = '';
        for(let i = 0; i < text.length; i++){
            const textChar = text.charCodeAt(i);
            const keyChar = key.charCodeAt(i % key.length);
            result += String.fromCharCode(textChar ^ keyChar);
        }
        return encryption.base64Encode(result);
    },
    // 简单的字符串反混淆
    deobfuscate: (obfuscatedText, key)=>{
        const decodedText = encryption.base64Decode(obfuscatedText);
        let result = '';
        for(let i = 0; i < decodedText.length; i++){
            const textChar = decodedText.charCodeAt(i);
            const keyChar = key.charCodeAt(i % key.length);
            result += String.fromCharCode(textChar ^ keyChar);
        }
        return result;
    }
};
const securityConfig = {
    // 默认安全配置
    defaults: {
        maxFileSize: 10,
        allowedFileTypes: [
            'jpg',
            'jpeg',
            'png',
            'gif',
            'pdf',
            'doc',
            'docx'
        ],
        sessionTimeout: 30,
        maxLoginAttempts: 5,
        passwordMinLength: 8,
        csrfTokenExpiry: 60
    },
    // 获取配置值
    get: (key)=>{
        return securityConfig.defaults[key];
    },
    // 设置配置值
    set: (key, value)=>{
        securityConfig.defaults[key] = value;
    }
};
const securityLogger = {
    // 记录安全事件
    logSecurityEvent: (event, details)=>{
        const logEntry = {
            timestamp: new Date().toISOString(),
            event,
            details,
            userAgent: navigator.userAgent,
            url: window.location.href
        };
        // 在开发环境下输出到控制台
        if (process.env.NODE_ENV === 'development') {
            console.warn('[Security Event]', logEntry);
        }
        // 在生产环境下可以发送到安全监控服务
        if (process.env.NODE_ENV === 'production') {
        // TODO: 发送到安全监控服务
        // sendToSecurityService(logEntry);
        }
    },
    // 记录登录尝试
    logLoginAttempt: (success, username)=>{
        securityLogger.logSecurityEvent('login_attempt', {
            success,
            username: username ? `${username.substring(0, 3)}***` : 'unknown'
        });
    },
    // 记录可疑活动
    logSuspiciousActivity: (activity, details)=>{
        securityLogger.logSecurityEvent('suspicious_activity', {
            activity,
            ...details
        });
    }
};
const security = {
    xss: xssProtection,
    csrf: csrfProtection,
    input: inputSanitization,
    password: passwordSecurity,
    session: sessionSecurity,
    content: contentSecurity,
    network: networkSecurity,
    encryption,
    config: securityConfig,
    logger: securityLogger
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZWlkc29mdC9Eb3dubG9hZHMvcmVzZWFyY2gvaXRzbS9pdHNtLWZyb250ZW5kL3NyYy9saWIvc2VjdXJpdHkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8g5a6J5YWo5bel5YW35bqTXG5cbi8vIFhTU+mYsuaKpFxuZXhwb3J0IGNvbnN0IHhzc1Byb3RlY3Rpb24gPSB7XG4gIC8vIEhUTUzovazkuYlcbiAgZXNjYXBlSHRtbDogKHRleHQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgY29uc3QgbWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgJyYnOiAnJmFtcDsnLFxuICAgICAgJzwnOiAnJmx0OycsXG4gICAgICAnPic6ICcmZ3Q7JyxcbiAgICAgICdcIic6ICcmcXVvdDsnLFxuICAgICAgXCInXCI6ICcmIzM5OycsXG4gICAgICAnLyc6ICcmI3gyRjsnLFxuICAgIH07XG4gICAgcmV0dXJuIHRleHQucmVwbGFjZSgvWyY8PlwiJ1xcL10vZywgKHMpID0+IG1hcFtzXSk7XG4gIH0sXG5cbiAgLy8gSFRNTOWPjei9rOS5iVxuICB1bmVzY2FwZUh0bWw6ICh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IG1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgICcmYW1wOyc6ICcmJyxcbiAgICAgICcmbHQ7JzogJzwnLFxuICAgICAgJyZndDsnOiAnPicsXG4gICAgICAnJnF1b3Q7JzogJ1wiJyxcbiAgICAgICcmIzM5Oyc6IFwiJ1wiLFxuICAgICAgJyYjeDJGOyc6ICcvJyxcbiAgICB9O1xuICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoLyYoYW1wfGx0fGd0fHF1b3R8IzM5fCN4MkYpOy9nLCAocykgPT4gbWFwW3NdKTtcbiAgfSxcblxuICAvLyDmuIXnkIZIVE1M5qCH562+XG4gIHN0cmlwSHRtbDogKGh0bWw6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIGh0bWwucmVwbGFjZSgvPFtePl0qPi9nLCAnJyk7XG4gIH0sXG5cbiAgLy8g5a6J5YWo55qEaW5uZXJIVE1M6K6+572uXG4gIHNhZmVJbm5lckhUTUw6IChlbGVtZW50OiBIVE1MRWxlbWVudCwgaHRtbDogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSB4c3NQcm90ZWN0aW9uLmVzY2FwZUh0bWwoaHRtbCk7XG4gIH0sXG59O1xuXG4vLyBDU1JG6Ziy5oqkXG5leHBvcnQgY29uc3QgY3NyZlByb3RlY3Rpb24gPSB7XG4gIC8vIOeUn+aIkENTUkbku6TniYxcbiAgZ2VuZXJhdGVUb2tlbjogKCk6IHN0cmluZyA9PiB7XG4gICAgY29uc3QgYXJyYXkgPSBuZXcgVWludDhBcnJheSgzMik7XG4gICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhhcnJheSk7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oYXJyYXksIGJ5dGUgPT4gYnl0ZS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKSkuam9pbignJyk7XG4gIH0sXG5cbiAgLy8g6aqM6K+BQ1NSRuS7pOeJjFxuICB2YWxpZGF0ZVRva2VuOiAodG9rZW46IHN0cmluZywgZXhwZWN0ZWRUb2tlbjogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgaWYgKCF0b2tlbiB8fCAhZXhwZWN0ZWRUb2tlbikgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0b2tlbiA9PT0gZXhwZWN0ZWRUb2tlbjtcbiAgfSxcblxuICAvLyDku45tZXRh5qCH562+6I635Y+WQ1NSRuS7pOeJjFxuICBnZXRUb2tlbkZyb21NZXRhOiAoKTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gICAgY29uc3QgbWV0YVRhZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1cImNzcmYtdG9rZW5cIl0nKTtcbiAgICByZXR1cm4gbWV0YVRhZyA/IG1ldGFUYWcuZ2V0QXR0cmlidXRlKCdjb250ZW50JykgOiBudWxsO1xuICB9LFxufTtcblxuLy8g6L6T5YWl6aqM6K+B5ZKM5riF55CGXG5leHBvcnQgY29uc3QgaW5wdXRTYW5pdGl6YXRpb24gPSB7XG4gIC8vIOa4heeQhueUqOaIt+i+k+WFpVxuICBzYW5pdGl6ZUlucHV0OiAoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuIGlucHV0XG4gICAgICAudHJpbSgpXG4gICAgICAucmVwbGFjZSgvWzw+XCInJl0vZywgJycpIC8vIOenu+mZpOa9nOWcqOeahFhTU+Wtl+esplxuICAgICAgLnN1YnN0cmluZygwLCAxMDAwKTsgLy8g6ZmQ5Yi26ZW/5bqmXG4gIH0sXG5cbiAgLy8g6aqM6K+B6YKu566x5qC85byPXG4gIGlzVmFsaWRFbWFpbDogKGVtYWlsOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCBlbWFpbFJlZ2V4ID0gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC87XG4gICAgcmV0dXJuIGVtYWlsUmVnZXgudGVzdChlbWFpbCkgJiYgZW1haWwubGVuZ3RoIDw9IDI1NDtcbiAgfSxcblxuICAvLyDpqozor4FVUkzmoLzlvI9cbiAgaXNWYWxpZFVybDogKHVybDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybE9iaiA9IG5ldyBVUkwodXJsKTtcbiAgICAgIHJldHVybiBbJ2h0dHA6JywgJ2h0dHBzOiddLmluY2x1ZGVzKHVybE9iai5wcm90b2NvbCk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuXG4gIC8vIOmqjOivgeaWh+S7tuexu+Wei1xuICBpc1ZhbGlkRmlsZVR5cGU6IChmaWxlTmFtZTogc3RyaW5nLCBhbGxvd2VkVHlwZXM6IHN0cmluZ1tdKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgZXh0ZW5zaW9uID0gZmlsZU5hbWUuc3BsaXQoJy4nKS5wb3AoKT8udG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gZXh0ZW5zaW9uID8gYWxsb3dlZFR5cGVzLmluY2x1ZGVzKGV4dGVuc2lvbikgOiBmYWxzZTtcbiAgfSxcblxuICAvLyDpqozor4Hmlofku7blpKflsI9cbiAgaXNWYWxpZEZpbGVTaXplOiAoZmlsZVNpemU6IG51bWJlciwgbWF4U2l6ZUluTUI6IG51bWJlcik6IGJvb2xlYW4gPT4ge1xuICAgIGNvbnN0IG1heFNpemVJbkJ5dGVzID0gbWF4U2l6ZUluTUIgKiAxMDI0ICogMTAyNDtcbiAgICByZXR1cm4gZmlsZVNpemUgPD0gbWF4U2l6ZUluQnl0ZXM7XG4gIH0sXG59O1xuXG4vLyDlr4bnoIHlronlhahcbmV4cG9ydCBjb25zdCBwYXNzd29yZFNlY3VyaXR5ID0ge1xuICAvLyDlr4bnoIHlvLrluqbmo4Dmn6VcbiAgY2hlY2tQYXNzd29yZFN0cmVuZ3RoOiAocGFzc3dvcmQ6IHN0cmluZyk6IHtcbiAgICBzY29yZTogbnVtYmVyO1xuICAgIGZlZWRiYWNrOiBzdHJpbmdbXTtcbiAgICBpc1N0cm9uZzogYm9vbGVhbjtcbiAgfSA9PiB7XG4gICAgY29uc3QgZmVlZGJhY2s6IHN0cmluZ1tdID0gW107XG4gICAgbGV0IHNjb3JlID0gMDtcblxuICAgIC8vIOmVv+W6puajgOafpVxuICAgIGlmIChwYXNzd29yZC5sZW5ndGggPj0gOCkge1xuICAgICAgc2NvcmUgKz0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmVlZGJhY2sucHVzaCgn5a+G56CB6ZW/5bqm6Iez5bCR6ZyA6KaBOOS4quWtl+espicpO1xuICAgIH1cblxuICAgIC8vIOWMheWQq+Wwj+WGmeWtl+avjVxuICAgIGlmICgvW2Etel0vLnRlc3QocGFzc3dvcmQpKSB7XG4gICAgICBzY29yZSArPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBmZWVkYmFjay5wdXNoKCflr4bnoIHpnIDopoHljIXlkKvlsI/lhpnlrZfmr40nKTtcbiAgICB9XG5cbiAgICAvLyDljIXlkKvlpKflhpnlrZfmr41cbiAgICBpZiAoL1tBLVpdLy50ZXN0KHBhc3N3b3JkKSkge1xuICAgICAgc2NvcmUgKz0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmVlZGJhY2sucHVzaCgn5a+G56CB6ZyA6KaB5YyF5ZCr5aSn5YaZ5a2X5q+NJyk7XG4gICAgfVxuXG4gICAgLy8g5YyF5ZCr5pWw5a2XXG4gICAgaWYgKC9cXGQvLnRlc3QocGFzc3dvcmQpKSB7XG4gICAgICBzY29yZSArPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBmZWVkYmFjay5wdXNoKCflr4bnoIHpnIDopoHljIXlkKvmlbDlrZcnKTtcbiAgICB9XG5cbiAgICAvLyDljIXlkKvnibnmrorlrZfnrKZcbiAgICBpZiAoL1shQCMkJV4mKigpLC4/XCI6e318PD5dLy50ZXN0KHBhc3N3b3JkKSkge1xuICAgICAgc2NvcmUgKz0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmVlZGJhY2sucHVzaCgn5a+G56CB6ZyA6KaB5YyF5ZCr54m55q6K5a2X56ymJyk7XG4gICAgfVxuXG4gICAgLy8g5LiN5YyF5ZCr5bi46KeB5byx5a+G56CBXG4gICAgY29uc3QgY29tbW9uUGFzc3dvcmRzID0gWycxMjM0NTYnLCAncGFzc3dvcmQnLCAnMTIzNDU2Nzg5JywgJ3F3ZXJ0eScsICdhYmMxMjMnXTtcbiAgICBpZiAoY29tbW9uUGFzc3dvcmRzLmluY2x1ZGVzKHBhc3N3b3JkLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICBzY29yZSA9IDA7XG4gICAgICBmZWVkYmFjay5wdXNoKCfor7fkuI3opoHkvb/nlKjluLjop4HnmoTlvLHlr4bnoIEnKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgc2NvcmUsXG4gICAgICBmZWVkYmFjayxcbiAgICAgIGlzU3Ryb25nOiBzY29yZSA+PSA0LFxuICAgIH07XG4gIH0sXG5cbiAgLy8g55Sf5oiQ6ZqP5py65a+G56CBXG4gIGdlbmVyYXRlUmFuZG9tUGFzc3dvcmQ6IChsZW5ndGggPSAxMik6IHN0cmluZyA9PiB7XG4gICAgY29uc3QgY2hhcnNldCA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMDEyMzQ1Njc4OSFAIyQlXiYqJztcbiAgICBsZXQgcGFzc3dvcmQgPSAnJztcbiAgICBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJzZXQubGVuZ3RoKTtcbiAgICAgIHBhc3N3b3JkICs9IGNoYXJzZXRbcmFuZG9tSW5kZXhdO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcGFzc3dvcmQ7XG4gIH0sXG59O1xuXG4vLyDkvJror53lronlhahcbmV4cG9ydCBjb25zdCBzZXNzaW9uU2VjdXJpdHkgPSB7XG4gIC8vIOajgOafpeS8muivneaYr+WQpui/h+acn1xuICBpc1Nlc3Npb25FeHBpcmVkOiAoZXhwaXJhdGlvblRpbWU6IG51bWJlcik6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiBEYXRlLm5vdygpID4gZXhwaXJhdGlvblRpbWU7XG4gIH0sXG5cbiAgLy8g55Sf5oiQ5Lya6K+dSURcbiAgZ2VuZXJhdGVTZXNzaW9uSWQ6ICgpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYXJyYXkpO1xuICAgIHJldHVybiBBcnJheS5mcm9tKGFycmF5LCBieXRlID0+IGJ5dGUudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJykpLmpvaW4oJycpO1xuICB9LFxuXG4gIC8vIOWuieWFqOeahGxvY2FsU3RvcmFnZeaTjeS9nFxuICAvLyDorablkYrvvJpsb2NhbFN0b3JhZ2XkuI3mmK/kuIDkuKrlronlhajnmoTlnLDmlrnmnaXlrZjlgqjmlY/mhJ/kv6Hmga/vvIzkvovlpoLorqTor4Hku6TniYzjgIJcbiAgLy8g5Lu75L2V5Zyo5ZCM5LiA5Z+f5ZCN5LiL6L+Q6KGM55qE6ISa5pys6YO95Y+v5Lul6K6/6ZeubG9jYWxTdG9yYWdl44CCXG4gIC8vIOWvueS6juaVj+aEn+aVsOaNru+8jOivt+S9v+eUqEh0dHBPbmx5IGNvb2tpZXPjgIJcbiAgc2VjdXJlU3RvcmFnZToge1xuICAgIHNldEl0ZW06IChrZXk6IHN0cmluZywgdmFsdWU6IHN0cmluZywgZXhwaXJhdGlvbk1pbnV0ZXM/OiBudW1iZXIpOiB2b2lkID0+IHtcbiAgICAgIGNvbnN0IGl0ZW0gPSB7XG4gICAgICAgIHZhbHVlLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIGV4cGlyYXRpb246IGV4cGlyYXRpb25NaW51dGVzID8gRGF0ZS5ub3coKSArIChleHBpcmF0aW9uTWludXRlcyAqIDYwICogMTAwMCkgOiBudWxsLFxuICAgICAgfTtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkoaXRlbSkpO1xuICAgIH0sXG5cbiAgICBnZXRJdGVtOiAoa2V5OiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGl0ZW1TdHIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgICAgICBpZiAoIWl0ZW1TdHIpIHJldHVybiBudWxsO1xuXG4gICAgICAgIGNvbnN0IGl0ZW0gPSBKU09OLnBhcnNlKGl0ZW1TdHIpO1xuICAgICAgICBcbiAgICAgICAgLy8g5qOA5p+l5piv5ZCm6L+H5pyfXG4gICAgICAgIGlmIChpdGVtLmV4cGlyYXRpb24gJiYgRGF0ZS5ub3coKSA+IGl0ZW0uZXhwaXJhdGlvbikge1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaXRlbS52YWx1ZTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVtb3ZlSXRlbTogKGtleTogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgIH0sXG5cbiAgICBjbGVhcjogKCk6IHZvaWQgPT4ge1xuICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XG4gICAgfSxcbiAgfSxcbn07XG5cbi8vIOWGheWuueWuieWFqOetlueVpVxuZXhwb3J0IGNvbnN0IGNvbnRlbnRTZWN1cml0eSA9IHtcbiAgLy8g6aqM6K+B5YaF5a6557G75Z6LXG4gIHZhbGlkYXRlQ29udGVudFR5cGU6IChjb250ZW50VHlwZTogc3RyaW5nLCBhbGxvd2VkVHlwZXM6IHN0cmluZ1tdKTogYm9vbGVhbiA9PiB7XG4gICAgcmV0dXJuIGFsbG93ZWRUeXBlcy5zb21lKHR5cGUgPT4gY29udGVudFR5cGUuaW5jbHVkZXModHlwZSkpO1xuICB9LFxuXG4gIC8vIOajgOafpeaBtuaEj+iEmuacrFxuICBjb250YWluc01hbGljaW91c1NjcmlwdDogKGNvbnRlbnQ6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgIGNvbnN0IG1hbGljaW91c1BhdHRlcm5zID0gW1xuICAgICAgLzxzY3JpcHRbXj5dKj4uKj88XFwvc2NyaXB0Pi9naSxcbiAgICAgIC9qYXZhc2NyaXB0Oi9naSxcbiAgICAgIC9vblxcdytcXHMqPS9naSxcbiAgICAgIC9ldmFsXFxzKlxcKC9naSxcbiAgICAgIC9kb2N1bWVudFxcLndyaXRlL2dpLFxuICAgIF07XG4gICAgXG4gICAgcmV0dXJuIG1hbGljaW91c1BhdHRlcm5zLnNvbWUocGF0dGVybiA9PiBwYXR0ZXJuLnRlc3QoY29udGVudCkpO1xuICB9LFxuXG4gIC8vIOa4heeQhuWNsemZqeWGheWuuVxuICBzYW5pdGl6ZUNvbnRlbnQ6IChjb250ZW50OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIHJldHVybiBjb250ZW50XG4gICAgICAucmVwbGFjZSgvPHNjcmlwdFtePl0qPi4qPzxcXC9zY3JpcHQ+L2dpLCAnJylcbiAgICAgIC5yZXBsYWNlKC9qYXZhc2NyaXB0Oi9naSwgJycpXG4gICAgICAucmVwbGFjZSgvb25cXHcrXFxzKj0vZ2ksICcnKVxuICAgICAgLnJlcGxhY2UoL2V2YWxcXHMqXFwoL2dpLCAnJylcbiAgICAgIC5yZXBsYWNlKC9kb2N1bWVudFxcLndyaXRlL2dpLCAnJyk7XG4gIH0sXG59O1xuXG4vLyDnvZHnu5zlronlhahcbmV4cG9ydCBjb25zdCBuZXR3b3JrU2VjdXJpdHkgPSB7XG4gIC8vIOajgOafpeaYr+WQpuS4ukhUVFBTXG4gIGlzSHR0cHM6ICgpOiBib29sZWFuID0+IHtcbiAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHM6JztcbiAgfSxcblxuICAvLyDpqozor4Hor7fmsYLmnaXmupBcbiAgdmFsaWRhdGVPcmlnaW46IChvcmlnaW46IHN0cmluZywgYWxsb3dlZE9yaWdpbnM6IHN0cmluZ1tdKTogYm9vbGVhbiA9PiB7XG4gICAgcmV0dXJuIGFsbG93ZWRPcmlnaW5zLmluY2x1ZGVzKG9yaWdpbik7XG4gIH0sXG5cbiAgLy8g55Sf5oiQ5a6J5YWo55qE6K+35rGC5aS0XG4gIGdldFNlY3VyZUhlYWRlcnM6IChjc3JmVG9rZW4/OiBzdHJpbmcpOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0+IHtcbiAgICBjb25zdCBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICdYLVJlcXVlc3RlZC1XaXRoJzogJ1hNTEh0dHBSZXF1ZXN0JyxcbiAgICB9O1xuXG4gICAgaWYgKGNzcmZUb2tlbikge1xuICAgICAgaGVhZGVyc1snWC1DU1JGLVRva2VuJ10gPSBjc3JmVG9rZW47XG4gICAgfVxuXG4gICAgcmV0dXJuIGhlYWRlcnM7XG4gIH0sXG59O1xuXG4vLyDmlbDmja7liqDlr4bvvIjnroDljZXlrp7njrDvvIznlJ/kuqfnjq/looPlu7rorq7kvb/nlKjkuJPkuJrliqDlr4blupPvvIlcbi8vIOitpuWRiu+8mui/meS6m+WHveaVsOS4jeaYr+ecn+ato+eahOWKoOWvhu+8jOS4jeW6lOeUqOS6juaVj+aEn+aVsOaNruOAglxuZXhwb3J0IGNvbnN0IGVuY3J5cHRpb24gPSB7XG4gIC8vIEJhc2U2NOe8lueggVxuICBiYXNlNjRFbmNvZGU6ICh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIHJldHVybiBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh0ZXh0KSkpO1xuICB9LFxuXG4gIC8vIEJhc2U2NOino+eggVxuICBiYXNlNjREZWNvZGU6IChlbmNvZGVkVGV4dDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShhdG9iKGVuY29kZWRUZXh0KSkpO1xuICB9LFxuXG4gIC8vIOeugOWNleeahOWtl+espuS4sua3t+a3hu+8iOS4jeaYr+ecn+ato+eahOWKoOWvhu+8iVxuICBvYmZ1c2NhdGU6ICh0ZXh0OiBzdHJpbmcsIGtleTogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICBsZXQgcmVzdWx0ID0gJyc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB0ZXh0Q2hhciA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICAgIGNvbnN0IGtleUNoYXIgPSBrZXkuY2hhckNvZGVBdChpICUga2V5Lmxlbmd0aCk7XG4gICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh0ZXh0Q2hhciBeIGtleUNoYXIpO1xuICAgIH1cbiAgICByZXR1cm4gZW5jcnlwdGlvbi5iYXNlNjRFbmNvZGUocmVzdWx0KTtcbiAgfSxcblxuICAvLyDnroDljZXnmoTlrZfnrKbkuLLlj43mt7fmt4ZcbiAgZGVvYmZ1c2NhdGU6IChvYmZ1c2NhdGVkVGV4dDogc3RyaW5nLCBrZXk6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgY29uc3QgZGVjb2RlZFRleHQgPSBlbmNyeXB0aW9uLmJhc2U2NERlY29kZShvYmZ1c2NhdGVkVGV4dCk7XG4gICAgbGV0IHJlc3VsdCA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVjb2RlZFRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHRleHRDaGFyID0gZGVjb2RlZFRleHQuY2hhckNvZGVBdChpKTtcbiAgICAgIGNvbnN0IGtleUNoYXIgPSBrZXkuY2hhckNvZGVBdChpICUga2V5Lmxlbmd0aCk7XG4gICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh0ZXh0Q2hhciBeIGtleUNoYXIpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LFxufTtcblxuLy8g5a6J5YWo6YWN572u57G75Z6L5a6a5LmJXG5pbnRlcmZhY2UgU2VjdXJpdHlEZWZhdWx0cyB7XG4gIG1heEZpbGVTaXplOiBudW1iZXI7XG4gIGFsbG93ZWRGaWxlVHlwZXM6IHN0cmluZ1tdO1xuICBzZXNzaW9uVGltZW91dDogbnVtYmVyO1xuICBtYXhMb2dpbkF0dGVtcHRzOiBudW1iZXI7XG4gIHBhc3N3b3JkTWluTGVuZ3RoOiBudW1iZXI7XG4gIGNzcmZUb2tlbkV4cGlyeTogbnVtYmVyO1xufVxuXG4vLyDlronlhajphY3nva5cbmV4cG9ydCBjb25zdCBzZWN1cml0eUNvbmZpZzoge1xuICBkZWZhdWx0czogU2VjdXJpdHlEZWZhdWx0cztcbiAgZ2V0OiAoa2V5OiBrZXlvZiBTZWN1cml0eURlZmF1bHRzKSA9PiBudW1iZXIgfCBzdHJpbmdbXTtcbiAgc2V0OiAoa2V5OiBrZXlvZiBTZWN1cml0eURlZmF1bHRzLCB2YWx1ZTogbnVtYmVyIHwgc3RyaW5nW10pID0+IHZvaWQ7XG59ID0ge1xuICAvLyDpu5jorqTlronlhajphY3nva5cbiAgZGVmYXVsdHM6IHtcbiAgICBtYXhGaWxlU2l6ZTogMTAsIC8vIE1CXG4gICAgYWxsb3dlZEZpbGVUeXBlczogWydqcGcnLCAnanBlZycsICdwbmcnLCAnZ2lmJywgJ3BkZicsICdkb2MnLCAnZG9jeCddLFxuICAgIHNlc3Npb25UaW1lb3V0OiAzMCwgLy8g5YiG6ZKfXG4gICAgbWF4TG9naW5BdHRlbXB0czogNSxcbiAgICBwYXNzd29yZE1pbkxlbmd0aDogOCxcbiAgICBjc3JmVG9rZW5FeHBpcnk6IDYwLCAvLyDliIbpkp9cbiAgfSxcblxuICAvLyDojrflj5bphY3nva7lgLxcbiAgZ2V0OiAoa2V5OiBrZXlvZiBTZWN1cml0eURlZmF1bHRzKSA9PiB7XG4gICAgcmV0dXJuIHNlY3VyaXR5Q29uZmlnLmRlZmF1bHRzW2tleV07XG4gIH0sXG5cbiAgLy8g6K6+572u6YWN572u5YC8XG4gIHNldDogKGtleToga2V5b2YgU2VjdXJpdHlEZWZhdWx0cywgdmFsdWU6IG51bWJlciB8IHN0cmluZ1tdKSA9PiB7XG4gICAgKHNlY3VyaXR5Q29uZmlnLmRlZmF1bHRzIGFzIHVua25vd24gYXMgUmVjb3JkPHN0cmluZywgbnVtYmVyIHwgc3RyaW5nW10+KVtrZXldID0gdmFsdWU7XG4gIH0sXG59XG5cbi8vIOWuieWFqOS6i+S7tuaXpeW/l1xuZXhwb3J0IGNvbnN0IHNlY3VyaXR5TG9nZ2VyID0ge1xuICAvLyDorrDlvZXlronlhajkuovku7ZcbiAgbG9nU2VjdXJpdHlFdmVudDogKGV2ZW50OiBzdHJpbmcsIGRldGFpbHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KTogdm9pZCA9PiB7XG4gICAgY29uc3QgbG9nRW50cnkgPSB7XG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIGV2ZW50LFxuICAgICAgZGV0YWlscyxcbiAgICAgIHVzZXJBZ2VudDogbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgfTtcblxuICAgIC8vIOWcqOW8gOWPkeeOr+Wig+S4i+i+k+WHuuWIsOaOp+WItuWPsFxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgY29uc29sZS53YXJuKCdbU2VjdXJpdHkgRXZlbnRdJywgbG9nRW50cnkpO1xuICAgIH1cblxuICAgIC8vIOWcqOeUn+S6p+eOr+Wig+S4i+WPr+S7peWPkemAgeWIsOWuieWFqOebkeaOp+acjeWKoVxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAvLyBUT0RPOiDlj5HpgIHliLDlronlhajnm5HmjqfmnI3liqFcbiAgICAgIC8vIHNlbmRUb1NlY3VyaXR5U2VydmljZShsb2dFbnRyeSk7XG4gICAgfVxuICB9LFxuXG4gIC8vIOiusOW9leeZu+W9leWwneivlVxuICBsb2dMb2dpbkF0dGVtcHQ6IChzdWNjZXNzOiBib29sZWFuLCB1c2VybmFtZT86IHN0cmluZyk6IHZvaWQgPT4ge1xuICAgIHNlY3VyaXR5TG9nZ2VyLmxvZ1NlY3VyaXR5RXZlbnQoJ2xvZ2luX2F0dGVtcHQnLCB7XG4gICAgICBzdWNjZXNzLFxuICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lID8gYCR7dXNlcm5hbWUuc3Vic3RyaW5nKDAsIDMpfSoqKmAgOiAndW5rbm93bicsXG4gICAgfSk7XG4gIH0sXG5cbiAgLy8g6K6w5b2V5Y+v55aR5rS75YqoXG4gIGxvZ1N1c3BpY2lvdXNBY3Rpdml0eTogKGFjdGl2aXR5OiBzdHJpbmcsIGRldGFpbHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KTogdm9pZCA9PiB7XG4gICAgc2VjdXJpdHlMb2dnZXIubG9nU2VjdXJpdHlFdmVudCgnc3VzcGljaW91c19hY3Rpdml0eScsIHtcbiAgICAgIGFjdGl2aXR5LFxuICAgICAgLi4uZGV0YWlscyxcbiAgICB9KTtcbiAgfSxcbn07XG5cbi8vIOWvvOWHuuaJgOacieWuieWFqOW3peWFt1xuZXhwb3J0IGNvbnN0IHNlY3VyaXR5ID0ge1xuICB4c3M6IHhzc1Byb3RlY3Rpb24sXG4gIGNzcmY6IGNzcmZQcm90ZWN0aW9uLFxuICBpbnB1dDogaW5wdXRTYW5pdGl6YXRpb24sXG4gIHBhc3N3b3JkOiBwYXNzd29yZFNlY3VyaXR5LFxuICBzZXNzaW9uOiBzZXNzaW9uU2VjdXJpdHksXG4gIGNvbnRlbnQ6IGNvbnRlbnRTZWN1cml0eSxcbiAgbmV0d29yazogbmV0d29ya1NlY3VyaXR5LFxuICBlbmNyeXB0aW9uLFxuICBjb25maWc6IHNlY3VyaXR5Q29uZmlnLFxuICBsb2dnZXI6IHNlY3VyaXR5TG9nZ2VyLFxufTsiXSwibmFtZXMiOlsiY29udGVudFNlY3VyaXR5IiwiY3NyZlByb3RlY3Rpb24iLCJlbmNyeXB0aW9uIiwiaW5wdXRTYW5pdGl6YXRpb24iLCJuZXR3b3JrU2VjdXJpdHkiLCJwYXNzd29yZFNlY3VyaXR5Iiwic2VjdXJpdHkiLCJzZWN1cml0eUNvbmZpZyIsInNlY3VyaXR5TG9nZ2VyIiwic2Vzc2lvblNlY3VyaXR5IiwieHNzUHJvdGVjdGlvbiIsImVzY2FwZUh0bWwiLCJ0ZXh0IiwibWFwIiwicmVwbGFjZSIsInMiLCJ1bmVzY2FwZUh0bWwiLCJzdHJpcEh0bWwiLCJodG1sIiwic2FmZUlubmVySFRNTCIsImVsZW1lbnQiLCJpbm5lckhUTUwiLCJnZW5lcmF0ZVRva2VuIiwiYXJyYXkiLCJVaW50OEFycmF5IiwiY3J5cHRvIiwiZ2V0UmFuZG9tVmFsdWVzIiwiQXJyYXkiLCJmcm9tIiwiYnl0ZSIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJqb2luIiwidmFsaWRhdGVUb2tlbiIsInRva2VuIiwiZXhwZWN0ZWRUb2tlbiIsImdldFRva2VuRnJvbU1ldGEiLCJtZXRhVGFnIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZ2V0QXR0cmlidXRlIiwic2FuaXRpemVJbnB1dCIsImlucHV0IiwidHJpbSIsInN1YnN0cmluZyIsImlzVmFsaWRFbWFpbCIsImVtYWlsIiwiZW1haWxSZWdleCIsInRlc3QiLCJsZW5ndGgiLCJpc1ZhbGlkVXJsIiwidXJsIiwidXJsT2JqIiwiVVJMIiwiaW5jbHVkZXMiLCJwcm90b2NvbCIsImlzVmFsaWRGaWxlVHlwZSIsImZpbGVOYW1lIiwiYWxsb3dlZFR5cGVzIiwiZXh0ZW5zaW9uIiwic3BsaXQiLCJwb3AiLCJ0b0xvd2VyQ2FzZSIsImlzVmFsaWRGaWxlU2l6ZSIsImZpbGVTaXplIiwibWF4U2l6ZUluTUIiLCJtYXhTaXplSW5CeXRlcyIsImNoZWNrUGFzc3dvcmRTdHJlbmd0aCIsInBhc3N3b3JkIiwiZmVlZGJhY2siLCJzY29yZSIsInB1c2giLCJjb21tb25QYXNzd29yZHMiLCJpc1N0cm9uZyIsImdlbmVyYXRlUmFuZG9tUGFzc3dvcmQiLCJjaGFyc2V0IiwiaSIsInJhbmRvbUluZGV4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiaXNTZXNzaW9uRXhwaXJlZCIsImV4cGlyYXRpb25UaW1lIiwiRGF0ZSIsIm5vdyIsImdlbmVyYXRlU2Vzc2lvbklkIiwic2VjdXJlU3RvcmFnZSIsInNldEl0ZW0iLCJrZXkiLCJ2YWx1ZSIsImV4cGlyYXRpb25NaW51dGVzIiwiaXRlbSIsInRpbWVzdGFtcCIsImV4cGlyYXRpb24iLCJsb2NhbFN0b3JhZ2UiLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0SXRlbSIsIml0ZW1TdHIiLCJwYXJzZSIsInJlbW92ZUl0ZW0iLCJjbGVhciIsInZhbGlkYXRlQ29udGVudFR5cGUiLCJjb250ZW50VHlwZSIsInNvbWUiLCJ0eXBlIiwiY29udGFpbnNNYWxpY2lvdXNTY3JpcHQiLCJjb250ZW50IiwibWFsaWNpb3VzUGF0dGVybnMiLCJwYXR0ZXJuIiwic2FuaXRpemVDb250ZW50IiwiaXNIdHRwcyIsIndpbmRvdyIsImxvY2F0aW9uIiwidmFsaWRhdGVPcmlnaW4iLCJvcmlnaW4iLCJhbGxvd2VkT3JpZ2lucyIsImdldFNlY3VyZUhlYWRlcnMiLCJjc3JmVG9rZW4iLCJoZWFkZXJzIiwiYmFzZTY0RW5jb2RlIiwiYnRvYSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiYmFzZTY0RGVjb2RlIiwiZW5jb2RlZFRleHQiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlc2NhcGUiLCJhdG9iIiwib2JmdXNjYXRlIiwicmVzdWx0IiwidGV4dENoYXIiLCJjaGFyQ29kZUF0Iiwia2V5Q2hhciIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImRlb2JmdXNjYXRlIiwib2JmdXNjYXRlZFRleHQiLCJkZWNvZGVkVGV4dCIsImRlZmF1bHRzIiwibWF4RmlsZVNpemUiLCJhbGxvd2VkRmlsZVR5cGVzIiwic2Vzc2lvblRpbWVvdXQiLCJtYXhMb2dpbkF0dGVtcHRzIiwicGFzc3dvcmRNaW5MZW5ndGgiLCJjc3JmVG9rZW5FeHBpcnkiLCJnZXQiLCJzZXQiLCJsb2dTZWN1cml0eUV2ZW50IiwiZXZlbnQiLCJkZXRhaWxzIiwibG9nRW50cnkiLCJ0b0lTT1N0cmluZyIsInVzZXJBZ2VudCIsIm5hdmlnYXRvciIsImhyZWYiLCJwcm9jZXNzIiwiZW52IiwiTk9ERV9FTlYiLCJjb25zb2xlIiwid2FybiIsImxvZ0xvZ2luQXR0ZW1wdCIsInN1Y2Nlc3MiLCJ1c2VybmFtZSIsImxvZ1N1c3BpY2lvdXNBY3Rpdml0eSIsImFjdGl2aXR5IiwieHNzIiwiY3NyZiIsInNlc3Npb24iLCJuZXR3b3JrIiwiY29uZmlnIiwibG9nZ2VyIl0sIm1hcHBpbmdzIjoiQUFBQSxRQUFRO0FBRVIsUUFBUTs7Ozs7Ozs7Ozs7O0lBd09LQSxlQUFlO2VBQWZBOztJQWhNQUMsY0FBYztlQUFkQTs7SUEyUEFDLFVBQVU7ZUFBVkE7O0lBck9BQyxpQkFBaUI7ZUFBakJBOztJQXlNQUMsZUFBZTtlQUFmQTs7SUFsS0FDLGdCQUFnQjtlQUFoQkE7O0lBZ1RBQyxRQUFRO2VBQVJBOztJQXBFQUMsY0FBYztlQUFkQTs7SUEyQkFDLGNBQWM7ZUFBZEE7O0lBN0xBQyxlQUFlO2VBQWZBOztJQTlLQUMsYUFBYTtlQUFiQTs7O0FBQU4sTUFBTUEsZ0JBQWdCO0lBQzNCLFNBQVM7SUFDVEMsWUFBWSxDQUFDQztRQUNYLE1BQU1DLE1BQThCO1lBQ2xDLEtBQUs7WUFDTCxLQUFLO1lBQ0wsS0FBSztZQUNMLEtBQUs7WUFDTCxLQUFLO1lBQ0wsS0FBSztRQUNQO1FBQ0EsT0FBT0QsS0FBS0UsT0FBTyxDQUFDLGNBQWMsQ0FBQ0MsSUFBTUYs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