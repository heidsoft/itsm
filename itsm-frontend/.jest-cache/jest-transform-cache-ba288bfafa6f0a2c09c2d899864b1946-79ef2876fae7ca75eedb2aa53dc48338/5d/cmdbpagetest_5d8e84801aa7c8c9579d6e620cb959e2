62161c8af2080967da58e4d286ff1a50
/**
 * CMDB 页面测试
 */ "use strict";
jest.mock('next/navigation', ()=>({
        useRouter: ()=>({
                push: mockPush,
                back: mockBack,
                replace: jest.fn(),
                prefetch: jest.fn()
            }),
        useParams: ()=>({
                id: '1'
            })
    }));
jest.mock('antd', ()=>{
    const actual = jest.requireActual('antd');
    const React = jest.requireActual('react');
    modalConfirmSpy = jest.fn();
    formValues = {};
    const FormContext = React.createContext({
        values: {},
        setValues: ()=>{}
    });
    const Form = ({ children, onFinish })=>{
        const [values, setValues] = React.useState({});
        const handleSubmit = (event)=>{
            event.preventDefault();
            onFinish?.(values);
        };
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("form", {
            onSubmit: handleSubmit,
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(FormContext.Provider, {
                value: {
                    values,
                    setValues
                },
                children: children
            })
        });
    };
    Form.Item = ({ label, name, children })=>{
        const context = React.useContext(FormContext);
        if (!React.isValidElement(children)) {
            return label ? /*#__PURE__*/ (0, _jsxruntime.jsxs)("label", {
                children: [
                    label,
                    children
                ]
            }) : /*#__PURE__*/ (0, _jsxruntime.jsx)(_jsxruntime.Fragment, {
                children: children
            });
        }
        const handleChange = (event)=>{
            const value = event?.target?.value ?? event;
            context.setValues((prev)=>{
                formValues = {
                    ...prev,
                    [name]: value
                };
                return formValues;
            });
            children.props.onChange?.(event);
        };
        const inputElement = React.cloneElement(children, {
            'aria-label': label,
            name,
            value: context.values[name] ?? '',
            onChange: handleChange
        });
        return label ? /*#__PURE__*/ (0, _jsxruntime.jsxs)("label", {
            children: [
                label,
                inputElement
            ]
        }) : inputElement;
    };
    Form.useForm = ()=>[
            {
                getFieldsValue: ()=>({
                        ...formValues
                    }),
                resetFields: jest.fn(()=>{
                    formValues = {};
                }),
                setFieldsValue: jest.fn((values)=>{
                    formValues = {
                        ...formValues,
                        ...values
                    };
                })
            }
        ];
    const Input = ({ allowClear, ...rest })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
            ...rest
        });
    Input.TextArea = ({ allowClear, ...rest })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("textarea", {
            ...rest
        });
    const Select = ({ children, onChange, value, allowClear, loading, placeholder, style, ...rest })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("select", {
            ...rest,
            value: value ?? '',
            onChange: (event)=>onChange?.(event.target.value),
            children: children
        });
    Select.Option = ({ value, children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
            value: value,
            children: children
        });
    const Button = ({ children, onClick, htmlType, danger, type, loading, ...rest })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
            type: htmlType === 'submit' ? 'submit' : 'button',
            onClick: onClick,
            "data-danger": danger ? 'true' : undefined,
            "data-variant": type || undefined,
            ...rest,
            children: children
        });
    const Table = ({ dataSource = [], columns = [], loading, pagination, ...rest })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            children: [
                pagination?.onChange && /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                    type: "button",
                    "data-testid": "pagination-next",
                    onClick: ()=>pagination.onChange(2, pagination.pageSize || 10),
                    children: "Next"
                }),
                dataSource.map((record, rowIndex)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        children: columns.map((column, colIndex)=>{
                            const value = record[column.dataIndex];
                            const content = column.render ? column.render(value, record) : value;
                            return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                children: content
                            }, column.key ?? column.dataIndex ?? colIndex);
                        })
                    }, record.id ?? rowIndex))
            ]
        });
    const Tabs = ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            children: children
        });
    Tabs.TabPane = ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            children: children
        });
    const Descriptions = ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            children: children
        });
    Descriptions.Item = ({ label, children })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                    children: label
                }),
                children
            ]
        });
    const Card = ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            children: children
        });
    const Space = ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            children: children
        });
    const Breadcrumb = ({ items = [] })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("nav", {
            children: items.map((item, index)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                    children: item.title
                }, index))
        });
    const Tag = ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
            children: children
        });
    const Skeleton = ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            children: children
        });
    const Result = ({ title, subTitle, extra })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    children: title
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    children: subTitle
                }),
                extra
            ]
        });
    const Empty = ({ description })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            children: description
        });
    const Tooltip = ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
            children: children
        });
    return {
        ...actual,
        Button,
        Card,
        Breadcrumb,
        Descriptions,
        Empty,
        Form,
        Input,
        Modal: {
            ...actual.Modal,
            confirm: modalConfirmSpy
        },
        Select,
        Skeleton,
        Space,
        Table,
        Tabs,
        Tag,
        Tooltip,
        Result,
        message: {
            success: jest.fn(),
            error: jest.fn(),
            warning: jest.fn(),
            info: jest.fn()
        }
    };
});
jest.mock('@/modules/cmdb/api', ()=>({
        CMDBApi: {
            getCIs: jest.fn(),
            getCI: jest.fn(),
            getTypes: jest.fn(),
            createCI: jest.fn(),
            deleteCI: jest.fn()
        }
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
require("@testing-library/jest-dom");
const _CIList = /*#__PURE__*/ _interop_require_default(require("../../modules/cmdb/components/CIList"));
const _CIDetail = /*#__PURE__*/ _interop_require_default(require("../../modules/cmdb/components/CIDetail"));
const _page = /*#__PURE__*/ _interop_require_default(require("../../app/(main)/cmdb/cis/create/page"));
const _api = require("../../modules/cmdb/api");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const mockPush = jest.fn();
const mockBack = jest.fn();
var modalConfirmSpy;
var formValues = {};
const mockTypes = [
    {
        id: 1,
        name: '服务器',
        description: '',
        is_active: true,
        tenant_id: 1
    }
];
const mockItem = {
    id: 1,
    name: '应用服务器-01',
    description: '测试资产',
    type: 'server',
    status: 'active',
    ci_type_id: 1,
    tenant_id: 1,
    created_at: '2024-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z'
};
describe('CMDB 页面', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        if (modalConfirmSpy) {
            modalConfirmSpy.mockClear();
        }
        _api.CMDBApi.getTypes.mockResolvedValue(mockTypes);
        _api.CMDBApi.getCIs.mockResolvedValue({
            items: [
                mockItem
            ],
            total: 1,
            page: 1,
            size: 10
        });
        _api.CMDBApi.getCI.mockResolvedValue(mockItem);
        _api.CMDBApi.createCI.mockResolvedValue(mockItem);
        _api.CMDBApi.deleteCI.mockResolvedValue(undefined);
    });
    it('CI 列表应展示资产并支持跳转', async ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CIList.default, {}));
        await _react1.screen.findByText('应用服务器-01');
        _react1.fireEvent.click(_react1.screen.getByRole('button', {
            name: '应用服务器-01'
        }));
        expect(mockPush).toHaveBeenCalledWith('/cmdb/cis/1');
    });
    it('CI 列表筛选触发数据刷新', async ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CIList.default, {}));
        await _react1.screen.findByText('应用服务器-01');
        _react1.fireEvent.change(_react1.screen.getByPlaceholderText('搜索名称/序列号'), {
            target: {
                value: 'server'
            }
        });
        const queryButton = _react1.screen.getByText('查询').closest('button');
        _react1.fireEvent.click(queryButton);
        await (0, _react1.waitFor)(()=>{
            expect(_api.CMDBApi.getCIs).toHaveBeenCalledTimes(2);
        });
    });
    it('CI 列表筛选条件应传递到请求', async ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CIList.default, {}));
        await _react1.screen.findByText('应用服务器-01');
        _react1.fireEvent.change(_react1.screen.getByPlaceholderText('搜索名称/序列号'), {
            target: {
                value: 'db'
            }
        });
        _react1.fireEvent.change(document.querySelector('select[name="ci_type_id"]'), {
            target: {
                value: '1'
            }
        });
        _react1.fireEvent.change(document.querySelector('select[name="status"]'), {
            target: {
                value: 'inactive'
            }
        });
        const queryButton = _react1.screen.getByText('查询').closest('button');
        _react1.fireEvent.click(queryButton);
        await (0, _react1.waitFor)(()=>{
            const lastCall = _api.CMDBApi.getCIs.mock.calls.at(-1);
            expect(lastCall?.[0]).toEqual(expect.objectContaining({
                search: 'db',
                ci_type_id: '1',
                status: 'inactive'
            }));
        });
    });
    it('分页切换应触发请求', async ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CIList.default, {}));
        await _react1.screen.findByText('应用服务器-01');
        _react1.fireEvent.click(_react1.screen.getByTestId('pagination-next'));
        await (0, _react1.waitFor)(()=>{
            expect(_api.CMDBApi.getCIs).toHaveBeenCalledTimes(2);
        });
    });
    it('刷新按钮应重新拉取数据', async ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CIList.default, {}));
        await _react1.screen.findByText('应用服务器-01');
        _react1.fireEvent.click(_react1.screen.getByRole('button', {
            name: '刷新'
        }));
        await (0, _react1.waitFor)(()=>{
            expect(_api.CMDBApi.getCIs).toHaveBeenCalledTimes(2);
        });
    });
    it('列表为空时不应展示资产名称', async ()=>{
        _api.CMDBApi.getCIs.mockResolvedValueOnce({
            items: [],
            total: 0,
            page: 1,
            size: 10
        });
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CIList.default, {}));
        await (0, _react1.waitFor)(()=>{
            expect(_api.CMDBApi.getCIs).toHaveBeenCalled();
        });
        expect(_react1.screen.queryByText('应用服务器-01')).not.toBeInTheDocument();
    });
    it('删除失败应提示错误', async ()=>{
        const { Modal } = require('antd');
        Modal.confirm.mockImplementation(({ onOk })=>{
            onOk?.();
        });
        _api.CMDBApi.deleteCI.mockRejectedValueOnce(new Error('删除失败'));
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CIList.default, {}));
        await _react1.screen.findByText('应用服务器-01');
        _react1.fireEvent.click(_react1.screen.getByRole('button', {
            name: '删除'
        }));
        await (0, _react1.waitFor)(()=>{
            expect(_api.CMDBApi.deleteCI).toHaveBeenCalledWith(1);
        });
    });
    it('CI 删除应弹出确认并调用删除接口', async ()=>{
        const { Modal } = require('antd');
        Modal.confirm.mockImplementation(({ onOk })=>{
            onOk?.();
        });
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CIList.default, {}));
        await _react1.screen.findByText('应用服务器-01');
        _react1.fireEvent.click(_react1.screen.getByRole('button', {
            name: '删除'
        }));
        await (0, _react1.waitFor)(()=>{
            expect(_api.CMDBApi.deleteCI).toHaveBeenCalledWith(1);
        });
    });
    it('CI 详情应展示资产信息', async ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CIDetail.default, {}));
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.getByText('应用服务器-01')).toBeInTheDocument();
        });
        expect(_react1.screen.getByText(/配置项 ID: 1/)).toBeInTheDocument();
    });
    it('CI 详情加载失败应显示 404', async ()=>{
        _api.CMDBApi.getCI.mockRejectedValueOnce(new Error('not found'));
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CIDetail.default, {}));
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.getByText('404')).toBeInTheDocument();
        });
    });
    it('创建 CI 表单应提交并返回列表', async ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
        await (0, _react1.waitFor)(()=>{
            expect(_api.CMDBApi.getTypes).toHaveBeenCalled();
        });
        _react1.fireEvent.change(_react1.screen.getByLabelText('资产名称'), {
            target: {
                value: '新资产'
            }
        });
        _react1.fireEvent.change(_react1.screen.getByLabelText('资产类型'), {
            target: {
                value: '1'
            }
        });
        _react1.fireEvent.change(_react1.screen.getByLabelText('状态'), {
            target: {
                value: 'active'
            }
        });
        const form = document.querySelector('form');
        _react1.fireEvent.submit(form);
        await (0, _react1.waitFor)(()=>{
            expect(_api.CMDBApi.createCI).toHaveBeenCalled();
        });
        expect(mockPush).toHaveBeenCalledWith('/cmdb');
    });
    it('创建 CI 表单应校验扩展属性 JSON', async ()=>{
        const antd = require('antd');
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
        await (0, _react1.waitFor)(()=>{
            expect(_api.CMDBApi.getTypes).toHaveBeenCalled();
        });
        _react1.fireEvent.change(_react1.screen.getByLabelText('资产名称'), {
            target: {
                value: '新资产'
            }
        });
        _react1.fireEvent.change(_react1.screen.getByLabelText('资产类型'), {
            target: {
                value: '1'
            }
        });
        _react1.fireEvent.change(_react1.screen.getByLabelText('状态'), {
            target: {
                value: 'active'
            }
        });
        _react1.fireEvent.change(_react1.screen.getByLabelText('扩展属性'), {
            target: {
                value: '{bad json'
            }
        });
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.getByLabelText('扩展属性')).toHaveValue('{bad json');
        });
        _react1.fireEvent.click(_react1.screen.getByRole('button', {
            name: '保存'
        }));
        await (0, _react1.waitFor)(()=>{
            expect(_api.CMDBApi.createCI).not.toHaveBeenCalled();
        });
        expect(mockPush).not.toHaveBeenCalled();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZWlkc29mdC9Eb3dubG9hZHMvcmVzZWFyY2gvaXRzbS9pdHNtLWZyb250ZW5kL3NyYy9fX3Rlc3RzX18vcGFnZXMvY21kYi1wYWdlLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ01EQiDpobXpnaLmtYvor5VcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIGZpcmVFdmVudCwgd2FpdEZvciwgYWN0IH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgJ0B0ZXN0aW5nLWxpYnJhcnkvamVzdC1kb20nO1xuXG5pbXBvcnQgQ0lMaXN0IGZyb20gJ0AvbW9kdWxlcy9jbWRiL2NvbXBvbmVudHMvQ0lMaXN0JztcbmltcG9ydCBDSURldGFpbCBmcm9tICdAL21vZHVsZXMvY21kYi9jb21wb25lbnRzL0NJRGV0YWlsJztcbmltcG9ydCBDcmVhdGVDSVBhZ2UgZnJvbSAnQC9hcHAvKG1haW4pL2NtZGIvY2lzL2NyZWF0ZS9wYWdlJztcbmltcG9ydCB7IENNREJBcGkgfSBmcm9tICdAL21vZHVsZXMvY21kYi9hcGknO1xuaW1wb3J0IHR5cGUgeyBDb25maWd1cmF0aW9uSXRlbSwgQ0lUeXBlIH0gZnJvbSAnQC9tb2R1bGVzL2NtZGIvdHlwZXMnO1xuXG5jb25zdCBtb2NrUHVzaCA9IGplc3QuZm4oKTtcbmNvbnN0IG1vY2tCYWNrID0gamVzdC5mbigpO1xudmFyIG1vZGFsQ29uZmlybVNweTogamVzdC5Nb2NrO1xudmFyIGZvcm1WYWx1ZXM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbmplc3QubW9jaygnbmV4dC9uYXZpZ2F0aW9uJywgKCkgPT4gKHtcbiAgdXNlUm91dGVyOiAoKSA9PiAoe1xuICAgIHB1c2g6IG1vY2tQdXNoLFxuICAgIGJhY2s6IG1vY2tCYWNrLFxuICAgIHJlcGxhY2U6IGplc3QuZm4oKSxcbiAgICBwcmVmZXRjaDogamVzdC5mbigpLFxuICB9KSxcbiAgdXNlUGFyYW1zOiAoKSA9PiAoeyBpZDogJzEnIH0pLFxufSkpO1xuXG5qZXN0Lm1vY2soJ2FudGQnLCAoKSA9PiB7XG4gIGNvbnN0IGFjdHVhbCA9IGplc3QucmVxdWlyZUFjdHVhbCgnYW50ZCcpO1xuICBjb25zdCBSZWFjdCA9IGplc3QucmVxdWlyZUFjdHVhbCgncmVhY3QnKTtcbiAgbW9kYWxDb25maXJtU3B5ID0gamVzdC5mbigpO1xuICBmb3JtVmFsdWVzID0ge307XG4gIGNvbnN0IEZvcm1Db250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dCh7XG4gICAgdmFsdWVzOiB7fSxcbiAgICBzZXRWYWx1ZXM6ICgpID0+IHt9LFxuICB9KTtcblxuICBjb25zdCBGb3JtID0gKHsgY2hpbGRyZW4sIG9uRmluaXNoIH06IGFueSkgPT4ge1xuICAgIGNvbnN0IFt2YWx1ZXMsIHNldFZhbHVlc10gPSBSZWFjdC51c2VTdGF0ZTxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4oe30pO1xuICAgIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IChldmVudDogUmVhY3QuRm9ybUV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgb25GaW5pc2g/Lih2YWx1ZXMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gKFxuICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZVN1Ym1pdH0+XG4gICAgICAgIDxGb3JtQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17eyB2YWx1ZXMsIHNldFZhbHVlcyB9fT5cbiAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvRm9ybUNvbnRleHQuUHJvdmlkZXI+XG4gICAgICA8L2Zvcm0+XG4gICAgKTtcbiAgfTtcblxuICBGb3JtLkl0ZW0gPSAoeyBsYWJlbCwgbmFtZSwgY2hpbGRyZW4gfTogYW55KSA9PiB7XG4gICAgY29uc3QgY29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoRm9ybUNvbnRleHQpO1xuICAgIGlmICghUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pKSB7XG4gICAgICByZXR1cm4gbGFiZWwgPyAoXG4gICAgICAgIDxsYWJlbD5cbiAgICAgICAgICB7bGFiZWx9XG4gICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L2xhYmVsPlxuICAgICAgKSA6IChcbiAgICAgICAgPD57Y2hpbGRyZW59PC8+XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IChldmVudDogYW55KSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGV2ZW50Py50YXJnZXQ/LnZhbHVlID8/IGV2ZW50O1xuICAgICAgY29udGV4dC5zZXRWYWx1ZXMoKHByZXY6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiB7XG4gICAgICAgIGZvcm1WYWx1ZXMgPSB7IC4uLnByZXYsIFtuYW1lXTogdmFsdWUgfTtcbiAgICAgICAgcmV0dXJuIGZvcm1WYWx1ZXM7XG4gICAgICB9KTtcbiAgICAgIGNoaWxkcmVuLnByb3BzLm9uQ2hhbmdlPy4oZXZlbnQpO1xuICAgIH07XG5cbiAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBSZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGRyZW4sIHtcbiAgICAgICdhcmlhLWxhYmVsJzogbGFiZWwsXG4gICAgICBuYW1lLFxuICAgICAgdmFsdWU6IGNvbnRleHQudmFsdWVzW25hbWVdID8/ICcnLFxuICAgICAgb25DaGFuZ2U6IGhhbmRsZUNoYW5nZSxcbiAgICB9KTtcblxuICAgIHJldHVybiBsYWJlbCA/IDxsYWJlbD57bGFiZWx9e2lucHV0RWxlbWVudH08L2xhYmVsPiA6IGlucHV0RWxlbWVudDtcbiAgfTtcblxuICBGb3JtLnVzZUZvcm0gPSAoKSA9PiBbXG4gICAge1xuICAgICAgZ2V0RmllbGRzVmFsdWU6ICgpID0+ICh7IC4uLmZvcm1WYWx1ZXMgfSksXG4gICAgICByZXNldEZpZWxkczogamVzdC5mbigoKSA9PiB7XG4gICAgICAgIGZvcm1WYWx1ZXMgPSB7fTtcbiAgICAgIH0pLFxuICAgICAgc2V0RmllbGRzVmFsdWU6IGplc3QuZm4oKHZhbHVlczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pID0+IHtcbiAgICAgICAgZm9ybVZhbHVlcyA9IHsgLi4uZm9ybVZhbHVlcywgLi4udmFsdWVzIH07XG4gICAgICB9KSxcbiAgICB9LFxuICBdO1xuXG4gIGNvbnN0IElucHV0ID0gKHsgYWxsb3dDbGVhciwgLi4ucmVzdCB9OiBhbnkpID0+IDxpbnB1dCB7Li4ucmVzdH0gLz47XG4gIElucHV0LlRleHRBcmVhID0gKHsgYWxsb3dDbGVhciwgLi4ucmVzdCB9OiBhbnkpID0+IDx0ZXh0YXJlYSB7Li4ucmVzdH0gLz47XG5cbiAgY29uc3QgU2VsZWN0ID0gKHtcbiAgICBjaGlsZHJlbixcbiAgICBvbkNoYW5nZSxcbiAgICB2YWx1ZSxcbiAgICBhbGxvd0NsZWFyLFxuICAgIGxvYWRpbmcsXG4gICAgcGxhY2Vob2xkZXIsXG4gICAgc3R5bGUsXG4gICAgLi4ucmVzdFxuICB9OiBhbnkpID0+IChcbiAgICA8c2VsZWN0XG4gICAgICB7Li4ucmVzdH1cbiAgICAgIHZhbHVlPXt2YWx1ZSA/PyAnJ31cbiAgICAgIG9uQ2hhbmdlPXsoZXZlbnQpID0+IG9uQ2hhbmdlPy4oZXZlbnQudGFyZ2V0LnZhbHVlKX1cbiAgICA+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9zZWxlY3Q+XG4gICk7XG4gIFNlbGVjdC5PcHRpb24gPSAoeyB2YWx1ZSwgY2hpbGRyZW4gfTogYW55KSA9PiA8b3B0aW9uIHZhbHVlPXt2YWx1ZX0+e2NoaWxkcmVufTwvb3B0aW9uPjtcblxuICBjb25zdCBCdXR0b24gPSAoe1xuICAgIGNoaWxkcmVuLFxuICAgIG9uQ2xpY2ssXG4gICAgaHRtbFR5cGUsXG4gICAgZGFuZ2VyLFxuICAgIHR5cGUsXG4gICAgbG9hZGluZyxcbiAgICAuLi5yZXN0XG4gIH06IGFueSkgPT4gKFxuICAgIDxidXR0b25cbiAgICAgIHR5cGU9e2h0bWxUeXBlID09PSAnc3VibWl0JyA/ICdzdWJtaXQnIDogJ2J1dHRvbid9XG4gICAgICBvbkNsaWNrPXtvbkNsaWNrfVxuICAgICAgZGF0YS1kYW5nZXI9e2RhbmdlciA/ICd0cnVlJyA6IHVuZGVmaW5lZH1cbiAgICAgIGRhdGEtdmFyaWFudD17dHlwZSB8fCB1bmRlZmluZWR9XG4gICAgICB7Li4ucmVzdH1cbiAgICA+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9idXR0b24+XG4gICk7XG5cbiAgY29uc3QgVGFibGUgPSAoeyBkYXRhU291cmNlID0gW10sIGNvbHVtbnMgPSBbXSwgbG9hZGluZywgcGFnaW5hdGlvbiwgLi4ucmVzdCB9OiBhbnkpID0+IChcbiAgICA8ZGl2PlxuICAgICAge3BhZ2luYXRpb24/Lm9uQ2hhbmdlICYmIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgIGRhdGEtdGVzdGlkPVwicGFnaW5hdGlvbi1uZXh0XCJcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBwYWdpbmF0aW9uLm9uQ2hhbmdlKDIsIHBhZ2luYXRpb24ucGFnZVNpemUgfHwgMTApfVxuICAgICAgICA+XG4gICAgICAgICAgTmV4dFxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICl9XG4gICAgICB7ZGF0YVNvdXJjZS5tYXAoKHJlY29yZDogYW55LCByb3dJbmRleDogbnVtYmVyKSA9PiAoXG4gICAgICAgIDxkaXYga2V5PXtyZWNvcmQuaWQgPz8gcm93SW5kZXh9PlxuICAgICAgICAgIHtjb2x1bW5zLm1hcCgoY29sdW1uOiBhbnksIGNvbEluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVjb3JkW2NvbHVtbi5kYXRhSW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGNvbHVtbi5yZW5kZXIgPyBjb2x1bW4ucmVuZGVyKHZhbHVlLCByZWNvcmQpIDogdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gPGRpdiBrZXk9e2NvbHVtbi5rZXkgPz8gY29sdW1uLmRhdGFJbmRleCA/PyBjb2xJbmRleH0+e2NvbnRlbnR9PC9kaXY+O1xuICAgICAgICAgIH0pfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICkpfVxuICAgIDwvZGl2PlxuICApO1xuXG4gIGNvbnN0IFRhYnMgPSAoeyBjaGlsZHJlbiB9OiBhbnkpID0+IDxkaXY+e2NoaWxkcmVufTwvZGl2PjtcbiAgVGFicy5UYWJQYW5lID0gKHsgY2hpbGRyZW4gfTogYW55KSA9PiA8ZGl2PntjaGlsZHJlbn08L2Rpdj47XG5cbiAgY29uc3QgRGVzY3JpcHRpb25zID0gKHsgY2hpbGRyZW4gfTogYW55KSA9PiA8ZGl2PntjaGlsZHJlbn08L2Rpdj47XG4gIERlc2NyaXB0aW9ucy5JdGVtID0gKHsgbGFiZWwsIGNoaWxkcmVuIH06IGFueSkgPT4gKFxuICAgIDxkaXY+XG4gICAgICA8c3Bhbj57bGFiZWx9PC9zcGFuPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvZGl2PlxuICApO1xuXG4gIGNvbnN0IENhcmQgPSAoeyBjaGlsZHJlbiB9OiBhbnkpID0+IDxkaXY+e2NoaWxkcmVufTwvZGl2PjtcbiAgY29uc3QgU3BhY2UgPSAoeyBjaGlsZHJlbiB9OiBhbnkpID0+IDxkaXY+e2NoaWxkcmVufTwvZGl2PjtcbiAgY29uc3QgQnJlYWRjcnVtYiA9ICh7IGl0ZW1zID0gW10gfTogYW55KSA9PiAoXG4gICAgPG5hdj5cbiAgICAgIHtpdGVtcy5tYXAoKGl0ZW06IGFueSwgaW5kZXg6IG51bWJlcikgPT4gKFxuICAgICAgICA8c3BhbiBrZXk9e2luZGV4fT57aXRlbS50aXRsZX08L3NwYW4+XG4gICAgICApKX1cbiAgICA8L25hdj5cbiAgKTtcbiAgY29uc3QgVGFnID0gKHsgY2hpbGRyZW4gfTogYW55KSA9PiA8c3Bhbj57Y2hpbGRyZW59PC9zcGFuPjtcbiAgY29uc3QgU2tlbGV0b24gPSAoeyBjaGlsZHJlbiB9OiBhbnkpID0+IDxkaXY+e2NoaWxkcmVufTwvZGl2PjtcbiAgY29uc3QgUmVzdWx0ID0gKHsgdGl0bGUsIHN1YlRpdGxlLCBleHRyYSB9OiBhbnkpID0+IChcbiAgICA8ZGl2PlxuICAgICAgPGRpdj57dGl0bGV9PC9kaXY+XG4gICAgICA8ZGl2PntzdWJUaXRsZX08L2Rpdj5cbiAgICAgIHtleHRyYX1cbiAgICA8L2Rpdj5cbiAgKTtcbiAgY29uc3QgRW1wdHkgPSAoeyBkZXNjcmlwdGlvbiB9OiBhbnkpID0+IDxkaXY+e2Rlc2NyaXB0aW9ufTwvZGl2PjtcbiAgY29uc3QgVG9vbHRpcCA9ICh7IGNoaWxkcmVuIH06IGFueSkgPT4gPHNwYW4+e2NoaWxkcmVufTwvc3Bhbj47XG5cbiAgcmV0dXJuIHtcbiAgICAuLi5hY3R1YWwsXG4gICAgQnV0dG9uLFxuICAgIENhcmQsXG4gICAgQnJlYWRjcnVtYixcbiAgICBEZXNjcmlwdGlvbnMsXG4gICAgRW1wdHksXG4gICAgRm9ybSxcbiAgICBJbnB1dCxcbiAgICBNb2RhbDoge1xuICAgICAgLi4uYWN0dWFsLk1vZGFsLFxuICAgICAgY29uZmlybTogbW9kYWxDb25maXJtU3B5LFxuICAgIH0sXG4gICAgU2VsZWN0LFxuICAgIFNrZWxldG9uLFxuICAgIFNwYWNlLFxuICAgIFRhYmxlLFxuICAgIFRhYnMsXG4gICAgVGFnLFxuICAgIFRvb2x0aXAsXG4gICAgUmVzdWx0LFxuICAgIG1lc3NhZ2U6IHtcbiAgICAgIHN1Y2Nlc3M6IGplc3QuZm4oKSxcbiAgICAgIGVycm9yOiBqZXN0LmZuKCksXG4gICAgICB3YXJuaW5nOiBqZXN0LmZuKCksXG4gICAgICBpbmZvOiBqZXN0LmZuKCksXG4gICAgfSxcbiAgfTtcbn0pO1xuXG5qZXN0Lm1vY2soJ0AvbW9kdWxlcy9jbWRiL2FwaScsICgpID0+ICh7XG4gIENNREJBcGk6IHtcbiAgICBnZXRDSXM6IGplc3QuZm4oKSxcbiAgICBnZXRDSTogamVzdC5mbigpLFxuICAgIGdldFR5cGVzOiBqZXN0LmZuKCksXG4gICAgY3JlYXRlQ0k6IGplc3QuZm4oKSxcbiAgICBkZWxldGVDSTogamVzdC5mbigpLFxuICB9LFxufSkpO1xuXG5jb25zdCBtb2NrVHlwZXM6IENJVHlwZVtdID0gW1xuICB7XG4gICAgaWQ6IDEsXG4gICAgbmFtZTogJ+acjeWKoeWZqCcsXG4gICAgZGVzY3JpcHRpb246ICcnLFxuICAgIGlzX2FjdGl2ZTogdHJ1ZSxcbiAgICB0ZW5hbnRfaWQ6IDEsXG4gIH0sXG5dO1xuXG5jb25zdCBtb2NrSXRlbTogQ29uZmlndXJhdGlvbkl0ZW0gPSB7XG4gIGlkOiAxLFxuICBuYW1lOiAn5bqU55So5pyN5Yqh5ZmoLTAxJyxcbiAgZGVzY3JpcHRpb246ICfmtYvor5XotYTkuqcnLFxuICB0eXBlOiAnc2VydmVyJyxcbiAgc3RhdHVzOiAnYWN0aXZlJyxcbiAgY2lfdHlwZV9pZDogMSxcbiAgdGVuYW50X2lkOiAxLFxuICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxuICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0wMVQwMDowMDowMFonLFxufTtcblxuZGVzY3JpYmUoJ0NNREIg6aG16Z2iJywgKCkgPT4ge1xuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBpZiAobW9kYWxDb25maXJtU3B5KSB7XG4gICAgICBtb2RhbENvbmZpcm1TcHkubW9ja0NsZWFyKCk7XG4gICAgfVxuICAgIChDTURCQXBpLmdldFR5cGVzIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobW9ja1R5cGVzKTtcbiAgICAoQ01EQkFwaS5nZXRDSXMgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICBpdGVtczogW21vY2tJdGVtXSxcbiAgICAgIHRvdGFsOiAxLFxuICAgICAgcGFnZTogMSxcbiAgICAgIHNpemU6IDEwLFxuICAgIH0pO1xuICAgIChDTURCQXBpLmdldENJIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobW9ja0l0ZW0pO1xuICAgIChDTURCQXBpLmNyZWF0ZUNJIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUobW9ja0l0ZW0pO1xuICAgIChDTURCQXBpLmRlbGV0ZUNJIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcbiAgfSk7XG5cbiAgaXQoJ0NJIOWIl+ihqOW6lOWxleekuui1hOS6p+W5tuaUr+aMgei3s+i9rCcsIGFzeW5jICgpID0+IHtcbiAgICByZW5kZXIoPENJTGlzdCAvPik7XG5cbiAgICBhd2FpdCBzY3JlZW4uZmluZEJ5VGV4dCgn5bqU55So5pyN5Yqh5ZmoLTAxJyk7XG5cbiAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAn5bqU55So5pyN5Yqh5ZmoLTAxJyB9KSk7XG4gICAgZXhwZWN0KG1vY2tQdXNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2NtZGIvY2lzLzEnKTtcbiAgfSk7XG5cbiAgaXQoJ0NJIOWIl+ihqOetm+mAieinpuWPkeaVsOaNruWIt+aWsCcsIGFzeW5jICgpID0+IHtcbiAgICByZW5kZXIoPENJTGlzdCAvPik7XG5cbiAgICBhd2FpdCBzY3JlZW4uZmluZEJ5VGV4dCgn5bqU55So5pyN5Yqh5ZmoLTAxJyk7XG5cbiAgICBmaXJlRXZlbnQuY2hhbmdlKHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgn5pCc57Si5ZCN56ewL+W6j+WIl+WPtycpLCB7XG4gICAgICB0YXJnZXQ6IHsgdmFsdWU6ICdzZXJ2ZXInIH0sXG4gICAgfSk7XG4gICAgY29uc3QgcXVlcnlCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCfmn6Xor6InKS5jbG9zZXN0KCdidXR0b24nKTtcbiAgICBmaXJlRXZlbnQuY2xpY2socXVlcnlCdXR0b24gYXMgSFRNTEVsZW1lbnQpO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QoQ01EQkFwaS5nZXRDSXMpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygyKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ0NJIOWIl+ihqOetm+mAieadoeS7tuW6lOS8oOmAkuWIsOivt+axgicsIGFzeW5jICgpID0+IHtcbiAgICByZW5kZXIoPENJTGlzdCAvPik7XG5cbiAgICBhd2FpdCBzY3JlZW4uZmluZEJ5VGV4dCgn5bqU55So5pyN5Yqh5ZmoLTAxJyk7XG5cbiAgICBmaXJlRXZlbnQuY2hhbmdlKHNjcmVlbi5nZXRCeVBsYWNlaG9sZGVyVGV4dCgn5pCc57Si5ZCN56ewL+W6j+WIl+WPtycpLCB7XG4gICAgICB0YXJnZXQ6IHsgdmFsdWU6ICdkYicgfSxcbiAgICB9KTtcbiAgICBmaXJlRXZlbnQuY2hhbmdlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdFtuYW1lPVwiY2lfdHlwZV9pZFwiXScpIGFzIEhUTUxTZWxlY3RFbGVtZW50LCB7XG4gICAgICB0YXJnZXQ6IHsgdmFsdWU6ICcxJyB9LFxuICAgIH0pO1xuICAgIGZpcmVFdmVudC5jaGFuZ2UoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VsZWN0W25hbWU9XCJzdGF0dXNcIl0nKSBhcyBIVE1MU2VsZWN0RWxlbWVudCwge1xuICAgICAgdGFyZ2V0OiB7IHZhbHVlOiAnaW5hY3RpdmUnIH0sXG4gICAgfSk7XG5cbiAgICBjb25zdCBxdWVyeUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ+afpeivoicpLmNsb3Nlc3QoJ2J1dHRvbicpO1xuICAgIGZpcmVFdmVudC5jbGljayhxdWVyeUJ1dHRvbiBhcyBIVE1MRWxlbWVudCk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGNvbnN0IGxhc3RDYWxsID0gKENNREJBcGkuZ2V0Q0lzIGFzIGplc3QuTW9jaykubW9jay5jYWxscy5hdCgtMSk7XG4gICAgICBleHBlY3QobGFzdENhbGw/LlswXSkudG9FcXVhbChcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIHNlYXJjaDogJ2RiJyxcbiAgICAgICAgICBjaV90eXBlX2lkOiAnMScsXG4gICAgICAgICAgc3RhdHVzOiAnaW5hY3RpdmUnLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ+WIhumhteWIh+aNouW6lOinpuWPkeivt+axgicsIGFzeW5jICgpID0+IHtcbiAgICByZW5kZXIoPENJTGlzdCAvPik7XG5cbiAgICBhd2FpdCBzY3JlZW4uZmluZEJ5VGV4dCgn5bqU55So5pyN5Yqh5ZmoLTAxJyk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRlc3RJZCgncGFnaW5hdGlvbi1uZXh0JykpO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QoQ01EQkFwaS5nZXRDSXMpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygyKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ+WIt+aWsOaMiemSruW6lOmHjeaWsOaLieWPluaVsOaNricsIGFzeW5jICgpID0+IHtcbiAgICByZW5kZXIoPENJTGlzdCAvPik7XG5cbiAgICBhd2FpdCBzY3JlZW4uZmluZEJ5VGV4dCgn5bqU55So5pyN5Yqh5ZmoLTAxJyk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogJ+WIt+aWsCcgfSkpO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QoQ01EQkFwaS5nZXRDSXMpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygyKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ+WIl+ihqOS4uuepuuaXtuS4jeW6lOWxleekuui1hOS6p+WQjeensCcsIGFzeW5jICgpID0+IHtcbiAgICAoQ01EQkFwaS5nZXRDSXMgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgaXRlbXM6IFtdLFxuICAgICAgdG90YWw6IDAsXG4gICAgICBwYWdlOiAxLFxuICAgICAgc2l6ZTogMTAsXG4gICAgfSk7XG4gICAgcmVuZGVyKDxDSUxpc3QgLz4pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QoQ01EQkFwaS5nZXRDSXMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCflupTnlKjmnI3liqHlmagtMDEnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCfliKDpmaTlpLHotKXlupTmj5DnpLrplJnor68nLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyBNb2RhbCB9ID0gcmVxdWlyZSgnYW50ZCcpO1xuICAgIE1vZGFsLmNvbmZpcm0ubW9ja0ltcGxlbWVudGF0aW9uKCh7IG9uT2sgfTogeyBvbk9rPzogKCkgPT4gdm9pZCB9KSA9PiB7XG4gICAgICBvbk9rPy4oKTtcbiAgICB9KTtcbiAgICAoQ01EQkFwaS5kZWxldGVDSSBhcyBqZXN0Lk1vY2spLm1vY2tSZWplY3RlZFZhbHVlT25jZShuZXcgRXJyb3IoJ+WIoOmZpOWksei0pScpKTtcbiAgICByZW5kZXIoPENJTGlzdCAvPik7XG5cbiAgICBhd2FpdCBzY3JlZW4uZmluZEJ5VGV4dCgn5bqU55So5pyN5Yqh5ZmoLTAxJyk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogJ+WIoOmZpCcgfSkpO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QoQ01EQkFwaS5kZWxldGVDSSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoMSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdDSSDliKDpmaTlupTlvLnlh7rnoa7orqTlubbosIPnlKjliKDpmaTmjqXlj6MnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyBNb2RhbCB9ID0gcmVxdWlyZSgnYW50ZCcpO1xuICAgIE1vZGFsLmNvbmZpcm0ubW9ja0ltcGxlbWVudGF0aW9uKCh7IG9uT2sgfTogeyBvbk9rPzogKCkgPT4gdm9pZCB9KSA9PiB7XG4gICAgICBvbk9rPy4oKTtcbiAgICB9KTtcbiAgICByZW5kZXIoPENJTGlzdCAvPik7XG5cbiAgICBhd2FpdCBzY3JlZW4uZmluZEJ5VGV4dCgn5bqU55So5pyN5Yqh5ZmoLTAxJyk7XG5cbiAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAn5Yig6ZmkJyB9KSk7XG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QoQ01EQkFwaS5kZWxldGVDSSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoMSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdDSSDor6bmg4XlupTlsZXnpLrotYTkuqfkv6Hmga8nLCBhc3luYyAoKSA9PiB7XG4gICAgcmVuZGVyKDxDSURldGFpbCAvPik7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCflupTnlKjmnI3liqHlmagtMDEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgv6YWN572u6aG5IElEOiAxLykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdDSSDor6bmg4XliqDovb3lpLHotKXlupTmmL7npLogNDA0JywgYXN5bmMgKCkgPT4ge1xuICAgIChDTURCQXBpLmdldENJIGFzIGplc3QuTW9jaykubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcignbm90IGZvdW5kJykpO1xuICAgIHJlbmRlcig8Q0lEZXRhaWwgLz4pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnNDA0JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCfliJvlu7ogQ0kg6KGo5Y2V5bqU5o+Q5Lqk5bm26L+U5Zue5YiX6KGoJywgYXN5bmMgKCkgPT4ge1xuICAgIHJlbmRlcig8Q3JlYXRlQ0lQYWdlIC8+KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KENNREJBcGkuZ2V0VHlwZXMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGZpcmVFdmVudC5jaGFuZ2Uoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCfotYTkuqflkI3np7AnKSwge1xuICAgICAgdGFyZ2V0OiB7IHZhbHVlOiAn5paw6LWE5LqnJyB9LFxuICAgIH0pO1xuXG4gICAgZmlyZUV2ZW50LmNoYW5nZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ+i1hOS6p+exu+WeiycpLCB7XG4gICAgICB0YXJnZXQ6IHsgdmFsdWU6ICcxJyB9LFxuICAgIH0pO1xuXG4gICAgZmlyZUV2ZW50LmNoYW5nZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ+eKtuaAgScpLCB7XG4gICAgICB0YXJnZXQ6IHsgdmFsdWU6ICdhY3RpdmUnIH0sXG4gICAgfSk7XG5cbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybScpO1xuICAgIGZpcmVFdmVudC5zdWJtaXQoZm9ybSBhcyBIVE1MRm9ybUVsZW1lbnQpO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QoQ01EQkFwaS5jcmVhdGVDSSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuICAgIGV4cGVjdChtb2NrUHVzaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9jbWRiJyk7XG4gIH0pO1xuXG4gIGl0KCfliJvlu7ogQ0kg6KGo5Y2V5bqU5qCh6aqM5omp5bGV5bGe5oCnIEpTT04nLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgYW50ZCA9IHJlcXVpcmUoJ2FudGQnKTtcbiAgICByZW5kZXIoPENyZWF0ZUNJUGFnZSAvPik7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChDTURCQXBpLmdldFR5cGVzKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBmaXJlRXZlbnQuY2hhbmdlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgn6LWE5Lqn5ZCN56ewJyksIHtcbiAgICAgIHRhcmdldDogeyB2YWx1ZTogJ+aWsOi1hOS6pycgfSxcbiAgICB9KTtcbiAgICBmaXJlRXZlbnQuY2hhbmdlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgn6LWE5Lqn57G75Z6LJyksIHtcbiAgICAgIHRhcmdldDogeyB2YWx1ZTogJzEnIH0sXG4gICAgfSk7XG4gICAgZmlyZUV2ZW50LmNoYW5nZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ+eKtuaAgScpLCB7XG4gICAgICB0YXJnZXQ6IHsgdmFsdWU6ICdhY3RpdmUnIH0sXG4gICAgfSk7XG4gICAgZmlyZUV2ZW50LmNoYW5nZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ+aJqeWxleWxnuaApycpLCB7XG4gICAgICB0YXJnZXQ6IHsgdmFsdWU6ICd7YmFkIGpzb24nIH0sXG4gICAgfSk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ+aJqeWxleWxnuaApycpKS50b0hhdmVWYWx1ZSgne2JhZCBqc29uJyk7XG4gICAgfSk7XG5cbiAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAn5L+d5a2YJyB9KSk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChDTURCQXBpLmNyZWF0ZUNJKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuICAgIGV4cGVjdChtb2NrUHVzaCkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsInVzZVJvdXRlciIsInB1c2giLCJtb2NrUHVzaCIsImJhY2siLCJtb2NrQmFjayIsInJlcGxhY2UiLCJmbiIsInByZWZldGNoIiwidXNlUGFyYW1zIiwiaWQiLCJhY3R1YWwiLCJyZXF1aXJlQWN0dWFsIiwiUmVhY3QiLCJtb2RhbENvbmZpcm1TcHkiLCJmb3JtVmFsdWVzIiwiRm9ybUNvbnRleHQiLCJjcmVhdGVDb250ZXh0IiwidmFsdWVzIiwic2V0VmFsdWVzIiwiRm9ybSIsImNoaWxkcmVuIiwib25GaW5pc2giLCJ1c2VTdGF0ZSIsImhhbmRsZVN1Ym1pdCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJmb3JtIiwib25TdWJtaXQiLCJQcm92aWRlciIsInZhbHVlIiwiSXRlbSIsImxhYmVsIiwibmFtZSIsImNvbnRleHQiLCJ1c2VDb250ZXh0IiwiaXNWYWxpZEVsZW1lbnQiLCJoYW5kbGVDaGFuZ2UiLCJ0YXJnZXQiLCJwcmV2IiwicHJvcHMiLCJvbkNoYW5nZSIsImlucHV0RWxlbWVudCIsImNsb25lRWxlbWVudCIsInVzZUZvcm0iLCJnZXRGaWVsZHNWYWx1ZSIsInJlc2V0RmllbGRzIiwic2V0RmllbGRzVmFsdWUiLCJJbnB1dCIsImFsbG93Q2xlYXIiLCJyZXN0IiwiaW5wdXQiLCJUZXh0QXJlYSIsInRleHRhcmVhIiwiU2VsZWN0IiwibG9hZGluZyIsInBsYWNlaG9sZGVyIiwic3R5bGUiLCJzZWxlY3QiLCJPcHRpb24iLCJvcHRpb24iLCJCdXR0b24iLCJvbkNsaWNrIiwiaHRtbFR5cGUiLCJkYW5nZXIiLCJ0eXBlIiwiYnV0dG9uIiwiZGF0YS1kYW5nZXIiLCJ1bmRlZmluZWQiLCJkYXRhLXZhcmlhbnQiLCJUYWJsZSIsImRhdGFTb3VyY2UiLCJjb2x1bW5zIiwicGFnaW5hdGlvbiIsImRpdiIsImRhdGEtdGVzdGlkIiwicGFnZVNpemUiLCJtYXAiLCJyZWNvcmQiLCJyb3dJbmRleCIsImNvbHVtbiIsImNvbEluZGV4IiwiZGF0YUluZGV4IiwiY29udGVudCIsInJlbmRlciIsImtleSIsIlRhYnMiLCJUYWJQYW5lIiwiRGVzY3JpcHRpb25zIiwic3BhbiIsIkNhcmQiLCJTcGFjZSIsIkJyZWFkY3J1bWIiLCJpdGVtcyIsIm5hdiIsIml0ZW0iLCJpbmRleCIsInRpdGxlIiwiVGFnIiwiU2tlbGV0b24iLCJSZXN1bHQiLCJzdWJUaXRsZSIsImV4dHJhIiwiRW1wdHkiLCJkZXNjcmlwdGlvbiIsIlRvb2x0aXAiLCJNb2RhbCIsImNvbmZpcm0iLCJtZXNzYWdlIiwic3VjY2VzcyIsImVycm9yIiwid2FybmluZyIsImluZm8iLCJDTURCQXBpIiwiZ2V0Q0lzIiwiZ2V0Q0kiLCJnZXRUeXBlcyIsImNyZWF0ZUNJIiwiZGVsZXRlQ0kiLCJtb2NrVHlwZXMiLCJpc19hY3RpdmUiLCJ0ZW5hbnRfaWQiLCJtb2NrSXRlbSIsInN0YXR1cyIsImNpX3R5cGVfaWQiLCJjcmVhdGVkX2F0IiwidXBkYXRlZF9hdCIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrQ2xlYXIiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsInRvdGFsIiwicGFnZSIsInNpemUiLCJpdCIsIkNJTGlzdCIsInNjcmVlbiIsImZpbmRCeVRleHQiLCJmaXJlRXZlbnQiLCJjbGljayIsImdldEJ5Um9sZSIsImV4cGVjdCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiY2hhbmdlIiwiZ2V0QnlQbGFjZWhvbGRlclRleHQiLCJxdWVyeUJ1dHRvbiIsImdldEJ5VGV4dCIsImNsb3Nlc3QiLCJ3YWl0Rm9yIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibGFzdENhbGwiLCJjYWxscyIsImF0IiwidG9FcXVhbCIsIm9iamVjdENvbnRhaW5pbmciLCJzZWFyY2giLCJnZXRCeVRlc3RJZCIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSIsInRvSGF2ZUJlZW5DYWxsZWQiLCJxdWVyeUJ5VGV4dCIsIm5vdCIsInRvQmVJblRoZURvY3VtZW50IiwicmVxdWlyZSIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsIm9uT2siLCJtb2NrUmVqZWN0ZWRWYWx1ZU9uY2UiLCJFcnJvciIsIkNJRGV0YWlsIiwiQ3JlYXRlQ0lQYWdlIiwiZ2V0QnlMYWJlbFRleHQiLCJzdWJtaXQiLCJhbnRkIiwidG9IYXZlVmFsdWUi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