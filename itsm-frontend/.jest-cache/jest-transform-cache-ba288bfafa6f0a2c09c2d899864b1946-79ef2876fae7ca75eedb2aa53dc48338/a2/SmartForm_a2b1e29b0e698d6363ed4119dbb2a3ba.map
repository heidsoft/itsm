{"version":3,"names":["cov_2gams9bscq","actualCoverage","s","SmartForm","f","SmartFormField","default","_default","confetti","window","b","Promise","resolve","then","_interop_require_wildcard","require","m","catch","autoSave","autoSaveDelay","autoSaveKey","validateOnChange","successAnimation","showRequiredHint","successMessage","errorMessage","onBeforeSubmit","onAutoSave","onFinish","onValuesChange","children","form","externalForm","props","internalForm","_antd","Form","useForm","submitting","setSubmitting","_react","useState","errors","setErrors","saveTimer","setSaveTimer","lastSaved","setLastSaved","useEffect","draft","localStorage","getItem","parsedDraft","JSON","parse","setFieldsValue","values","Date","timestamp","error","console","saveFormValues","useCallback","toISOString","setItem","stringify","message","success","content","duration","style","marginTop","handleValuesChange","changedValues","allValues","clearTimeout","timer","setTimeout","handleFinish","canSubmit","particleCount","spread","origin","y","removeItem","undefined","Array","isArray","handleFinishFailed","errorInfo","errorMessages","errorFields","map","field","name","join","length","scrollToField","clearDraft","info","_jsxruntime","jsxs","className","jsx","Alert","type","showIcon","closable","marginBottom","description","index","onClose","toLocaleTimeString","onClick","onFinishFailed","validateTrigger","scrollToFirstError","layout","requiredMark","label","required","tooltip","helpText","rules","validateDebounce","finalRules","Item","title","help"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/components/ui/SmartForm.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { Form, FormProps, FormInstance, message, Alert } from 'antd';\nimport { cn } from '@/lib/utils';\n// optional dependency; avoid hard TS dependency on missing module\ntype ConfettiFn = ((...args: any[]) => any) & { reset?: () => void };\nlet confetti: ConfettiFn | null = null;\nif (typeof window !== 'undefined') {\n  // best-effort dynamic import\n  import('canvas-confetti')\n    .then((m: any) => {\n      confetti = (m?.default || m) as ConfettiFn;\n    })\n    .catch(() => {\n      confetti = null;\n    });\n}\n\nexport interface SmartFormProps extends Omit<FormProps, 'autoSave'> {\n  /**\n   * 是否启用自动保存\n   * @default false\n   */\n  autoSave?: boolean;\n  \n  /**\n   * 自动保存的防抖延迟（毫秒）\n   * @default 2000\n   */\n  autoSaveDelay?: number;\n  \n  /**\n   * 自动保存的存储键\n   */\n  autoSaveKey?: string;\n  \n  /**\n   * 是否在onChange时验证\n   * @default true\n   */\n  validateOnChange?: boolean;\n  \n  /**\n   * 是否显示提交成功动画\n   * @default true\n   */\n  successAnimation?: boolean;\n  \n  /**\n   * 是否显示必填字段提示\n   * @default true\n   */\n  showRequiredHint?: boolean;\n  \n  /**\n   * 自定义成功消息\n   */\n  successMessage?: string;\n  \n  /**\n   * 自定义错误消息\n   */\n  errorMessage?: string;\n  \n  /**\n   * 表单提交前的校验回调\n   */\n  onBeforeSubmit?: (values: any) => boolean | Promise<boolean>;\n  \n  /**\n   * 自动保存回调\n   */\n  onAutoSave?: (values: any) => void;\n}\n\n/**\n * 智能表单组件\n * \n * 特性：\n * - 自动保存草稿\n * - 实时验证\n * - 提交成功动画\n * - 错误聚合显示\n * - 必填字段提示\n * - 防抖处理\n * \n * @example\n * ```tsx\n * <SmartForm\n *   autoSave\n *   autoSaveKey=\"ticket-form\"\n *   onFinish={handleSubmit}\n *   validateOnChange\n * >\n *   <Form.Item name=\"title\" label=\"标题\" required>\n *     <Input />\n *   </Form.Item>\n * </SmartForm>\n * ```\n */\nexport const SmartForm: React.FC<SmartFormProps> = ({\n  autoSave = false,\n  autoSaveDelay = 2000,\n  autoSaveKey = 'form-draft',\n  validateOnChange = true,\n  successAnimation = true,\n  showRequiredHint = true,\n  successMessage = '提交成功！',\n  errorMessage = '提交失败，请检查表单内容后重试',\n  onBeforeSubmit,\n  onAutoSave,\n  onFinish,\n  onValuesChange,\n  children,\n  form: externalForm,\n  ...props\n}) => {\n  const [internalForm] = Form.useForm();\n  const form = externalForm || internalForm;\n  \n  const [submitting, setSubmitting] = useState(false);\n  const [errors, setErrors] = useState<string[]>([]);\n  const [saveTimer, setSaveTimer] = useState<NodeJS.Timeout>();\n  const [lastSaved, setLastSaved] = useState<Date>();\n\n  // 加载草稿\n  useEffect(() => {\n    if (autoSave && typeof window !== 'undefined') {\n      try {\n        const draft = localStorage.getItem(autoSaveKey);\n        if (draft) {\n          const parsedDraft = JSON.parse(draft);\n          form.setFieldsValue(parsedDraft.values);\n          setLastSaved(new Date(parsedDraft.timestamp));\n        }\n      } catch (error) {\n        console.error('加载草稿失败:', error);\n      }\n    }\n  }, [autoSave, autoSaveKey, form]);\n\n  // 自动保存\n  const saveFormValues = useCallback((values: any) => {\n    if (!autoSave || typeof window === 'undefined') return;\n    \n    try {\n      const draft = {\n        values,\n        timestamp: new Date().toISOString(),\n      };\n      localStorage.setItem(autoSaveKey, JSON.stringify(draft));\n      setLastSaved(new Date());\n      \n      if (onAutoSave) {\n        onAutoSave(values);\n      }\n      \n      // 显示保存提示\n      message.success({\n        content: '草稿已自动保存',\n        duration: 1,\n        style: { marginTop: '10vh' },\n      });\n    } catch (error) {\n      console.error('保存草稿失败:', error);\n    }\n  }, [autoSave, autoSaveKey, onAutoSave]);\n\n  // 表单值变化处理\n  const handleValuesChange = (changedValues: any, allValues: any) => {\n    // 清除之前的定时器\n    if (saveTimer) {\n      clearTimeout(saveTimer);\n    }\n\n    // 设置新的定时器\n    if (autoSave) {\n      const timer = setTimeout(() => {\n        saveFormValues(allValues);\n      }, autoSaveDelay);\n      setSaveTimer(timer);\n    }\n\n    // 调用外部回调\n    if (onValuesChange) {\n      onValuesChange(changedValues, allValues);\n    }\n  };\n\n  // 表单提交处理\n  const handleFinish = async (values: any) => {\n    setErrors([]);\n    setSubmitting(true);\n\n    try {\n      // 提交前校验\n      if (onBeforeSubmit) {\n        const canSubmit = await onBeforeSubmit(values);\n        if (!canSubmit) {\n          setSubmitting(false);\n          return;\n        }\n      }\n\n      // 执行提交\n      await onFinish?.(values);\n\n      // 成功动画\n      if (successAnimation && confetti) {\n        confetti({\n          particleCount: 100,\n          spread: 70,\n          origin: { y: 0.6 },\n        });\n      }\n\n      // 成功提示\n      message.success(successMessage);\n\n      // 清除草稿\n      if (autoSave && typeof window !== 'undefined') {\n        localStorage.removeItem(autoSaveKey);\n        setLastSaved(undefined);\n      }\n    } catch (error: any) {\n      console.error('表单提交失败:', error);\n      message.error(errorMessage);\n      \n      // 如果错误对象包含验证信息，显示详细错误\n      if (error.errors && Array.isArray(error.errors)) {\n        setErrors(error.errors);\n      }\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // 表单提交失败处理\n  const handleFinishFailed = (errorInfo: any) => {\n    const errorMessages = errorInfo.errorFields.map(\n      (field: any) => `${field.name.join('.')}: ${field.errors.join(', ')}`\n    );\n    setErrors(errorMessages);\n    \n    // 滚动到第一个错误字段\n    if (errorInfo.errorFields.length > 0) {\n      form.scrollToField(errorInfo.errorFields[0].name);\n    }\n    \n    message.error('请检查表单内容');\n  };\n\n  // 清除草稿\n  const clearDraft = useCallback(() => {\n    if (typeof window !== 'undefined') {\n      localStorage.removeItem(autoSaveKey);\n      setLastSaved(undefined);\n      message.info('草稿已清除');\n    }\n  }, [autoSaveKey]);\n\n  return (\n    <div className=\"smart-form-wrapper\">\n      {/* 必填字段提示 */}\n      {showRequiredHint && (\n        <Alert\n          message=\"带有 * 标记的字段为必填项\"\n          type=\"info\"\n          showIcon\n          closable\n          style={{ marginBottom: 16 }}\n        />\n      )}\n\n      {/* 错误信息汇总 */}\n      {errors.length > 0 && (\n        <Alert\n          message=\"表单验证失败\"\n          description={\n            <ul className=\"mb-0 pl-4\">\n              {errors.map((error, index) => (\n                <li key={index}>{error}</li>\n              ))}\n            </ul>\n          }\n          type=\"error\"\n          showIcon\n          closable\n          onClose={() => setErrors([])}\n          style={{ marginBottom: 16 }}\n        />\n      )}\n\n      {/* 草稿保存状态 */}\n      {autoSave && lastSaved && (\n        <div className=\"flex items-center justify-between mb-4 p-2 bg-blue-50 rounded-lg\">\n          <span className=\"text-sm text-blue-600\">\n            草稿已保存于 {lastSaved.toLocaleTimeString()}\n          </span>\n          <button\n            type=\"button\"\n            onClick={clearDraft}\n            className=\"text-sm text-blue-600 hover:text-blue-800 underline\"\n          >\n            清除草稿\n          </button>\n        </div>\n      )}\n\n      <Form\n        form={form}\n        onFinish={handleFinish}\n        onFinishFailed={handleFinishFailed}\n        onValuesChange={handleValuesChange}\n        validateTrigger={validateOnChange ? 'onChange' : 'onBlur'}\n        scrollToFirstError\n        layout=\"vertical\"\n        requiredMark=\"optional\"\n        {...props}\n      >\n        {typeof children === 'function' \n          ? (children as any)({ form, submitting }, form) \n          : children}\n      </Form>\n    </div>\n  );\n};\n\n/**\n * 智能表单字段\n * \n * 增强的Form.Item，包含更友好的提示和验证\n */\nexport interface SmartFormFieldProps {\n  name: string;\n  label: string;\n  required?: boolean;\n  tooltip?: string;\n  helpText?: string;\n  rules?: any[];\n  children: React.ReactNode;\n  validateDebounce?: number;\n}\n\nexport const SmartFormField: React.FC<SmartFormFieldProps> = ({\n  name,\n  label,\n  required = false,\n  tooltip,\n  helpText,\n  rules = [],\n  children,\n  validateDebounce = 500,\n}) => {\n  const finalRules = [\n    ...(required ? [{ required: true, message: `请输入${label}` }] : []),\n    ...rules,\n  ];\n\n  return (\n    <Form.Item\n      name={name}\n      label={\n        <span className=\"flex items-center gap-1\">\n          {label}\n          {required && <span className=\"text-red-500\">*</span>}\n          {tooltip && (\n            <span\n              className=\"text-gray-400 text-xs cursor-help\"\n              title={tooltip}\n            >\n              ⓘ\n            </span>\n          )}\n        </span>\n      }\n      rules={finalRules}\n      validateDebounce={validateDebounce}\n      help={helpText}\n      className=\"smart-form-field\"\n    >\n      {children}\n    </Form.Item>\n  );\n};\n\nexport default SmartForm;\n\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}