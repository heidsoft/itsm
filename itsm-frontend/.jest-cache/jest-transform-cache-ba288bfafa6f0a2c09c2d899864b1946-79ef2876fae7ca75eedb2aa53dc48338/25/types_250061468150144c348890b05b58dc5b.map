{"version":3,"names":["cov_1ck6i5hmt6","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","branchMap","s","f","b","inputSourceMap","version","sources","sourcesContent","names","mappings","_coverageSchema","coverage","actualCoverage"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/modules/service-request/types.ts"],"sourcesContent":["/**\n * 服务请求模块类型定义\n */\n\nimport { ServiceRequestStatus, ApprovalStatus, ApprovalStep, ApprovalAction } from './constants';\n\n// 服务目录简要信息 (用于内嵌在服务请求中)\nexport interface ServiceCatalogRef {\n    id: number;\n    name: string;\n    category: string;\n    description?: string;\n}\n\n// 请求者简要信息\nexport interface RequesterRef {\n    id: number;\n    username: string;\n    name: string;\n    email: string;\n    department?: string;\n}\n\n// 服务请求审批记录\nexport interface ServiceRequestApproval {\n    id: number;\n    service_request_id: number;\n    level: number;\n    step: ApprovalStep | string;\n    status: ApprovalStatus | string;\n    approver_id?: number;\n    approver_name?: string;\n    action?: ApprovalAction | string;\n    comment?: string;\n    created_at: string;\n    processed_at?: string;\n\n    // V1 新增字段\n    timeout_hours?: number;\n    due_at?: string;\n    is_escalated?: boolean;\n    delegated_to_id?: number;\n    escalation_reason?: string;\n}\n\n// 服务请求实体 (对应后端 DTO)\nexport interface ServiceRequest {\n    id: number;\n    catalog_id: number;\n    requester_id: number;\n    status: ServiceRequestStatus | string;\n    title?: string;\n    reason?: string;\n    form_data?: Record<string, any>;\n\n    cost_center?: string;\n    data_classification?: string; // public, internal, confidential\n    needs_public_ip?: boolean;\n    source_ip_whitelist?: string[];\n    expire_at?: string;\n    compliance_ack: boolean;\n\n    current_level: number;\n    total_levels: number;\n    created_at: string;\n    updated_at: string;\n\n    approvals?: ServiceRequestApproval[];\n    catalog?: ServiceCatalogRef;   // 后端目前可能未填充，需注意\n    requester?: RequesterRef;      // 后端目前可能未填充，需注意\n}\n\n// 创建服务请求参数\nexport interface CreateServiceRequestRequest {\n    catalog_id: number;\n    title?: string;\n    reason?: string;\n    form_data?: Record<string, any>;\n\n    cost_center?: string;\n    data_classification?: string;\n    needs_public_ip?: boolean;\n    source_ip_whitelist?: string[];\n    expire_at?: string;\n    compliance_ack: boolean;\n}\n\n// 审批动作请求参数\nexport interface ServiceRequestApprovalActionRequest {\n    action: 'approve' | 'reject';\n    comment?: string;\n}\n\n// 列表查询参数\nexport interface ServiceRequestQuery {\n    page?: number;\n    size?: number;\n    status?: ServiceRequestStatus;\n    scope?: 'me' | 'all'; // me: 我的请求, all: 管理员查看所有\n}\n\n// 列表响应\nexport interface ServiceRequestListResponse {\n    requests: ServiceRequest[];\n    total: number;\n    page: number;\n    size: number;\n}\n"],"mappings":"AAAA;;GAEC;;AAAA;AAAA,SAAAA,eAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;IAAA;IAAAE,KAAA;IAAAC,SAAA;IAAAC,CAAA;MAAA;IAAA;IAAAC,CAAA;IAAAC,CAAA;IAAAC,cAAA;MAAAC,OAAA;MAAAC,OAAA;MAAAC,cAAA;MAAAC,KAAA;MAAAC,QAAA;IAAA;IAAAC,eAAA;IAAArB,IAAA;EAAA;EAAA,IAAAsB,QAAA,GAAArB,MAAA,CAAAE,GAAA,MAAAF,MAAA,CAAAE,GAAA;EAAA,KAAAmB,QAAA,CAAAvB,IAAA,KAAAuB,QAAA,CAAAvB,IAAA,EAAAC,IAAA,KAAAA,IAAA;IAAAsB,QAAA,CAAAvB,IAAA,IAAAK,YAAA;EAAA;EAAA,IAAAmB,cAAA,GAAAD,QAAA,CAAAvB,IAAA;EAAA","ignoreList":[]}