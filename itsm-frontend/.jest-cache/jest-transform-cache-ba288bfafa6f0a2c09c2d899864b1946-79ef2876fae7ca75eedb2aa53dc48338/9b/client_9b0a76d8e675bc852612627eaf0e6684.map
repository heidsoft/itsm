{"version":3,"names":["cov_1y0zxktc6c","actualCoverage","s","ApiClient","f","ApiClientError","AuthenticationError","AuthorizationError","NetworkError","NotFoundError","ServerError","ValidationError","api","apiClient","default","_default","DEFAULT_CONFIG","baseURL","b","process","env","NEXT_PUBLIC_API_BASE_URL","timeout","retries","retryDelay","enableLogging","NODE_ENV","Error","constructor","message","code","status","details","name","config","authToken","tenantId","client","createAxiosInstance","setupInterceptors","_axios","create","headers","interceptors","request","use","Authorization","generateRequestId","console","log","method","toUpperCase","url","data","error","Promise","reject","response","apiError","handleError","Date","now","Math","random","toString","substr","retryRequest","requestFn","retryConfig","attempts","delay","backoff","lastError","attempt","pow","resolve","setTimeout","setAuthToken","token","setTenantId","get","retry","processResponse","post","put","patch","delete","success","uploadFile","file","onProgress","formData","FormData","append","requestConfig","onUploadProgress","progressEvent","total","progress","round","loaded","downloadFile","filename","responseType","onDownloadProgress","blob","Blob","downloadUrl","window","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","click","remove","revokeObjectURL","healthCheck","cancelAllRequests","warn","upload","setAuth","setTenant","health"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/lib/api/client.ts"],"sourcesContent":["// Modern API client with TypeScript and proper error handling\nimport axios, { AxiosInstance, AxiosRequestConfig, AxiosResponse, AxiosError } from 'axios';\n\n// Types\nexport interface ApiResponse<T = any> {\n  success: boolean;\n  data?: T;\n  error?: {\n    code: string;\n    message: string;\n    details?: string;\n  };\n}\n\nexport interface ApiError {\n  code: string;\n  message: string;\n  details?: string;\n  status?: number;\n}\n\nexport interface PaginatedResponse<T> {\n  items: T[];\n  total_count: number;\n  page: number;\n  page_size: number;\n  has_next: boolean;\n  has_previous: boolean;\n}\n\nexport interface RequestConfig extends AxiosRequestConfig {\n  skipAuth?: boolean;\n  skipErrorHandling?: boolean;\n  retry?: {\n    attempts: number;\n    delay: number;\n    backoff: boolean;\n  };\n}\n\n// API Client Configuration\ninterface ApiClientConfig {\n  baseURL: string;\n  timeout: number;\n  retries: number;\n  retryDelay: number;\n  enableLogging: boolean;\n}\n\nconst DEFAULT_CONFIG: ApiClientConfig = {\n  baseURL: process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:8080/api/v1',\n  timeout: 30000,\n  retries: 3,\n  retryDelay: 1000,\n  enableLogging: process.env.NODE_ENV === 'development',\n};\n\n// Custom Error Classes\nexport class ApiClientError extends Error {\n  public code: string;\n  public status?: number;\n  public details?: string;\n\n  constructor(message: string, code: string, status?: number, details?: string) {\n    super(message);\n    this.name = 'ApiClientError';\n    this.code = code;\n    this.status = status;\n    this.details = details;\n  }\n}\n\nexport class NetworkError extends ApiClientError {\n  constructor(message: string = 'Network connection failed') {\n    super(message, 'NETWORK_ERROR');\n  }\n}\n\nexport class ValidationError extends ApiClientError {\n  constructor(message: string, details?: string) {\n    super(message, 'VALIDATION_ERROR', 400, details);\n  }\n}\n\nexport class AuthenticationError extends ApiClientError {\n  constructor(message: string = 'Authentication failed') {\n    super(message, 'AUTH_ERROR', 401);\n  }\n}\n\nexport class AuthorizationError extends ApiClientError {\n  constructor(message: string = 'Access denied') {\n    super(message, 'AUTHORIZATION_ERROR', 403);\n  }\n}\n\nexport class NotFoundError extends ApiClientError {\n  constructor(message: string = 'Resource not found') {\n    super(message, 'NOT_FOUND', 404);\n  }\n}\n\nexport class ServerError extends ApiClientError {\n  constructor(message: string = 'Internal server error') {\n    super(message, 'SERVER_ERROR', 500);\n  }\n}\n\n// API Client Class\nexport class ApiClient {\n  private client: AxiosInstance;\n  private config: ApiClientConfig;\n  private authToken: string | null = null;\n  private tenantId: string | null = null;\n\n  constructor(config: Partial<ApiClientConfig> = {}) {\n    this.config = { ...DEFAULT_CONFIG, ...config };\n    this.client = this.createAxiosInstance();\n    this.setupInterceptors();\n  }\n\n  private createAxiosInstance(): AxiosInstance {\n    return axios.create({\n      baseURL: this.config.baseURL,\n      timeout: this.config.timeout,\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n      },\n    });\n  }\n\n  private setupInterceptors(): void {\n    // Request interceptor\n    this.client.interceptors.request.use(\n      (config) => {\n        // Add auth token\n        if (this.authToken && !config.headers.Authorization) {\n          config.headers.Authorization = `Bearer ${this.authToken}`;\n        }\n\n        // Add tenant ID\n        if (this.tenantId) {\n          config.headers['X-Tenant-ID'] = this.tenantId;\n        }\n\n        // Add request ID for tracking\n        config.headers['X-Request-ID'] = this.generateRequestId();\n\n        // Log request in development\n        if (this.config.enableLogging) {\n          console.log('üöÄ API Request:', {\n            method: config.method?.toUpperCase(),\n            url: config.url,\n            data: config.data,\n            headers: config.headers,\n          });\n        }\n\n        return config;\n      },\n      (error) => {\n        console.error('‚ùå Request Error:', error);\n        return Promise.reject(error);\n      }\n    );\n\n    // Response interceptor\n    this.client.interceptors.response.use(\n      (response) => {\n        // Log response in development\n        if (this.config.enableLogging) {\n          console.log('‚úÖ API Response:', {\n            status: response.status,\n            url: response.config.url,\n            data: response.data,\n          });\n        }\n\n        return response;\n      },\n      (error) => {\n        const apiError = this.handleError(error);\n        \n        // Log error in development\n        if (this.config.enableLogging) {\n          console.error('‚ùå API Error:', {\n            url: error.config?.url,\n            status: error.response?.status,\n            message: apiError.message,\n            code: apiError.code,\n          });\n        }\n\n        return Promise.reject(apiError);\n      }\n    );\n  }\n\n  private handleError(error: AxiosError): ApiClientError {\n    if (error.response) {\n      const response = error.response;\n      const data = response.data as ApiResponse;\n      \n      switch (response.status) {\n        case 400:\n          return new ValidationError(\n            data?.error?.message || 'Bad Request',\n            data?.error?.details\n          );\n        case 401:\n          return new AuthenticationError(data?.error?.message);\n        case 403:\n          return new AuthorizationError(data?.error?.message);\n        case 404:\n          return new NotFoundError(data?.error?.message);\n        case 500:\n        case 502:\n        case 503:\n        case 504:\n          return new ServerError(data?.error?.message);\n        default:\n          return new ApiClientError(\n            data?.error?.message || 'Request failed',\n            data?.error?.code || 'UNKNOWN_ERROR',\n            response.status,\n            data?.error?.details\n          );\n      }\n    } else if (error.request) {\n      return new NetworkError('Network request failed');\n    } else {\n      return new ApiClientError(error.message, 'CLIENT_ERROR');\n    }\n  }\n\n  private generateRequestId(): string {\n    return `req_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n  }\n\n  private async retryRequest<T>(\n    requestFn: () => Promise<T>,\n    retryConfig: RequestConfig['retry'] = { attempts: 3, delay: 1000, backoff: true }\n  ): Promise<T> {\n    let lastError: Error;\n    \n    for (let attempt = 1; attempt <= retryConfig.attempts; attempt++) {\n      try {\n        return await requestFn();\n      } catch (error) {\n        lastError = error as Error;\n        \n        // Don't retry on authentication/authorization errors\n        if (error instanceof AuthenticationError || error instanceof AuthorizationError) {\n          throw error;\n        }\n        \n        if (attempt < retryConfig.attempts) {\n          const delay = retryConfig.backoff \n            ? retryConfig.delay * Math.pow(2, attempt - 1)\n            : retryConfig.delay;\n          \n          await new Promise(resolve => setTimeout(resolve, delay));\n        }\n      }\n    }\n    \n    throw lastError!;\n  }\n\n  // Public methods\n  public setAuthToken(token: string | null): void {\n    this.authToken = token;\n  }\n\n  public setTenantId(tenantId: string | null): void {\n    this.tenantId = tenantId;\n  }\n\n  public async get<T>(url: string, config: RequestConfig = {}): Promise<T> {\n    const requestFn = () => this.client.get<ApiResponse<T>>(url, config);\n    \n    if (config.retry) {\n      return this.retryRequest(async () => {\n        const response = await requestFn();\n        return this.processResponse(response);\n      }, config.retry);\n    }\n    \n    const response = await requestFn();\n    return this.processResponse(response);\n  }\n\n  public async post<T, D = any>(url: string, data?: D, config: RequestConfig = {}): Promise<T> {\n    const requestFn = () => this.client.post<ApiResponse<T>>(url, data, config);\n    \n    if (config.retry) {\n      return this.retryRequest(async () => {\n        const response = await requestFn();\n        return this.processResponse(response);\n      }, config.retry);\n    }\n    \n    const response = await requestFn();\n    return this.processResponse(response);\n  }\n\n  public async put<T, D = any>(url: string, data?: D, config: RequestConfig = {}): Promise<T> {\n    const requestFn = () => this.client.put<ApiResponse<T>>(url, data, config);\n    \n    if (config.retry) {\n      return this.retryRequest(async () => {\n        const response = await requestFn();\n        return this.processResponse(response);\n      }, config.retry);\n    }\n    \n    const response = await requestFn();\n    return this.processResponse(response);\n  }\n\n  public async patch<T, D = any>(url: string, data?: D, config: RequestConfig = {}): Promise<T> {\n    const response = await this.client.patch<ApiResponse<T>>(url, data, config);\n    return this.processResponse(response);\n  }\n\n  public async delete<T>(url: string, config: RequestConfig = {}): Promise<T> {\n    const response = await this.client.delete<ApiResponse<T>>(url, config);\n    return this.processResponse(response);\n  }\n\n  private processResponse<T>(response: AxiosResponse<ApiResponse<T>>): T {\n    const { data } = response;\n    \n    if (!data.success) {\n      throw new ApiClientError(\n        data.error?.message || 'Request failed',\n        data.error?.code || 'UNKNOWN_ERROR',\n        response.status,\n        data.error?.details\n      );\n    }\n    \n    return data.data as T;\n  }\n\n  // Upload file method\n  public async uploadFile<T>(\n    url: string,\n    file: File,\n    onProgress?: (progress: number) => void,\n    config: RequestConfig = {}\n  ): Promise<T> {\n    const formData = new FormData();\n    formData.append('file', file);\n\n    const requestConfig: AxiosRequestConfig = {\n      ...config,\n      headers: {\n        ...config.headers,\n        'Content-Type': 'multipart/form-data',\n      },\n      onUploadProgress: (progressEvent) => {\n        if (onProgress && progressEvent.total) {\n          const progress = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n          onProgress(progress);\n        }\n      },\n    };\n\n    const response = await this.client.post<ApiResponse<T>>(url, formData, requestConfig);\n    return this.processResponse(response);\n  }\n\n  // Download file method\n  public async downloadFile(\n    url: string,\n    filename?: string,\n    onProgress?: (progress: number) => void\n  ): Promise<void> {\n    const response = await this.client.get(url, {\n      responseType: 'blob',\n      onDownloadProgress: (progressEvent) => {\n        if (onProgress && progressEvent.total) {\n          const progress = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n          onProgress(progress);\n        }\n      },\n    });\n\n    const blob = new Blob([response.data]);\n    const downloadUrl = window.URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = downloadUrl;\n    link.download = filename || 'download';\n    document.body.appendChild(link);\n    link.click();\n    link.remove();\n    window.URL.revokeObjectURL(downloadUrl);\n  }\n\n  // Health check method\n  public async healthCheck(): Promise<{ status: string; timestamp: string }> {\n    return this.get('/health');\n  }\n\n  // Cancel all pending requests\n  public cancelAllRequests(): void {\n    // This would be implemented with axios cancel tokens in a real scenario\n    console.warn('Cancel all requests is not implemented in this example');\n  }\n}\n\n// Create singleton instance\nexport const apiClient = new ApiClient();\n\n// Export convenience methods\nexport const api = {\n  get: <T>(url: string, config?: RequestConfig) => apiClient.get<T>(url, config),\n  post: <T, D = any>(url: string, data?: D, config?: RequestConfig) => apiClient.post<T, D>(url, data, config),\n  put: <T, D = any>(url: string, data?: D, config?: RequestConfig) => apiClient.put<T, D>(url, data, config),\n  patch: <T, D = any>(url: string, data?: D, config?: RequestConfig) => apiClient.patch<T, D>(url, data, config),\n  delete: <T>(url: string, config?: RequestConfig) => apiClient.delete<T>(url, config),\n  upload: <T>(url: string, file: File, onProgress?: (progress: number) => void) => \n    apiClient.uploadFile<T>(url, file, onProgress),\n  download: (url: string, filename?: string, onProgress?: (progress: number) => void) => \n    apiClient.downloadFile(url, filename, onProgress),\n  \n  // Auth methods\n  setAuth: (token: string | null) => apiClient.setAuthToken(token),\n  setTenant: (tenantId: string | null) => apiClient.setTenantId(tenantId),\n  \n  // Health check\n  health: () => apiClient.healthCheck(),\n};\n\nexport default api;"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}