{"version":3,"names":["cov_1ejvbzrou6","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","s","f","b","inputSourceMap","version","sources","sourcesContent","names","mappings","_coverageSchema","coverage","actualCoverage","ProblemApi","BASE_URL","getProblems","query","_httpclient","httpClient","get","getStats","getProblem","id","resp","problem","createProblem","data","post","updateProblem","put","deleteProblem","delete"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/modules/problem/api.ts"],"sourcesContent":["/**\n * 问题管理 API 客户端\n */\n\nimport { httpClient } from '@/lib/api/http-client';\nimport type {\n    Problem,\n    CreateProblemRequest,\n    UpdateProblemRequest,\n    ProblemListResponse,\n    ProblemQuery,\n    ProblemStats\n} from './types';\n\nconst BASE_URL = '/api/v1/problems';\n\nexport class ProblemApi {\n\n    /**\n     * 获取问题列表\n     */\n    static async getProblems(query?: ProblemQuery): Promise<ProblemListResponse> {\n        return httpClient.get<ProblemListResponse>(BASE_URL, query);\n    }\n\n    /**\n     * 获取问题统计\n     */\n    static async getStats(): Promise<ProblemStats> {\n        return httpClient.get<ProblemStats>(`${BASE_URL}/stats`);\n    }\n\n    /**\n     * 获取单个问题详情\n     */\n    static async getProblem(id: string | number): Promise<Problem> {\n        // 后端详情接口返回的是 { problem: ... } 还是直接 Problem?\n        // 根据 handler.go 中的 toDTO: return &dto.ProblemDetailResponse{Problem: ep}\n        // 所以返回值解包一下\n        const resp = await httpClient.get<{ problem: Problem }>(`${BASE_URL}/${id}`);\n        return resp.problem;\n    }\n\n    /**\n     * 创建问题\n     */\n    static async createProblem(data: CreateProblemRequest): Promise<Problem> {\n        const resp = await httpClient.post<{ problem: Problem }>(BASE_URL, data);\n        return resp.problem;\n    }\n\n    /**\n     * 更新问题\n     */\n    static async updateProblem(id: string | number, data: UpdateProblemRequest): Promise<Problem> {\n        const resp = await httpClient.put<{ problem: Problem }>(`${BASE_URL}/${id}`, data);\n        return resp.problem;\n    }\n\n    /**\n     * 删除问题\n     */\n    static async deleteProblem(id: string | number): Promise<void> {\n        return httpClient.delete(`${BASE_URL}/${id}`);\n    }\n}\n"],"mappings":"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","ignoreList":[]}