{"version":3,"names":["cov_xvlqtaq1r","actualCoverage","s","RelationPanel","f","default","_default","Option","_antd","Select","TextArea","Input","ticketId","ticketNumber","onRelationClick","modalVisible","setModalVisible","_react","useState","form","Form","useForm","data","relations","isLoading","_useTicketRelations","useTicketRelationsQuery","includeDetails","stats","useRelationStatsQuery","createMutation","useCreateRelationMutation","deleteMutation","useDeleteRelationMutation","getRelationTypeLabel","type","labels","_ticketrelations","TicketRelationType","PARENT_CHILD","BLOCKS","BLOCKED_BY","DEPENDS_ON","RELATES_TO","DUPLICATES","DUPLICATED_BY","CAUSES","CAUSED_BY","REPLACES","REPLACED_BY","SPLITS_FROM","MERGED_INTO","b","getRelationTypeColor","colors","handleCreateRelation","values","validateFields","mutateAsync","sourceTicketId","targetTicketId","relationType","description","resetFields","error","console","handleDeleteRelation","relationId","renderRelationsList","_jsxruntime","jsx","className","Spin","size","length","Empty","image","PRESENTED_IMAGE_SIMPLE","Button","icon","_icons","PlusOutlined","onClick","List","dataSource","renderItem","relation","isSource","relatedTicket","targetTicket","sourceTicket","Item","actions","Tooltip","title","Popconfirm","onConfirm","id","okText","cancelText","danger","DeleteOutlined","Meta","avatar","Tag","color","jsxs","Space","targetTicketNumber","sourceTicketNumber","status","tabItems","key","label","Badge","count","totalRelations","showZero","children","childrenCount","blockedByCount","Card","LinkOutlined","extra","Tabs","items","Modal","open","onCancel","onOk","confirmLoading","isPending","layout","name","rules","required","message","placeholder","value","addonBefore","rows"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/components/ticket-relations/RelationPanel.tsx"],"sourcesContent":["/**\n * 工单关联管理面板\n * 提供工单关联的查看、创建、管理功能\n */\n\n'use client';\n\nimport React, { useState } from 'react';\nimport {\n  Card,\n  Tabs,\n  List,\n  Button,\n  Space,\n  Tag,\n  Empty,\n  Spin,\n  Modal,\n  Form,\n  Select,\n  Input,\n  Tooltip,\n  Popconfirm,\n  Badge,\n  message,\n} from 'antd';\nimport {\n  LinkOutlined,\n  PlusOutlined,\n  DeleteOutlined,\n  BranchesOutlined,\n  SwapOutlined,\n  ExclamationCircleOutlined,\n  CheckCircleOutlined,\n  CloseCircleOutlined,\n} from '@ant-design/icons';\nimport {\n  useTicketRelationsQuery,\n  useCreateRelationMutation,\n  useDeleteRelationMutation,\n  useRelationStatsQuery,\n} from '@/lib/hooks/useTicketRelations';\nimport { TicketRelationType } from '@/types/ticket-relations';\n\nconst { Option } = Select;\nconst { TextArea } = Input;\n\nexport interface RelationPanelProps {\n  ticketId: number;\n  ticketNumber: string;\n  onRelationClick?: (ticketId: number) => void;\n}\n\nexport const RelationPanel: React.FC<RelationPanelProps> = ({\n  ticketId,\n  ticketNumber,\n  onRelationClick,\n}) => {\n  const [modalVisible, setModalVisible] = useState(false);\n  const [form] = Form.useForm();\n\n  // Queries\n  const { data: relations, isLoading } = useTicketRelationsQuery(ticketId, {\n    includeDetails: true,\n  });\n  const { data: stats } = useRelationStatsQuery(ticketId);\n\n  // Mutations\n  const createMutation = useCreateRelationMutation();\n  const deleteMutation = useDeleteRelationMutation();\n\n  const getRelationTypeLabel = (type: TicketRelationType) => {\n    const labels: Record<TicketRelationType, string> = {\n      [TicketRelationType.PARENT_CHILD]: '父子关系',\n      [TicketRelationType.BLOCKS]: '阻塞',\n      [TicketRelationType.BLOCKED_BY]: '被阻塞',\n      [TicketRelationType.DEPENDS_ON]: '依赖于',\n      [TicketRelationType.RELATES_TO]: '相关',\n      [TicketRelationType.DUPLICATES]: '重复',\n      [TicketRelationType.DUPLICATED_BY]: '被重复',\n      [TicketRelationType.CAUSES]: '导致',\n      [TicketRelationType.CAUSED_BY]: '由...导致',\n      [TicketRelationType.REPLACES]: '替代',\n      [TicketRelationType.REPLACED_BY]: '被替代',\n      [TicketRelationType.SPLITS_FROM]: '分离自',\n      [TicketRelationType.MERGED_INTO]: '合并到',\n    };\n    return labels[type] || type;\n  };\n\n  const getRelationTypeColor = (type: TicketRelationType) => {\n    const colors: Partial<Record<TicketRelationType, string>> = {\n      [TicketRelationType.PARENT_CHILD]: 'blue',\n      [TicketRelationType.BLOCKS]: 'red',\n      [TicketRelationType.BLOCKED_BY]: 'orange',\n      [TicketRelationType.DEPENDS_ON]: 'purple',\n      [TicketRelationType.RELATES_TO]: 'cyan',\n      [TicketRelationType.DUPLICATES]: 'volcano',\n    };\n    return colors[type] || 'default';\n  };\n\n  const handleCreateRelation = async () => {\n    try {\n      const values = await form.validateFields();\n      await createMutation.mutateAsync({\n        sourceTicketId: ticketId,\n        targetTicketId: values.targetTicketId,\n        relationType: values.relationType,\n        description: values.description,\n      });\n      setModalVisible(false);\n      form.resetFields();\n    } catch (error) {\n      console.error('创建关联失败:', error);\n    }\n  };\n\n  const handleDeleteRelation = async (relationId: string) => {\n    try {\n      await deleteMutation.mutateAsync({ relationId });\n    } catch (error) {\n      console.error('删除关联失败:', error);\n    }\n  };\n\n  const renderRelationsList = () => {\n    if (isLoading) {\n      return (\n        <div className='flex justify-center items-center py-12'>\n          <Spin size='large' />\n        </div>\n      );\n    }\n\n    if (!relations || relations.length === 0) {\n      return (\n        <Empty\n          description='暂无关联工单'\n          image={Empty.PRESENTED_IMAGE_SIMPLE}\n        >\n          <Button\n            type='primary'\n            icon={<PlusOutlined />}\n            onClick={() => setModalVisible(true)}\n          >\n            添加关联\n          </Button>\n        </Empty>\n      );\n    }\n\n    return (\n      <List\n        dataSource={relations}\n        renderItem={(relation) => {\n          const isSource = relation.sourceTicketId === ticketId;\n          const relatedTicket = isSource\n            ? relation.targetTicket\n            : relation.sourceTicket;\n\n          return (\n            <List.Item\n              actions={[\n                <Tooltip key='view' title='查看工单'>\n                  <Button\n                    type='link'\n                    size='small'\n                    onClick={() =>\n                      onRelationClick?.(\n                        isSource\n                          ? relation.targetTicketId\n                          : relation.sourceTicketId\n                      )\n                    }\n                  >\n                    查看\n                  </Button>\n                </Tooltip>,\n                <Popconfirm\n                  key='delete'\n                  title='确认删除此关联？'\n                  onConfirm={() => handleDeleteRelation(relation.id)}\n                  okText='确认'\n                  cancelText='取消'\n                >\n                  <Button\n                    type='link'\n                    danger\n                    size='small'\n                    icon={<DeleteOutlined />}\n                  >\n                    删除\n                  </Button>\n                </Popconfirm>,\n              ]}\n            >\n              <List.Item.Meta\n                avatar={\n                  <Tag color={getRelationTypeColor(relation.relationType)}>\n                    {getRelationTypeLabel(relation.relationType)}\n                  </Tag>\n                }\n                title={\n                  <Space>\n                    <span>\n                      #{isSource ? relation.targetTicketNumber : relation.sourceTicketNumber}\n                    </span>\n                    <span>{relatedTicket?.title}</span>\n                    {relatedTicket?.status && (\n                      <Tag>{relatedTicket.status}</Tag>\n                    )}\n                  </Space>\n                }\n                description={relation.description}\n              />\n            </List.Item>\n          );\n        }}\n      />\n    );\n  };\n\n  const tabItems = [\n    {\n      key: 'all',\n      label: (\n        <Badge count={stats?.totalRelations || 0} showZero>\n          <span>全部关联</span>\n        </Badge>\n      ),\n      children: renderRelationsList(),\n    },\n    {\n      key: 'hierarchy',\n      label: (\n        <Badge count={stats?.childrenCount || 0} showZero>\n          <span>父子关系</span>\n        </Badge>\n      ),\n      children: <div>父子关系视图</div>,\n    },\n    {\n      key: 'dependencies',\n      label: (\n        <Badge count={stats?.blockedByCount || 0} showZero>\n          <span>依赖关系</span>\n        </Badge>\n      ),\n      children: <div>依赖关系视图</div>,\n    },\n  ];\n\n  return (\n    <Card\n      title={\n        <Space>\n          <LinkOutlined />\n          <span>工单关联</span>\n          {stats && stats.totalRelations > 0 && (\n            <Badge count={stats.totalRelations} showZero />\n          )}\n        </Space>\n      }\n      extra={\n        <Button\n          type='primary'\n          icon={<PlusOutlined />}\n          onClick={() => setModalVisible(true)}\n          size='small'\n        >\n          添加关联\n        </Button>\n      }\n    >\n      <Tabs items={tabItems} />\n\n      {/* 创建关联模态框 */}\n      <Modal\n        title='添加工单关联'\n        open={modalVisible}\n        onCancel={() => {\n          setModalVisible(false);\n          form.resetFields();\n        }}\n        onOk={handleCreateRelation}\n        confirmLoading={createMutation.isPending}\n      >\n        <Form form={form} layout='vertical'>\n          <Form.Item\n            label='关联类型'\n            name='relationType'\n            rules={[{ required: true, message: '请选择关联类型' }]}\n          >\n            <Select placeholder='选择关联类型'>\n              <Option value={TicketRelationType.RELATES_TO}>相关</Option>\n              <Option value={TicketRelationType.BLOCKS}>阻塞</Option>\n              <Option value={TicketRelationType.DEPENDS_ON}>依赖于</Option>\n              <Option value={TicketRelationType.DUPLICATES}>重复</Option>\n              <Option value={TicketRelationType.PARENT_CHILD}>父子关系</Option>\n            </Select>\n          </Form.Item>\n\n          <Form.Item\n            label='目标工单'\n            name='targetTicketId'\n            rules={[{ required: true, message: '请输入目标工单ID' }]}\n          >\n            <Input\n              type='number'\n              placeholder='输入工单ID'\n              addonBefore='#'\n            />\n          </Form.Item>\n\n          <Form.Item label='描述' name='description'>\n            <TextArea rows={3} placeholder='添加关联描述（可选）' />\n          </Form.Item>\n        </Form>\n      </Modal>\n    </Card>\n  );\n};\n\nexport default RelationPanel;\n\n"],"mappings":"AAAA;;;GAKA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAgDa;IAAAA,aAAA,YAAA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","ignoreList":[]}