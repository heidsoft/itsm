4fd55d117947ff0e3f4dd5203160df71
// 环境配置工具
// 环境类型
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    // 导出默认配置
    default: function() {
        return _default;
    },
    devTools: function() {
        return devTools;
    },
    env: function() {
        return env;
    },
    errorHandler: function() {
        return errorHandler;
    },
    getEnvironment: function() {
        return getEnvironment;
    },
    logger: function() {
        return logger;
    },
    performance: function() {
        return performance;
    }
});
const getEnvironment = ()=>{
    if (typeof window !== 'undefined') {
        // 客户端环境
        return process.env.NODE_ENV || 'development';
    }
    // 服务端环境
    return process.env.NODE_ENV || 'development';
};
const env = {
    isDevelopment: getEnvironment() === 'development',
    isProduction: getEnvironment() === 'production',
    isTest: getEnvironment() === 'test',
    // 功能开关
    features: {
        debugMode: getEnvironment() === 'development',
        performanceMonitoring: getEnvironment() === 'production',
        errorReporting: getEnvironment() === 'production',
        consoleLogs: getEnvironment() === 'development'
    },
    // API配置
    api: {
        baseUrl: process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:8080',
        timeout: parseInt(process.env.NEXT_PUBLIC_API_TIMEOUT || '10000'),
        retryCount: parseInt(process.env.NEXT_PUBLIC_API_RETRY_COUNT || '3')
    },
    // 应用配置
    app: {
        name: 'ITSM Platform',
        version: process.env.NEXT_PUBLIC_APP_VERSION || '1.0.0',
        buildTime: process.env.NEXT_PUBLIC_BUILD_TIME || ''
    }
};
const logger = {
    // 开发环境日志
    debug: (...args)=>{
        if (env.features.consoleLogs) {
            console.log('[DEBUG]', ...args);
        }
    },
    // 信息日志
    info: (...args)=>{
        if (env.features.consoleLogs) {
            console.info('[INFO]', ...args);
        }
    },
    // 警告日志
    warn: (...args)=>{
        if (env.features.consoleLogs) {
            console.warn('[WARN]', ...args);
        }
    },
    // 错误日志（生产环境也会输出）
    error: (...args)=>{
        console.error('[ERROR]', ...args);
        // 生产环境错误上报
        if (env.features.errorReporting) {
        // 这里可以集成错误上报服务
        // reportError(args);
        }
    },
    // 性能日志
    performance: (label, data)=>{
        if (env.features.performanceMonitoring) {
            console.log(`[PERFORMANCE] ${label}:`, data);
        }
    },
    // 安全日志
    security: (event, data)=>{
        if (env.features.consoleLogs) {
            console.log('[SECURITY]', event, data);
        }
        // 生产环境安全事件上报
        if (env.features.errorReporting) {
        // reportSecurityEvent(event, data);
        }
    }
};
const performance = {
    // 开始计时
    start: (label)=>{
        if (env.features.performanceMonitoring) {
            console.time(`[PERF] ${label}`);
            return label;
        }
        return null;
    },
    // 结束计时
    end: (label)=>{
        if (env.features.performanceMonitoring) {
            console.timeEnd(`[PERF] ${label}`);
        }
    },
    // 测量函数执行时间
    measure: (label, fn)=>{
        if (env.features.performanceMonitoring) {
            const start = Date.now();
            const result = fn();
            const end = Date.now();
            logger.performance(label, {
                duration: `${end - start}ms`
            });
            return result;
        }
        return fn();
    },
    // 异步函数性能测量
    measureAsync: async (label, fn)=>{
        if (env.features.performanceMonitoring) {
            const start = Date.now();
            const result = await fn();
            const end = Date.now();
            logger.performance(label, {
                duration: `${end - start}ms`
            });
            return result;
        }
        return fn();
    }
};
const errorHandler = {
    // 处理API错误
    handleApiError: (error, context)=>{
        const errorMessage = error instanceof Error ? error.message : String(error);
        const errorContext = context ? `[${context}]` : '';
        logger.error(`${errorContext} API Error:`, errorMessage);
        // 生产环境错误上报
        if (env.features.errorReporting) {
        // reportApiError(error, context);
        }
        return {
            success: false,
            error: errorMessage,
            context
        };
    },
    // 处理表单验证错误
    handleValidationError: (errors)=>{
        logger.warn('Form validation errors:', errors);
        return {
            success: false,
            errors,
            message: '表单验证失败'
        };
    },
    // 处理网络错误
    handleNetworkError: (error)=>{
        const isNetworkError = error instanceof Error && (error.message.includes('Network Error') || error.message.includes('Failed to fetch'));
        if (isNetworkError) {
            logger.error('Network error detected:', error);
            // 生产环境网络错误上报
            if (env.features.errorReporting) {
            // reportNetworkError(error);
            }
            return {
                success: false,
                error: '网络连接失败，请检查网络设置',
                type: 'network'
            };
        }
        return {
            success: false,
            error: '未知错误',
            type: 'unknown'
        };
    }
};
const devTools = {
    // 只在开发环境执行的函数
    onlyInDev: (fn, fallback)=>{
        if (env.isDevelopment) {
            return fn();
        }
        return fallback;
    },
    // 开发环境调试信息
    debugInfo: (component, data)=>{
        if (env.isDevelopment) {
            logger.debug(`[${component}]`, data);
        }
    },
    // 开发环境性能标记
    mark: (name)=>{
        if (env.isDevelopment && typeof window !== 'undefined' && window.performance) {
            window.performance.mark(name);
        }
    },
    // 开发环境性能测量
    measure: (name, startMark, endMark)=>{
        if (env.isDevelopment && typeof window !== 'undefined' && window.performance) {
            try {
                const measure = window.performance.measure(name, startMark, endMark);
                logger.debug(`Performance measure [${name}]:`, measure.duration);
            } catch (error) {
                logger.warn(`Failed to measure performance [${name}]:`, error);
            }
        }
    }
};
const _default = env;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZWlkc29mdC9Eb3dubG9hZHMvcmVzZWFyY2gvaXRzbS9pdHNtLWZyb250ZW5kL3NyYy9saWIvZW52LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIOeOr+Wig+mFjee9ruW3peWFt1xuXG4vLyDnjq/looPnsbvlnotcbmV4cG9ydCB0eXBlIEVudmlyb25tZW50ID0gJ2RldmVsb3BtZW50JyB8ICdwcm9kdWN0aW9uJyB8ICd0ZXN0JztcblxuLy8g6I635Y+W5b2T5YmN546v5aKDXG5leHBvcnQgY29uc3QgZ2V0RW52aXJvbm1lbnQgPSAoKTogRW52aXJvbm1lbnQgPT4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyDlrqLmiLfnq6/njq/looNcbiAgICByZXR1cm4gKHByb2Nlc3MuZW52Lk5PREVfRU5WIGFzIEVudmlyb25tZW50KSB8fCAnZGV2ZWxvcG1lbnQnO1xuICB9XG4gIC8vIOacjeWKoeerr+eOr+Wig1xuICByZXR1cm4gKHByb2Nlc3MuZW52Lk5PREVfRU5WIGFzIEVudmlyb25tZW50KSB8fCAnZGV2ZWxvcG1lbnQnO1xufTtcblxuLy8g546v5aKD6YWN572uXG5leHBvcnQgY29uc3QgZW52ID0ge1xuICBpc0RldmVsb3BtZW50OiBnZXRFbnZpcm9ubWVudCgpID09PSAnZGV2ZWxvcG1lbnQnLFxuICBpc1Byb2R1Y3Rpb246IGdldEVudmlyb25tZW50KCkgPT09ICdwcm9kdWN0aW9uJyxcbiAgaXNUZXN0OiBnZXRFbnZpcm9ubWVudCgpID09PSAndGVzdCcsXG4gIFxuICAvLyDlip/og73lvIDlhbNcbiAgZmVhdHVyZXM6IHtcbiAgICBkZWJ1Z01vZGU6IGdldEVudmlyb25tZW50KCkgPT09ICdkZXZlbG9wbWVudCcsXG4gICAgcGVyZm9ybWFuY2VNb25pdG9yaW5nOiBnZXRFbnZpcm9ubWVudCgpID09PSAncHJvZHVjdGlvbicsXG4gICAgZXJyb3JSZXBvcnRpbmc6IGdldEVudmlyb25tZW50KCkgPT09ICdwcm9kdWN0aW9uJyxcbiAgICBjb25zb2xlTG9nczogZ2V0RW52aXJvbm1lbnQoKSA9PT0gJ2RldmVsb3BtZW50JyxcbiAgfSxcbiAgXG4gIC8vIEFQSemFjee9rlxuICBhcGk6IHtcbiAgICBiYXNlVXJsOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfQkFTRV9VUkwgfHwgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MCcsXG4gICAgdGltZW91dDogcGFyc2VJbnQocHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1RJTUVPVVQgfHwgJzEwMDAwJyksXG4gICAgcmV0cnlDb3VudDogcGFyc2VJbnQocHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1JFVFJZX0NPVU5UIHx8ICczJyksXG4gIH0sXG4gIFxuICAvLyDlupTnlKjphY3nva5cbiAgYXBwOiB7XG4gICAgbmFtZTogJ0lUU00gUGxhdGZvcm0nLFxuICAgIHZlcnNpb246IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQUF9WRVJTSU9OIHx8ICcxLjAuMCcsXG4gICAgYnVpbGRUaW1lOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CVUlMRF9USU1FIHx8ICcnLFxuICB9LFxufTtcblxuLy8g5pel5b+X5bel5YW3XG5leHBvcnQgY29uc3QgbG9nZ2VyID0ge1xuICAvLyDlvIDlj5Hnjq/looPml6Xlv5dcbiAgZGVidWc6ICguLi5hcmdzOiB1bmtub3duW10pID0+IHtcbiAgICBpZiAoZW52LmZlYXR1cmVzLmNvbnNvbGVMb2dzKSB7XG4gICAgICBjb25zb2xlLmxvZygnW0RFQlVHXScsIC4uLmFyZ3MpO1xuICAgIH1cbiAgfSxcbiAgXG4gIC8vIOS/oeaBr+aXpeW/l1xuICBpbmZvOiAoLi4uYXJnczogdW5rbm93bltdKSA9PiB7XG4gICAgaWYgKGVudi5mZWF0dXJlcy5jb25zb2xlTG9ncykge1xuICAgICAgY29uc29sZS5pbmZvKCdbSU5GT10nLCAuLi5hcmdzKTtcbiAgICB9XG4gIH0sXG4gIFxuICAvLyDorablkYrml6Xlv5dcbiAgd2FybjogKC4uLmFyZ3M6IHVua25vd25bXSkgPT4ge1xuICAgIGlmIChlbnYuZmVhdHVyZXMuY29uc29sZUxvZ3MpIHtcbiAgICAgIGNvbnNvbGUud2FybignW1dBUk5dJywgLi4uYXJncyk7XG4gICAgfVxuICB9LFxuICBcbiAgLy8g6ZSZ6K+v5pel5b+X77yI55Sf5Lqn546v5aKD5Lmf5Lya6L6T5Ye677yJXG4gIGVycm9yOiAoLi4uYXJnczogdW5rbm93bltdKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcignW0VSUk9SXScsIC4uLmFyZ3MpO1xuICAgIFxuICAgIC8vIOeUn+S6p+eOr+Wig+mUmeivr+S4iuaKpVxuICAgIGlmIChlbnYuZmVhdHVyZXMuZXJyb3JSZXBvcnRpbmcpIHtcbiAgICAgIC8vIOi/memHjOWPr+S7pembhuaIkOmUmeivr+S4iuaKpeacjeWKoVxuICAgICAgLy8gcmVwb3J0RXJyb3IoYXJncyk7XG4gICAgfVxuICB9LFxuICBcbiAgLy8g5oCn6IO95pel5b+XXG4gIHBlcmZvcm1hbmNlOiAobGFiZWw6IHN0cmluZywgZGF0YTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pID0+IHtcbiAgICBpZiAoZW52LmZlYXR1cmVzLnBlcmZvcm1hbmNlTW9uaXRvcmluZykge1xuICAgICAgY29uc29sZS5sb2coYFtQRVJGT1JNQU5DRV0gJHtsYWJlbH06YCwgZGF0YSk7XG4gICAgfVxuICB9LFxuICBcbiAgLy8g5a6J5YWo5pel5b+XXG4gIHNlY3VyaXR5OiAoZXZlbnQ6IHN0cmluZywgZGF0YTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pID0+IHtcbiAgICBpZiAoZW52LmZlYXR1cmVzLmNvbnNvbGVMb2dzKSB7XG4gICAgICBjb25zb2xlLmxvZygnW1NFQ1VSSVRZXScsIGV2ZW50LCBkYXRhKTtcbiAgICB9XG4gICAgXG4gICAgLy8g55Sf5Lqn546v5aKD5a6J5YWo5LqL5Lu25LiK5oqlXG4gICAgaWYgKGVudi5mZWF0dXJlcy5lcnJvclJlcG9ydGluZykge1xuICAgICAgLy8gcmVwb3J0U2VjdXJpdHlFdmVudChldmVudCwgZGF0YSk7XG4gICAgfVxuICB9LFxufTtcblxuLy8g5oCn6IO955uR5o6n5bel5YW3XG5leHBvcnQgY29uc3QgcGVyZm9ybWFuY2UgPSB7XG4gIC8vIOW8gOWni+iuoeaXtlxuICBzdGFydDogKGxhYmVsOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoZW52LmZlYXR1cmVzLnBlcmZvcm1hbmNlTW9uaXRvcmluZykge1xuICAgICAgY29uc29sZS50aW1lKGBbUEVSRl0gJHtsYWJlbH1gKTtcbiAgICAgIHJldHVybiBsYWJlbDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIFxuICAvLyDnu5PmnZ/orqHml7ZcbiAgZW5kOiAobGFiZWw6IHN0cmluZykgPT4ge1xuICAgIGlmIChlbnYuZmVhdHVyZXMucGVyZm9ybWFuY2VNb25pdG9yaW5nKSB7XG4gICAgICBjb25zb2xlLnRpbWVFbmQoYFtQRVJGXSAke2xhYmVsfWApO1xuICAgIH1cbiAgfSxcbiAgXG4gIC8vIOa1i+mHj+WHveaVsOaJp+ihjOaXtumXtFxuICBtZWFzdXJlOiA8VD4obGFiZWw6IHN0cmluZywgZm46ICgpID0+IFQpOiBUID0+IHtcbiAgICBpZiAoZW52LmZlYXR1cmVzLnBlcmZvcm1hbmNlTW9uaXRvcmluZykge1xuICAgICAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gZm4oKTtcbiAgICAgIGNvbnN0IGVuZCA9IERhdGUubm93KCk7XG4gICAgICBsb2dnZXIucGVyZm9ybWFuY2UobGFiZWwsIHsgZHVyYXRpb246IGAke2VuZCAtIHN0YXJ0fW1zYCB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiBmbigpO1xuICB9LFxuICBcbiAgLy8g5byC5q2l5Ye95pWw5oCn6IO95rWL6YePXG4gIG1lYXN1cmVBc3luYzogYXN5bmMgPFQ+KGxhYmVsOiBzdHJpbmcsIGZuOiAoKSA9PiBQcm9taXNlPFQ+KTogUHJvbWlzZTxUPiA9PiB7XG4gICAgaWYgKGVudi5mZWF0dXJlcy5wZXJmb3JtYW5jZU1vbml0b3JpbmcpIHtcbiAgICAgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZuKCk7XG4gICAgICBjb25zdCBlbmQgPSBEYXRlLm5vdygpO1xuICAgICAgbG9nZ2VyLnBlcmZvcm1hbmNlKGxhYmVsLCB7IGR1cmF0aW9uOiBgJHtlbmQgLSBzdGFydH1tc2AgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gZm4oKTtcbiAgfSxcbn07XG5cbi8vIOmUmeivr+WkhOeQhuW3peWFt1xuZXhwb3J0IGNvbnN0IGVycm9ySGFuZGxlciA9IHtcbiAgLy8g5aSE55CGQVBJ6ZSZ6K+vXG4gIGhhbmRsZUFwaUVycm9yOiAoZXJyb3I6IHVua25vd24sIGNvbnRleHQ/OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG4gICAgY29uc3QgZXJyb3JDb250ZXh0ID0gY29udGV4dCA/IGBbJHtjb250ZXh0fV1gIDogJyc7XG4gICAgXG4gICAgbG9nZ2VyLmVycm9yKGAke2Vycm9yQ29udGV4dH0gQVBJIEVycm9yOmAsIGVycm9yTWVzc2FnZSk7XG4gICAgXG4gICAgLy8g55Sf5Lqn546v5aKD6ZSZ6K+v5LiK5oqlXG4gICAgaWYgKGVudi5mZWF0dXJlcy5lcnJvclJlcG9ydGluZykge1xuICAgICAgLy8gcmVwb3J0QXBpRXJyb3IoZXJyb3IsIGNvbnRleHQpO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogZXJyb3JNZXNzYWdlLFxuICAgICAgY29udGV4dCxcbiAgICB9O1xuICB9LFxuICBcbiAgLy8g5aSE55CG6KGo5Y2V6aqM6K+B6ZSZ6K+vXG4gIGhhbmRsZVZhbGlkYXRpb25FcnJvcjogKGVycm9yczogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+KSA9PiB7XG4gICAgbG9nZ2VyLndhcm4oJ0Zvcm0gdmFsaWRhdGlvbiBlcnJvcnM6JywgZXJyb3JzKTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcnMsXG4gICAgICBtZXNzYWdlOiAn6KGo5Y2V6aqM6K+B5aSx6LSlJyxcbiAgICB9O1xuICB9LFxuICBcbiAgLy8g5aSE55CG572R57uc6ZSZ6K+vXG4gIGhhbmRsZU5ldHdvcmtFcnJvcjogKGVycm9yOiB1bmtub3duKSA9PiB7XG4gICAgY29uc3QgaXNOZXR3b3JrRXJyb3IgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIFxuICAgICAgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ05ldHdvcmsgRXJyb3InKSB8fCBcbiAgICAgICBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdGYWlsZWQgdG8gZmV0Y2gnKSk7XG4gICAgXG4gICAgaWYgKGlzTmV0d29ya0Vycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ05ldHdvcmsgZXJyb3IgZGV0ZWN0ZWQ6JywgZXJyb3IpO1xuICAgICAgXG4gICAgICAvLyDnlJ/kuqfnjq/looPnvZHnu5zplJnor6/kuIrmiqVcbiAgICAgIGlmIChlbnYuZmVhdHVyZXMuZXJyb3JSZXBvcnRpbmcpIHtcbiAgICAgICAgLy8gcmVwb3J0TmV0d29ya0Vycm9yKGVycm9yKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAn572R57uc6L+e5o6l5aSx6LSl77yM6K+35qOA5p+l572R57uc6K6+572uJyxcbiAgICAgICAgdHlwZTogJ25ldHdvcmsnLFxuICAgICAgfTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6ICfmnKrnn6XplJnor68nLFxuICAgICAgdHlwZTogJ3Vua25vd24nLFxuICAgIH07XG4gIH0sXG59O1xuXG4vLyDlvIDlj5Hlt6XlhbdcbmV4cG9ydCBjb25zdCBkZXZUb29scyA9IHtcbiAgLy8g5Y+q5Zyo5byA5Y+R546v5aKD5omn6KGM55qE5Ye95pWwXG4gIG9ubHlJbkRldjogPFQ+KGZuOiAoKSA9PiBULCBmYWxsYmFjaz86IFQpOiBUIHwgdW5kZWZpbmVkID0+IHtcbiAgICBpZiAoZW52LmlzRGV2ZWxvcG1lbnQpIHtcbiAgICAgIHJldHVybiBmbigpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsbGJhY2s7XG4gIH0sXG4gIFxuICAvLyDlvIDlj5Hnjq/looPosIPor5Xkv6Hmga9cbiAgZGVidWdJbmZvOiAoY29tcG9uZW50OiBzdHJpbmcsIGRhdGE6IHVua25vd24pID0+IHtcbiAgICBpZiAoZW52LmlzRGV2ZWxvcG1lbnQpIHtcbiAgICAgIGxvZ2dlci5kZWJ1ZyhgWyR7Y29tcG9uZW50fV1gLCBkYXRhKTtcbiAgICB9XG4gIH0sXG4gIFxuICAvLyDlvIDlj5Hnjq/looPmgKfog73moIforrBcbiAgbWFyazogKG5hbWU6IHN0cmluZykgPT4ge1xuICAgIGlmIChlbnYuaXNEZXZlbG9wbWVudCAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucGVyZm9ybWFuY2UpIHtcbiAgICAgIHdpbmRvdy5wZXJmb3JtYW5jZS5tYXJrKG5hbWUpO1xuICAgIH1cbiAgfSxcbiAgXG4gIC8vIOW8gOWPkeeOr+Wig+aAp+iDvea1i+mHj1xuICBtZWFzdXJlOiAobmFtZTogc3RyaW5nLCBzdGFydE1hcms6IHN0cmluZywgZW5kTWFyazogc3RyaW5nKSA9PiB7XG4gICAgaWYgKGVudi5pc0RldmVsb3BtZW50ICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wZXJmb3JtYW5jZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbWVhc3VyZSA9IHdpbmRvdy5wZXJmb3JtYW5jZS5tZWFzdXJlKG5hbWUsIHN0YXJ0TWFyaywgZW5kTWFyayk7XG4gICAgICAgIGxvZ2dlci5kZWJ1ZyhgUGVyZm9ybWFuY2UgbWVhc3VyZSBbJHtuYW1lfV06YCwgbWVhc3VyZS5kdXJhdGlvbik7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBsb2dnZXIud2FybihgRmFpbGVkIHRvIG1lYXN1cmUgcGVyZm9ybWFuY2UgWyR7bmFtZX1dOmAsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG59O1xuXG4vLyDlr7zlh7rpu5jorqTphY3nva5cbmV4cG9ydCBkZWZhdWx0IGVudjtcbiJdLCJuYW1lcyI6WyJkZXZUb29scyIsImVudiIsImVycm9ySGFuZGxlciIsImdldEVudmlyb25tZW50IiwibG9nZ2VyIiwicGVyZm9ybWFuY2UiLCJ3aW5kb3ciLCJwcm9jZXNzIiwiTk9ERV9FTlYiLCJpc0RldmVsb3BtZW50IiwiaXNQcm9kdWN0aW9uIiwiaXNUZXN0IiwiZmVhdHVyZXMiLCJkZWJ1Z01vZGUiLCJwZXJmb3JtYW5jZU1vbml0b3JpbmciLCJlcnJvclJlcG9ydGluZyIsImNvbnNvbGVMb2dzIiwiYXBpIiwiYmFzZVVybCIsIk5FWFRfUFVCTElDX0FQSV9CQVNFX1VSTCIsInRpbWVvdXQiLCJwYXJzZUludCIsIk5FWFRfUFVCTElDX0FQSV9USU1FT1VUIiwicmV0cnlDb3VudCIsIk5FWFRfUFVCTElDX0FQSV9SRVRSWV9DT1VOVCIsImFwcCIsIm5hbWUiLCJ2ZXJzaW9uIiwiTkVYVF9QVUJMSUNfQVBQX1ZFUlNJT04iLCJidWlsZFRpbWUiLCJORVhUX1BVQkxJQ19CVUlMRF9USU1FIiwiZGVidWciLCJhcmdzIiwiY29uc29sZSIsImxvZyIsImluZm8iLCJ3YXJuIiwiZXJyb3IiLCJsYWJlbCIsImRhdGEiLCJzZWN1cml0eSIsImV2ZW50Iiwic3RhcnQiLCJ0aW1lIiwiZW5kIiwidGltZUVuZCIsIm1lYXN1cmUiLCJmbiIsIkRhdGUiLCJub3ciLCJyZXN1bHQiLCJkdXJhdGlvbiIsIm1lYXN1cmVBc3luYyIsImhhbmRsZUFwaUVycm9yIiwiY29udGV4dCIsImVycm9yTWVzc2FnZSIsIkVycm9yIiwibWVzc2FnZSIsIlN0cmluZyIsImVycm9yQ29udGV4dCIsInN1Y2Nlc3MiLCJoYW5kbGVWYWxpZGF0aW9uRXJyb3IiLCJlcnJvcnMiLCJoYW5kbGVOZXR3b3JrRXJyb3IiLCJpc05ldHdvcmtFcnJvciIsImluY2x1ZGVzIiwidHlwZSIsIm9ubHlJbkRldiIsImZhbGxiYWNrIiwiZGVidWdJbmZvIiwiY29tcG9uZW50IiwibWFyayIsInN0YXJ0TWFyayIsImVuZE1hcmsiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVM7QUFFVCxPQUFPOzs7Ozs7Ozs7Ozs7SUE2T1AsU0FBUztJQUNULE9BQW1CO2VBQW5COztJQXJDYUEsUUFBUTtlQUFSQTs7SUEzTEFDLEdBQUc7ZUFBSEE7O0lBOEhBQyxZQUFZO2VBQVpBOztJQXhJQUMsY0FBYztlQUFkQTs7SUF1Q0FDLE1BQU07ZUFBTkE7O0lBc0RBQyxXQUFXO2VBQVhBOzs7QUE3Rk4sTUFBTUYsaUJBQWlCO0lBQzVCLElBQUksT0FBT0csV0FBVyxhQUFhO1FBQ2pDLFFBQVE7UUFDUixPQUFPLEFBQUNDLFFBQVFOLEdBQUcsQ0FBQ08sUUFBUSxJQUFvQjtJQUNsRDtJQUNBLFFBQVE7SUFDUixPQUFPLEFBQUNELFFBQVFOLEdBQUcsQ0FBQ08sUUFBUSxJQUFvQjtBQUNsRDtBQUdPLE1BQU1QLE1BQU07SUFDakJRLGVBQWVOLHFCQUFxQjtJQUNwQ08sY0FBY1AscUJBQXFCO0lBQ25DUSxRQUFRUixxQkFBcUI7SUFFN0IsT0FBTztJQUNQUyxVQUFVO1FBQ1JDLFdBQVdWLHFCQUFxQjtRQUNoQ1csdUJBQXVCWCxxQkFBcUI7UUFDNUNZLGdCQUFnQloscUJBQXFCO1FBQ3JDYSxhQUFhYixxQkFBcUI7SUFDcEM7SUFFQSxRQUFRO0lBQ1JjLEtBQUs7UUFDSEMsU0FBU1gsUUFBUU4sR0FBRyxDQUFDa0Isd0JBQXdCLElBQUk7UUFDakRDLFNBQVND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