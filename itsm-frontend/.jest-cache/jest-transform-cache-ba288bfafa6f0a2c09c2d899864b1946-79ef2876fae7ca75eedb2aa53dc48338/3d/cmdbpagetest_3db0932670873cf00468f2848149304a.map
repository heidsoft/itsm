{"version":3,"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/__tests__/pages/cmdb-page.test.tsx"],"sourcesContent":["/**\n * CMDB 页面测试\n */\n\nimport React from 'react';\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport '@testing-library/jest-dom';\n\nimport CIList from '@/modules/cmdb/components/CIList';\nimport CIDetail from '@/modules/cmdb/components/CIDetail';\nimport CreateCIPage from '@/app/(main)/cmdb/cis/create/page';\nimport { CMDBApi } from '@/modules/cmdb/api';\nimport type { ConfigurationItem, CIType } from '@/modules/cmdb/types';\n\nconst mockPush = jest.fn();\nconst mockBack = jest.fn();\n\njest.mock('next/navigation', () => ({\n  useRouter: () => ({\n    push: mockPush,\n    back: mockBack,\n    replace: jest.fn(),\n    prefetch: jest.fn(),\n  }),\n  useParams: () => ({ id: '1' }),\n}));\n\njest.mock('antd', () => {\n  const actual = jest.requireActual('antd');\n  const React = jest.requireActual('react');\n  const FormContext = React.createContext({\n    values: {},\n    setValues: () => {},\n  });\n\n  const Form = ({ children, onFinish }: any) => {\n    const [values, setValues] = React.useState<Record<string, unknown>>({});\n    const handleSubmit = (event: React.FormEvent) => {\n      event.preventDefault();\n      onFinish?.(values);\n    };\n\n    return (\n      <form onSubmit={handleSubmit}>\n        <FormContext.Provider value={{ values, setValues }}>\n          {children}\n        </FormContext.Provider>\n      </form>\n    );\n  };\n\n  Form.Item = ({ label, name, children }: any) => {\n    const context = React.useContext(FormContext);\n    if (!React.isValidElement(children)) {\n      return (\n        <label>\n          {label}\n          {children}\n        </label>\n      );\n    }\n\n    const handleChange = (event: any) => {\n      const value = event?.target?.value ?? event;\n      context.setValues((prev: Record<string, unknown>) => ({\n        ...prev,\n        [name]: value,\n      }));\n      children.props.onChange?.(event);\n    };\n\n    return (\n      <label>\n        {label}\n        {React.cloneElement(children, {\n          'aria-label': label,\n          name,\n          value: context.values[name] ?? '',\n          onChange: handleChange,\n        })}\n      </label>\n    );\n  };\n\n  Form.useForm = () => [\n    {\n      getFieldsValue: () => ({}),\n      resetFields: jest.fn(),\n      setFieldsValue: jest.fn(),\n    },\n  ];\n\n  const Input = ({ allowClear, ...rest }: any) => <input {...rest} />;\n  Input.TextArea = ({ allowClear, ...rest }: any) => <textarea {...rest} />;\n\n  const Select = ({\n    children,\n    onChange,\n    value,\n    allowClear,\n    loading,\n    placeholder,\n    style,\n    ...rest\n  }: any) => (\n    <select\n      {...rest}\n      value={value ?? ''}\n      onChange={(event) => onChange?.(event.target.value)}\n    >\n      {children}\n    </select>\n  );\n  Select.Option = ({ value, children }: any) => <option value={value}>{children}</option>;\n\n  const Button = ({\n    children,\n    onClick,\n    htmlType,\n    danger,\n    type,\n    loading,\n    ...rest\n  }: any) => (\n    <button\n      type={htmlType === 'submit' ? 'submit' : 'button'}\n      onClick={onClick}\n      data-danger={danger ? 'true' : undefined}\n      data-variant={type || undefined}\n      {...rest}\n    >\n      {children}\n    </button>\n  );\n\n  const Table = ({ dataSource = [], columns = [], loading, pagination, ...rest }: any) => (\n    <div>\n      {dataSource.map((record: any, rowIndex: number) => (\n        <div key={record.id ?? rowIndex}>\n          {columns.map((column: any, colIndex: number) => {\n            const value = record[column.dataIndex];\n            const content = column.render ? column.render(value, record) : value;\n            return <div key={column.key ?? column.dataIndex ?? colIndex}>{content}</div>;\n          })}\n        </div>\n      ))}\n    </div>\n  );\n\n  const Tabs = ({ children }: any) => <div>{children}</div>;\n  Tabs.TabPane = ({ children }: any) => <div>{children}</div>;\n\n  const Descriptions = ({ children }: any) => <div>{children}</div>;\n  Descriptions.Item = ({ label, children }: any) => (\n    <div>\n      <span>{label}</span>\n      {children}\n    </div>\n  );\n\n  const Card = ({ children }: any) => <div>{children}</div>;\n  const Space = ({ children }: any) => <div>{children}</div>;\n  const Breadcrumb = ({ items = [] }: any) => (\n    <nav>\n      {items.map((item: any, index: number) => (\n        <span key={index}>{item.title}</span>\n      ))}\n    </nav>\n  );\n  const Tag = ({ children }: any) => <span>{children}</span>;\n  const Skeleton = ({ children }: any) => <div>{children}</div>;\n  const Result = ({ title, subTitle, extra }: any) => (\n    <div>\n      <div>{title}</div>\n      <div>{subTitle}</div>\n      {extra}\n    </div>\n  );\n  const Empty = ({ description }: any) => <div>{description}</div>;\n  const Tooltip = ({ children }: any) => <span>{children}</span>;\n\n  return {\n    ...actual,\n    Button,\n    Card,\n    Breadcrumb,\n    Descriptions,\n    Empty,\n    Form,\n    Input,\n    Modal: {\n      ...actual.Modal,\n      confirm: jest.fn(),\n    },\n    Select,\n    Skeleton,\n    Space,\n    Table,\n    Tabs,\n    Tag,\n    Tooltip,\n    Result,\n    message: {\n      success: jest.fn(),\n      error: jest.fn(),\n      warning: jest.fn(),\n      info: jest.fn(),\n    },\n  };\n});\n\njest.mock('@/modules/cmdb/api', () => ({\n  CMDBApi: {\n    getCIs: jest.fn(),\n    getCI: jest.fn(),\n    getTypes: jest.fn(),\n    createCI: jest.fn(),\n    deleteCI: jest.fn(),\n  },\n}));\n\nconst mockTypes: CIType[] = [\n  {\n    id: 1,\n    name: '服务器',\n    description: '',\n    is_active: true,\n    tenant_id: 1,\n  },\n];\n\nconst mockItem: ConfigurationItem = {\n  id: 1,\n  name: '应用服务器-01',\n  description: '测试资产',\n  type: 'server',\n  status: 'active',\n  ci_type_id: 1,\n  tenant_id: 1,\n  created_at: '2024-01-01T00:00:00Z',\n  updated_at: '2024-01-01T00:00:00Z',\n};\n\ndescribe('CMDB 页面', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n    (CMDBApi.getTypes as jest.Mock).mockResolvedValue(mockTypes);\n    (CMDBApi.getCIs as jest.Mock).mockResolvedValue({\n      items: [mockItem],\n      total: 1,\n      page: 1,\n      size: 10,\n    });\n    (CMDBApi.getCI as jest.Mock).mockResolvedValue(mockItem);\n    (CMDBApi.createCI as jest.Mock).mockResolvedValue(mockItem);\n    (CMDBApi.deleteCI as jest.Mock).mockResolvedValue(undefined);\n  });\n\n  it('CI 列表应展示资产并支持跳转', async () => {\n    render(<CIList />);\n\n    await screen.findByText('应用服务器-01');\n\n    fireEvent.click(screen.getByRole('button', { name: '应用服务器-01' }));\n    expect(mockPush).toHaveBeenCalledWith('/cmdb/cis/1');\n  });\n\n  it('CI 列表筛选触发数据刷新', async () => {\n    render(<CIList />);\n\n    await screen.findByText('应用服务器-01');\n\n    fireEvent.change(screen.getByPlaceholderText('搜索名称/序列号'), {\n      target: { value: 'server' },\n    });\n    fireEvent.click(screen.getByRole('button', { name: '查询' }));\n\n    await waitFor(() => {\n      expect(CMDBApi.getCIs).toHaveBeenCalledTimes(2);\n    });\n  });\n\n  it('CI 删除应弹出确认并调用删除接口', async () => {\n    const antd = require('antd');\n    render(<CIList />);\n\n    await screen.findByText('应用服务器-01');\n\n    const deleteButton = screen.getAllByRole('button').find(\n      (btn) => (btn as HTMLButtonElement).dataset.danger === 'true'\n    );\n    fireEvent.click(deleteButton as HTMLElement);\n    expect(antd.Modal.confirm).toHaveBeenCalled();\n\n    const confirmArgs = (antd.Modal.confirm as jest.Mock).mock.calls[0][0];\n    await confirmArgs.onOk();\n\n    expect(CMDBApi.deleteCI).toHaveBeenCalledWith(1);\n  });\n\n  it('CI 详情应展示资产信息', async () => {\n    render(<CIDetail />);\n\n    await waitFor(() => {\n      expect(screen.getByText('应用服务器-01')).toBeInTheDocument();\n    });\n    expect(screen.getByText(/配置项 ID: 1/)).toBeInTheDocument();\n  });\n\n  it('创建 CI 表单应提交并返回列表', async () => {\n    render(<CreateCIPage />);\n\n    await waitFor(() => {\n      expect(CMDBApi.getTypes).toHaveBeenCalled();\n    });\n\n    fireEvent.change(screen.getByLabelText('资产名称'), {\n      target: { value: '新资产' },\n    });\n\n    fireEvent.change(screen.getByLabelText('资产类型'), {\n      target: { value: '1' },\n    });\n\n    fireEvent.change(screen.getByLabelText('状态'), {\n      target: { value: 'active' },\n    });\n\n    fireEvent.click(screen.getByRole('button', { name: '保存' }));\n\n    await waitFor(() => {\n      expect(CMDBApi.createCI).toHaveBeenCalled();\n    });\n    expect(mockPush).toHaveBeenCalledWith('/cmdb');\n  });\n\n  it('创建 CI 表单应校验扩展属性 JSON', async () => {\n    const antd = require('antd');\n    render(<CreateCIPage />);\n\n    await waitFor(() => {\n      expect(CMDBApi.getTypes).toHaveBeenCalled();\n    });\n\n    fireEvent.change(screen.getByLabelText('资产名称'), {\n      target: { value: '新资产' },\n    });\n    fireEvent.change(screen.getByLabelText('资产类型'), {\n      target: { value: '1' },\n    });\n    fireEvent.change(screen.getByLabelText('状态'), {\n      target: { value: 'active' },\n    });\n    fireEvent.change(screen.getByLabelText('扩展属性'), {\n      target: { value: '{bad json' },\n    });\n\n    await waitFor(() => {\n      expect(screen.getByLabelText('扩展属性')).toHaveValue('{bad json');\n    });\n\n    fireEvent.click(screen.getByRole('button', { name: '保存' }));\n\n    await waitFor(() => {\n      expect(antd.message.error).toHaveBeenCalled();\n    });\n    expect(CMDBApi.createCI).not.toHaveBeenCalled();\n  });\n});\n"],"names":["jest","mock","useRouter","push","mockPush","back","mockBack","replace","fn","prefetch","useParams","id","actual","requireActual","React","FormContext","createContext","values","setValues","Form","children","onFinish","useState","handleSubmit","event","preventDefault","form","onSubmit","Provider","value","Item","label","name","context","useContext","isValidElement","handleChange","target","prev","props","onChange","cloneElement","useForm","getFieldsValue","resetFields","setFieldsValue","Input","allowClear","rest","input","TextArea","textarea","Select","loading","placeholder","style","select","Option","option","Button","onClick","htmlType","danger","type","button","data-danger","undefined","data-variant","Table","dataSource","columns","pagination","div","map","record","rowIndex","column","colIndex","dataIndex","content","render","key","Tabs","TabPane","Descriptions","span","Card","Space","Breadcrumb","items","nav","item","index","title","Tag","Skeleton","Result","subTitle","extra","Empty","description","Tooltip","Modal","confirm","message","success","error","warning","info","CMDBApi","getCIs","getCI","getTypes","createCI","deleteCI","mockTypes","is_active","tenant_id","mockItem","status","ci_type_id","created_at","updated_at","describe","beforeEach","clearAllMocks","mockResolvedValue","total","page","size","it","CIList","screen","findByText","fireEvent","click","getByRole","expect","toHaveBeenCalledWith","change","getByPlaceholderText","waitFor","toHaveBeenCalledTimes","antd","require","deleteButton","getAllByRole","find","btn","dataset","toHaveBeenCalled","confirmArgs","calls","onOk","CIDetail","getByText","toBeInTheDocument","CreateCIPage","getByLabelText","toHaveValue","not"],"mappings":"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"}