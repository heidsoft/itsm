{"version":3,"names":["_default","SLADetail","cov_1qj3i7l3os","f","id","s","_navigation","useParams","router","useRouter","loading","setLoading","_react","useState","data","setData","useEffect","b","loadDetail","res","_api","SLAApi","getDefinition","error","console","_antd","message","_jsxruntime","jsx","Card","Skeleton","active","Result","status","title","subTitle","extra","Button","type","onClick","push","jsxs","style","padding","Breadcrumb","marginBottom","Item","name","icon","_icons","EditOutlined","Descriptions","bordered","column","label","service_type","Tag","color","_constants","SLAPriorityColors","priority","SLAPriorityLabels","is_active","response_time","resolution_time","span","description","Divider","orientation","background","borderRadius","JSON","stringify","conditions","escalation_rules","marginTop","ArrowLeftOutlined"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/modules/sla/components/SLADetail.tsx"],"sourcesContent":["'use client';\n\n/**\n * SLA 详情组件\n */\n\nimport React, { useState, useEffect } from 'react';\nimport {\n    Card, Tag, Button, Skeleton, Result,\n    Descriptions, Space, Breadcrumb, message, Divider\n} from 'antd';\nimport { ArrowLeftOutlined, EditOutlined } from '@ant-design/icons';\nimport { useParams, useRouter } from 'next/navigation';\n\nimport { SLAApi } from '../api';\nimport { SLAPriorityLabels, SLAPriorityColors } from '../constants';\nimport type { SLADefinition } from '../types';\n\nconst SLADetail: React.FC = () => {\n    const { id } = useParams() as { id: string };\n    const router = useRouter();\n    const [loading, setLoading] = useState(true);\n    const [data, setData] = useState<SLADefinition | null>(null);\n\n    useEffect(() => {\n        if (id) {\n            loadDetail();\n        }\n    }, [id]);\n\n    const loadDetail = async () => {\n        setLoading(true);\n        try {\n            const res = await SLAApi.getDefinition(id!);\n            setData(res);\n        } catch (error) {\n            console.error(error);\n            message.error('加载 SLA 详情失败');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    if (loading) return <Card><Skeleton active /></Card>;\n\n    if (!data) {\n        return (\n            <Card>\n                <Result\n                    status=\"404\"\n                    title=\"404\"\n                    subTitle=\"抱歉，您访问的 SLA 定义不存在\"\n                    extra={<Button type=\"primary\" onClick={() => router.push('/sla')}>返回列表</Button>}\n                />\n            </Card>\n        );\n    }\n\n    return (\n        <div style={{ padding: '0 0 24px' }}>\n            <Breadcrumb style={{ marginBottom: 16 }}>\n                <Breadcrumb.Item>首页</Breadcrumb.Item>\n                <Breadcrumb.Item>服务级别管理</Breadcrumb.Item>\n                <Breadcrumb.Item onClick={() => router.push('/sla')}>SLA 定义</Breadcrumb.Item>\n                <Breadcrumb.Item>详情</Breadcrumb.Item>\n            </Breadcrumb>\n\n            <Card\n                title={data.name}\n                extra={\n                    <Button\n                        type=\"primary\"\n                        icon={<EditOutlined />}\n                        onClick={() => router.push(`/sla/definitions/${data.id}/edit`)}\n                    >\n                        编辑\n                    </Button>\n                }\n            >\n                <Descriptions bordered column={2}>\n                    <Descriptions.Item label=\"名称\">{data.name}</Descriptions.Item>\n                    <Descriptions.Item label=\"服务类型\">{data.service_type || '-'}</Descriptions.Item>\n                    <Descriptions.Item label=\"优先级\">\n                        <Tag color={SLAPriorityColors[data.priority] || 'blue'}>\n                            {SLAPriorityLabels[data.priority] || data.priority}\n                        </Tag>\n                    </Descriptions.Item>\n                    <Descriptions.Item label=\"状态\">\n                        {data.is_active ? <Tag color=\"green\">激活</Tag> : <Tag color=\"red\">禁用</Tag>}\n                    </Descriptions.Item>\n                    <Descriptions.Item label=\"响应时间设定\">{data.response_time} 分钟</Descriptions.Item>\n                    <Descriptions.Item label=\"解决时间设定\">{data.resolution_time} 分钟</Descriptions.Item>\n                    <Descriptions.Item label=\"描述\" span={2}>{data.description || '无'}</Descriptions.Item>\n                </Descriptions>\n\n                <Divider orientation=\"left\">适用条件</Divider>\n                <pre style={{ background: '#f5f5f5', padding: 12, borderRadius: 4 }}>\n                    {JSON.stringify(data.conditions, null, 2)}\n                </pre>\n\n                <Divider orientation=\"left\">升级规则</Divider>\n                <pre style={{ background: '#f5f5f5', padding: 12, borderRadius: 4 }}>\n                    {JSON.stringify(data.escalation_rules, null, 2)}\n                </pre>\n\n                <div style={{ marginTop: 24 }}>\n                    <Button icon={<ArrowLeftOutlined />} onClick={() => router.push('/sla')}>\n                        返回列表\n                    </Button>\n                </div>\n            </Card>\n        </div>\n    );\n};\n\nexport default SLADetail;\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}