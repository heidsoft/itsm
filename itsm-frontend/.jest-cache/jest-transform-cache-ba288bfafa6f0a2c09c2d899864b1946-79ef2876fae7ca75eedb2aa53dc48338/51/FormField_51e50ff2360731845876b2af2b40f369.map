{"version":3,"names":["FormField","type","label","value","onChange","options","validation","placeholder","disabled","className","cov_8r4ah88g5","f","error","setError","s","_react","default","useState","validateField","val","b","required","toString","trim","pattern","test","custom","handleChange","newValue","validationError","renderField","_jsxruntime","jsx","_FormInput","FormInput","String","e","target","_FormTextarea","FormTextarea","jsxs","map","option"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/components/ui/FormField.tsx"],"sourcesContent":["import React from \"react\";\nimport { FormInput } from \"../forms/FormInput\";\nimport { FormTextarea } from \"../forms/FormTextarea\";\n\ninterface FormFieldProps {\n  type:\n    | \"input\"\n    | \"textarea\"\n    | \"select\"\n    | \"checkbox\"\n    | \"radio\"\n    | \"date\"\n    | \"file\";\n  label: string;\n  name: string;\n  value: unknown;\n  onChange: (value: unknown) => void;\n  options?: Array<{ label: string; value: unknown }>;\n  validation?: {\n    required?: boolean;\n    pattern?: RegExp;\n    minLength?: number;\n    maxLength?: number;\n    custom?: (value: unknown) => string | null;\n  };\n  placeholder?: string;\n  disabled?: boolean;\n  className?: string;\n}\n\nexport const FormField: React.FC<FormFieldProps> = ({\n  type,\n  label,\n  value,\n  onChange,\n  options,\n  validation,\n  placeholder,\n  disabled,\n  className,\n}) => {\n  const [error, setError] = React.useState<string | null>(null);\n\n  const validateField = (val: unknown) => {\n    if (!validation) return null;\n\n    if (validation.required && (!val || val.toString().trim() === \"\")) {\n      return `${label}是必填项`;\n    }\n\n    if (validation.pattern && typeof val === 'string' && !validation.pattern.test(val)) {\n      return `${label}格式不正确`;\n    }\n\n    if (validation.custom) {\n      return validation.custom(val);\n    }\n\n    return null;\n  };\n\n  const handleChange = (newValue: unknown) => {\n    const validationError = validateField(newValue);\n    setError(validationError);\n    onChange(newValue);\n  };\n\n  const renderField = () => {\n    switch (type) {\n      case \"input\":\n        return (\n          <FormInput\n            label={label}\n            value={String(value || '')}\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) => handleChange(e.target.value)}\n            placeholder={placeholder}\n            disabled={disabled}\n            className={className}\n          />\n        );\n      case \"textarea\":\n        return (\n          <FormTextarea\n            label={label}\n            value={String(value || '')}\n            onChange={(e: React.ChangeEvent<HTMLTextAreaElement>) => handleChange(e.target.value)}\n            placeholder={placeholder}\n            disabled={disabled}\n            className={className}\n          />\n        );\n      case \"select\":\n        return (\n          <div className=\"space-y-2\">\n            <label className=\"block text-sm font-medium text-gray-700\">\n              {label}\n            </label>\n            <select\n              value={String(value || '')}\n              onChange={(e) => handleChange(e.target.value)}\n              disabled={disabled}\n              className={`w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-gray-50 focus:bg-white hover:bg-white ${\n                className || \"\"\n              }`}\n            >\n              <option value=\"\">{placeholder || \"请选择...\"}</option>\n              {options?.map((option) => (\n                <option key={String(option.value)} value={String(option.value)}>\n                  {option.label}\n                </option>\n              ))}\n            </select>\n          </div>\n        );\n      // ... 其他类型\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className=\"space-y-1\">\n      {renderField()}\n      {error && (\n        <p className=\"text-sm text-red-600 flex items-center\">\n          <span className=\"mr-1\">⚠️</span>\n          {error}\n        </p>\n      )}\n    </div>\n  );\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}