{"version":3,"names":["TicketCard","priorityConfig","cov_2fo23ob28b","s","P1","color","icon","_lucidereact","Zap","label","borderColor","bgColor","textColor","iconColor","P2","AlertCircle","P3","Info","P4","ChevronsDown","playAlertSound","f","audio","Audio","play","catch","e","console","error","id","title","status","priority","lastUpdate","type","b","playSound","config","Icon","cardRef","_react","useRef","useEffect","current","classList","add","remove","_jsxruntime","jsxs","ref","className","jsx","Clock"],"sources":["/Users/heidsoft/Downloads/research/itsm/itsm-frontend/src/components/business/TicketCard.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useRef } from \"react\";\nimport {\n  Zap,\n  AlertCircle,\n  Info,\n  ChevronsDown,\n  Clock,\n} from \"lucide-react\";\n\nconst priorityConfig = {\n  P1: {\n    color: \"red\",\n    icon: Zap,\n    label: \"P1 紧急\",\n    borderColor: \"border-red-500\",\n    bgColor: \"bg-red-100\",\n    textColor: \"text-red-800\",\n    iconColor: \"text-red-600\",\n  },\n  P2: {\n    color: \"orange\",\n    icon: AlertCircle,\n    label: \"P2 高\",\n    borderColor: \"border-orange-500\",\n    bgColor: \"bg-orange-100\",\n    textColor: \"text-orange-800\",\n    iconColor: \"text-orange-600\",\n  },\n  P3: {\n    color: \"yellow\",\n    icon: Info,\n    label: \"P3 中\",\n    borderColor: \"border-yellow-500\",\n    bgColor: \"bg-yellow-100\",\n    textColor: \"text-yellow-800\",\n    iconColor: \"text-yellow-600\",\n  },\n  P4: {\n    color: \"blue\",\n    icon: ChevronsDown,\n    label: \"P4 低\",\n    borderColor: \"border-blue-500\",\n    bgColor: \"bg-blue-100\",\n    textColor: \"text-blue-800\",\n    iconColor: \"text-blue-600\",\n  },\n};\n\nconst playAlertSound = () => {\n  const audio = new Audio(\"/alert.mp3\"); // 确保public目录下有alert.mp3文件\n  audio.play().catch((e) => console.error(\"Error playing sound:\", e));\n};\n\ninterface TicketCardProps {\n  id: string | number;\n  title: string;\n  status: string;\n  priority: \"P1\" | \"P2\" | \"P3\" | \"P4\";\n  lastUpdate: string;\n  type?: string;\n  playSound?: boolean;\n}\n\nexport const TicketCard: React.FC<TicketCardProps> = ({\n  id,\n  title,\n  status,\n  priority,\n  lastUpdate,\n  type = \"事件\",\n  playSound = false,\n}) => {\n  const config = priorityConfig[priority] || priorityConfig.P4; // 默认P4\n  const Icon = config.icon;\n\n  const cardRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (priority === \"P1\") {\n      if (playSound) {\n        playAlertSound();\n      }\n      cardRef.current?.classList.add(\"animate-pulse-strong\"); // 自定义动画类\n    } else {\n      cardRef.current?.classList.remove(\"animate-pulse-strong\");\n    }\n  }, [priority, playSound]);\n\n  return (\n    <div\n      ref={cardRef}\n      className={`relative flex flex-col justify-between rounded-lg border-l-4 bg-white p-6 shadow-md transition-shadow duration-300 ease-in-out hover:shadow-xl ${config.borderColor}`}\n    >\n      {/* 优先级徽章 */}\n      <div\n        className={`absolute top-3 right-3 rounded-full px-3 py-1 text-xs font-bold ${config.bgColor} ${config.textColor}`}\n      >\n        {config.label}\n      </div>\n\n      <h3 className=\"mb-2 text-lg font-semibold text-gray-800\">{title}</h3>\n      <p className=\"mb-4 text-sm text-gray-600\">\n        {type}ID: {id}\n      </p>\n\n      <div className=\"flex items-center justify-between text-sm text-gray-500\">\n        <div className=\"flex items-center\">\n          <Icon className={`mr-2 h-4 w-4 ${config.iconColor}`} />\n          <span>状态: {status}</span>\n        </div>\n        <div className=\"flex items-center\">\n          <Clock className=\"mr-1 h-4 w-4\" />\n          <span>{lastUpdate}</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAiEa;;;;;;WAAAA,UAAA;;;;;;;;yEA/D4B;;;kCAOlC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEP,MAAMC,cAAA;AAAA;AAAA,CAAAC,cAAA,GAAAC,CAAA,QAAiB;EACrBC,EAAA,EAAI;IACFC,KAAA,EAAO;IACPC,IAAA,EAAMC,YAAA,CAAAC,GAAG;IACTC,KAAA,EAAO;IACPC,WAAA,EAAa;IACbC,OAAA,EAAS;IACTC,SAAA,EAAW;IACXC,SAAA,EAAW;EACb;EACAC,EAAA,EAAI;IACFT,KAAA,EAAO;IACPC,IAAA,EAAMC,YAAA,CAAAQ,WAAW;IACjBN,KAAA,EAAO;IACPC,WAAA,EAAa;IACbC,OAAA,EAAS;IACTC,SAAA,EAAW;IACXC,SAAA,EAAW;EACb;EACAG,EAAA,EAAI;IACFX,KAAA,EAAO;IACPC,IAAA,EAAMC,YAAA,CAAAU,IAAI;IACVR,KAAA,EAAO;IACPC,WAAA,EAAa;IACbC,OAAA,EAAS;IACTC,SAAA,EAAW;IACXC,SAAA,EAAW;EACb;EACAK,EAAA,EAAI;IACFb,KAAA,EAAO;IACPC,IAAA,EAAMC,YAAA,CAAAY,YAAY;IAClBV,KAAA,EAAO;IACPC,WAAA,EAAa;IACbC,OAAA,EAAS;IACTC,SAAA,EAAW;IACXC,SAAA,EAAW;EACb;AACF;AAAA;AAAAX,cAAA,GAAAC,CAAA;AAEA,MAAMiB,cAAA,GAAiBA,CAAA;EAAA;EAAAlB,cAAA,GAAAmB,CAAA;EACrB,MAAMC,KAAA;EAAA;EAAA,CAAApB,cAAA,GAAAC,CAAA,QAAQ,IAAIoB,KAAA,CAAM,gBAAe;EAAA;EAAArB,cAAA,GAAAC,CAAA;EACvCmB,KAAA,CAAME,IAAI,GAAGC,KAAK,CAAEC,CAAA,IAAM;IAAA;IAAAxB,cAAA,GAAAmB,CAAA;IAAAnB,cAAA,GAAAC,CAAA;IAAA,OAAAwB,OAAA,CAAQC,KAAK,CAAC,wBAAwBF,CAAA;EAAA;AAClE;AAAA;AAAAxB,cAAA,GAAAC,CAAA;AAYO,MAAMH,UAAA,GAAwCA,CAAC;EACpD6B,EAAE;EACFC,KAAK;EACLC,MAAM;EACNC,QAAQ;EACRC,UAAU;EACVC,IAAA;EAAA;EAAA,CAAAhC,cAAA,GAAAiC,CAAA,WAAO,IAAI;EACXC,SAAA;EAAA;EAAA,CAAAlC,cAAA,GAAAiC,CAAA,WAAY,KAAK;AAAA,CAClB;EAAA;EAAAjC,cAAA,GAAAmB,CAAA;EACC,MAAMgB,MAAA;EAAA;EAAA,CAAAnC,cAAA,GAAAC,CAAA;EAAS;EAAA,CAAAD,cAAA,GAAAiC,CAAA,WAAAlC,cAAc,CAAC+B,QAAA,CAAS;EAAA;EAAA,CAAA9B,cAAA,GAAAiC,CAAA,WAAIlC,cAAA,CAAeiB,EAAE,IAAE;EAC9D,MAAMoB,IAAA;EAAA;EAAA,CAAApC,cAAA,GAAAC,CAAA,QAAOkC,MAAA,CAAO/B,IAAI;EAExB,MAAMiC,OAAA;EAAA;EAAA,CAAArC,cAAA,GAAAC,CAAA,QAAU,IAAAqC,MAAA,CAAAC,MAAM,EAAiB;EAAA;EAAAvC,cAAA,GAAAC,CAAA;EAEvC,IAAAqC,MAAA,CAAAE,SAAS,EAAC;IAAA;IAAAxC,cAAA,GAAAmB,CAAA;IAAAnB,cAAA,GAAAC,CAAA;IACR,IAAI6B,QAAA,KAAa,MAAM;MAAA;MAAA9B,cAAA,GAAAiC,CAAA;MAAAjC,cAAA,GAAAC,CAAA;MACrB,IAAIiC,SAAA,EAAW;QAAA;QAAAlC,cAAA,GAAAiC,CAAA;QAAAjC,cAAA,GAAAC,CAAA;QACbiB,cAAA;MACF;MAAA;MAAA;QAAAlB,cAAA,GAAAiC,CAAA;MAAA;MAAAjC,cAAA,GAAAC,CAAA;MACAoC,OAAA,CAAQI,OAAO,EAAEC,SAAA,CAAUC,GAAA,CAAI,yBAAyB;IAC1D,OAAO;MAAA;MAAA3C,cAAA,GAAAiC,CAAA;MAAAjC,cAAA,GAAAC,CAAA;MACLoC,OAAA,CAAQI,OAAO,EAAEC,SAAA,CAAUE,MAAA,CAAO;IACpC;EACF,GAAG,CAACd,QAAA,EAAUI,SAAA,CAAU;EAAA;EAAAlC,cAAA,GAAAC,CAAA;EAExB,oBACE,IAAA4C,WAAA,CAAAC,IAAA,EAAC;IACCC,GAAA,EAAKV,OAAA;IACLW,SAAA,EAAW,kJAAkJb,MAAA,CAAO3B,WAAW,EAAE;4BAGjL,IAAAqC,WAAA,CAAAI,GAAA,EAAC;MACCD,SAAA,EAAW,mEAAmEb,MAAA,CAAO1B,OAAO,IAAI0B,MAAA,CAAOzB,SAAS,EAAE;gBAEjHyB,MAAA,CAAO5B;qBAGV,IAAAsC,WAAA,CAAAI,GAAA,EAAC;MAAGD,SAAA,EAAU;gBAA4CpB;qBAC1D,IAAAiB,WAAA,CAAAC,IAAA,EAAC;MAAEE,SAAA,EAAU;iBACVhB,IAAA,EAAK,QAAKL,EAAA;qBAGb,IAAAkB,WAAA,CAAAC,IAAA,EAAC;MAAIE,SAAA,EAAU;8BACb,IAAAH,WAAA,CAAAC,IAAA,EAAC;QAAIE,SAAA,EAAU;gCACb,IAAAH,WAAA,CAAAI,GAAA,EAACb,IAAA;UAAKY,SAAA,EAAW,gBAAgBb,MAAA,CAAOxB,SAAS;yBACjD,IAAAkC,WAAA,CAAAC,IAAA,EAAC;qBAAK,QAAKjB,MAAA;;uBAEb,IAAAgB,WAAA,CAAAC,IAAA,EAAC;QAAIE,SAAA,EAAU;gCACb,IAAAH,WAAA,CAAAI,GAAA,EAAC5C,YAAA,CAAA6C,KAAK;UAACF,SAAA,EAAU;yBACjB,IAAAH,WAAA,CAAAI,GAAA,EAAC;oBAAMlB;;;;;AAKjB","ignoreList":[]}