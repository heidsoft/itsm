ddbe75e833ddf3cc4c351e8ae08d40ee
/**
 * CMDB 页面测试
 */ "use strict";
jest.mock('next/navigation', ()=>({
        useRouter: ()=>({
                push: mockPush,
                back: mockBack,
                replace: jest.fn(),
                prefetch: jest.fn()
            }),
        useParams: ()=>({
                id: '1'
            })
    }));
jest.mock('antd', ()=>{
    const actual = jest.requireActual('antd');
    const React = jest.requireActual('react');
    modalConfirmSpy = jest.fn((config)=>{
        config?.onOk?.();
    });
    formValues = {};
    const FormContext = React.createContext({
        values: {},
        setValues: ()=>{}
    });
    const Form = ({ children, onFinish })=>{
        const [values, setValues] = React.useState({});
        const handleSubmit = (event)=>{
            event.preventDefault();
            onFinish?.(values);
        };
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("form", {
            onSubmit: handleSubmit,
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(FormContext.Provider, {
                value: {
                    values,
                    setValues
                },
                children: children
            })
        });
    };
    Form.Item = ({ label, name, children })=>{
        const context = React.useContext(FormContext);
        if (!React.isValidElement(children)) {
            return label ? /*#__PURE__*/ (0, _jsxruntime.jsxs)("label", {
                children: [
                    label,
                    children
                ]
            }) : /*#__PURE__*/ (0, _jsxruntime.jsx)(_jsxruntime.Fragment, {
                children: children
            });
        }
        const handleChange = (event)=>{
            const value = event?.target?.value ?? event;
            context.setValues((prev)=>{
                formValues = {
                    ...prev,
                    [name]: value
                };
                return formValues;
            });
            children.props.onChange?.(event);
        };
        const inputElement = React.cloneElement(children, {
            'aria-label': label,
            name,
            value: context.values[name] ?? '',
            onChange: handleChange
        });
        return label ? /*#__PURE__*/ (0, _jsxruntime.jsxs)("label", {
            children: [
                label,
                inputElement
            ]
        }) : inputElement;
    };
    Form.useForm = ()=>[
            {
                getFieldsValue: ()=>({
                        ...formValues
                    }),
                resetFields: jest.fn(()=>{
                    formValues = {};
                }),
                setFieldsValue: jest.fn((values)=>{
                    formValues = {
                        ...formValues,
                        ...values
                    };
                })
            }
        ];
    const Input = ({ allowClear, ...rest })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
            ...rest
        });
    Input.TextArea = ({ allowClear, ...rest })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("textarea", {
            ...rest
        });
    const Select = ({ children, onChange, value, allowClear, loading, placeholder, style, ...rest })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("select", {
            ...rest,
            value: value ?? '',
            onChange: (event)=>onChange?.(event.target.value),
            children: children
        });
    Select.Option = ({ value, children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
            value: value,
            children: children
        });
    const Button = ({ children, onClick, htmlType, danger, type, loading, ...rest })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
            type: htmlType === 'submit' ? 'submit' : 'button',
            onClick: onClick,
            "data-danger": danger ? 'true' : undefined,
            "data-variant": type || undefined,
            ...rest,
            children: children
        });
    const Table = ({ dataSource = [], columns = [], loading, pagination, ...rest })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            children: [
                pagination?.onChange && /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                    type: "button",
                    "data-testid": "pagination-next",
                    onClick: ()=>pagination.onChange(2, pagination.pageSize || 10),
                    children: "Next"
                }),
                dataSource.map((record, rowIndex)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        children: columns.map((column, colIndex)=>{
                            const value = record[column.dataIndex];
                            const content = column.render ? column.render(value, record) : value;
                            return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                children: content
                            }, column.key ?? column.dataIndex ?? colIndex);
                        })
                    }, record.id ?? rowIndex))
            ]
        });
    const Tabs = ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            children: children
        });
    Tabs.TabPane = ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            children: children
        });
    const Descriptions = ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            children: children
        });
    Descriptions.Item = ({ label, children })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                    children: label
                }),
                children
            ]
        });
    const Card = ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            children: children
        });
    const Space = ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            children: children
        });
    const Breadcrumb = ({ items = [] })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("nav", {
            children: items.map((item, index)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                    children: item.title
                }, index))
        });
    const Tag = ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
            children: children
        });
    const Skeleton = ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            children: children
        });
    const Result = ({ title, subTitle, extra })=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    children: title
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    children: subTitle
                }),
                extra
            ]
        });
    const Empty = ({ description })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            children: description
        });
    const Tooltip = ({ children })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
            children: children
        });
    return {
        ...actual,
        Button,
        Card,
        Breadcrumb,
        Descriptions,
        Empty,
        Form,
        Input,
        Modal: {
            ...actual.Modal,
            confirm: modalConfirmSpy
        },
        Select,
        Skeleton,
        Space,
        Table,
        Tabs,
        Tag,
        Tooltip,
        Result,
        message: {
            success: jest.fn(),
            error: jest.fn(),
            warning: jest.fn(),
            info: jest.fn()
        }
    };
});
jest.mock('@/modules/cmdb/api', ()=>({
        CMDBApi: {
            getCIs: jest.fn(),
            getCI: jest.fn(),
            getTypes: jest.fn(),
            createCI: jest.fn(),
            deleteCI: jest.fn()
        }
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
require("@testing-library/jest-dom");
const _CIList = /*#__PURE__*/ _interop_require_default(require("../../modules/cmdb/components/CIList"));
const _CIDetail = /*#__PURE__*/ _interop_require_default(require("../../modules/cmdb/components/CIDetail"));
const _page = /*#__PURE__*/ _interop_require_default(require("../../app/(main)/cmdb/cis/create/page"));
const _api = require("../../modules/cmdb/api");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const mockPush = jest.fn();
const mockBack = jest.fn();
var modalConfirmSpy;
var formValues = {};
const mockTypes = [
    {
        id: 1,
        name: '服务器',
        description: '',
        is_active: true,
        tenant_id: 1
    }
];
const mockItem = {
    id: 1,
    name: '应用服务器-01',
    description: '测试资产',
    type: 'server',
    status: 'active',
    ci_type_id: 1,
    tenant_id: 1,
    created_at: '2024-01-01T00:00:00Z',
    updated_at: '2024-01-01T00:00:00Z'
};
describe('CMDB 页面', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
        if (modalConfirmSpy) {
            modalConfirmSpy.mockClear();
        }
        _api.CMDBApi.getTypes.mockResolvedValue(mockTypes);
        _api.CMDBApi.getCIs.mockResolvedValue({
            items: [
                mockItem
            ],
            total: 1,
            page: 1,
            size: 10
        });
        _api.CMDBApi.getCI.mockResolvedValue(mockItem);
        _api.CMDBApi.createCI.mockResolvedValue(mockItem);
        _api.CMDBApi.deleteCI.mockResolvedValue(undefined);
    });
    it('CI 列表应展示资产并支持跳转', async ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CIList.default, {}));
        await _react1.screen.findByText('应用服务器-01');
        _react1.fireEvent.click(_react1.screen.getByRole('button', {
            name: '应用服务器-01'
        }));
        expect(mockPush).toHaveBeenCalledWith('/cmdb/cis/1');
    });
    it('CI 列表筛选触发数据刷新', async ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CIList.default, {}));
        await _react1.screen.findByText('应用服务器-01');
        _react1.fireEvent.change(_react1.screen.getByPlaceholderText('搜索名称/序列号'), {
            target: {
                value: 'server'
            }
        });
        const queryButton = _react1.screen.getByText('查询').closest('button');
        _react1.fireEvent.click(queryButton);
        await (0, _react1.waitFor)(()=>{
            expect(_api.CMDBApi.getCIs).toHaveBeenCalledTimes(2);
        });
    });
    it('CI 列表筛选条件应传递到请求', async ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CIList.default, {}));
        await _react1.screen.findByText('应用服务器-01');
        _react1.fireEvent.change(_react1.screen.getByPlaceholderText('搜索名称/序列号'), {
            target: {
                value: 'db'
            }
        });
        _react1.fireEvent.change(document.querySelector('select[name="ci_type_id"]'), {
            target: {
                value: '1'
            }
        });
        _react1.fireEvent.change(document.querySelector('select[name="status"]'), {
            target: {
                value: 'inactive'
            }
        });
        const queryButton = _react1.screen.getByText('查询').closest('button');
        _react1.fireEvent.click(queryButton);
        await (0, _react1.waitFor)(()=>{
            const lastCall = _api.CMDBApi.getCIs.mock.calls.at(-1);
            expect(lastCall?.[0]).toEqual(expect.objectContaining({
                search: 'db',
                ci_type_id: '1',
                status: 'inactive'
            }));
        });
    });
    it('分页切换应触发请求', async ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CIList.default, {}));
        await _react1.screen.findByText('应用服务器-01');
        _react1.fireEvent.click(_react1.screen.getByTestId('pagination-next'));
        await (0, _react1.waitFor)(()=>{
            expect(_api.CMDBApi.getCIs).toHaveBeenCalledTimes(2);
        });
    });
    it('刷新按钮应重新拉取数据', async ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CIList.default, {}));
        await _react1.screen.findByText('应用服务器-01');
        _react1.fireEvent.click(_react1.screen.getByRole('button', {
            name: '刷新'
        }));
        await (0, _react1.waitFor)(()=>{
            expect(_api.CMDBApi.getCIs).toHaveBeenCalledTimes(2);
        });
    });
    it('列表为空时不应展示资产名称', async ()=>{
        _api.CMDBApi.getCIs.mockResolvedValueOnce({
            items: [],
            total: 0,
            page: 1,
            size: 10
        });
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CIList.default, {}));
        await (0, _react1.waitFor)(()=>{
            expect(_api.CMDBApi.getCIs).toHaveBeenCalled();
        });
        expect(_react1.screen.queryByText('应用服务器-01')).not.toBeInTheDocument();
    });
    it('删除失败应提示错误', async ()=>{
        _api.CMDBApi.deleteCI.mockRejectedValueOnce(new Error('删除失败'));
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CIList.default, {}));
        await _react1.screen.findByText('应用服务器-01');
        _react1.fireEvent.click(_react1.screen.getByRole('button', {
            name: '删除'
        }));
        await (0, _react1.waitFor)(()=>{
            expect(_api.CMDBApi.deleteCI).toHaveBeenCalledWith(1);
        });
    });
    it('CI 删除应弹出确认并调用删除接口', async ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CIList.default, {}));
        await _react1.screen.findByText('应用服务器-01');
        _react1.fireEvent.click(_react1.screen.getByRole('button', {
            name: '删除'
        }));
        await (0, _react1.waitFor)(()=>{
            expect(_api.CMDBApi.deleteCI).toHaveBeenCalledWith(1);
        });
    });
    it('CI 详情应展示资产信息', async ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CIDetail.default, {}));
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.getByText('应用服务器-01')).toBeInTheDocument();
        });
        expect(_react1.screen.getByText(/配置项 ID: 1/)).toBeInTheDocument();
    });
    it('CI 详情加载失败应显示 404', async ()=>{
        _api.CMDBApi.getCI.mockRejectedValueOnce(new Error('not found'));
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_CIDetail.default, {}));
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.getByText('404')).toBeInTheDocument();
        });
    });
    it('创建 CI 表单应提交并返回列表', async ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
        await (0, _react1.waitFor)(()=>{
            expect(_api.CMDBApi.getTypes).toHaveBeenCalled();
        });
        _react1.fireEvent.change(_react1.screen.getByLabelText('资产名称'), {
            target: {
                value: '新资产'
            }
        });
        _react1.fireEvent.change(_react1.screen.getByLabelText('资产类型'), {
            target: {
                value: '1'
            }
        });
        _react1.fireEvent.change(_react1.screen.getByLabelText('状态'), {
            target: {
                value: 'active'
            }
        });
        const form = document.querySelector('form');
        _react1.fireEvent.submit(form);
        await (0, _react1.waitFor)(()=>{
            expect(_api.CMDBApi.createCI).toHaveBeenCalled();
        });
        expect(mockPush).toHaveBeenCalledWith('/cmdb');
    });
    it('创建 CI 表单应校验扩展属性 JSON', async ()=>{
        const antd = require('antd');
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_page.default, {}));
        await (0, _react1.waitFor)(()=>{
            expect(_api.CMDBApi.getTypes).toHaveBeenCalled();
        });
        _react1.fireEvent.change(_react1.screen.getByLabelText('资产名称'), {
            target: {
                value: '新资产'
            }
        });
        _react1.fireEvent.change(_react1.screen.getByLabelText('资产类型'), {
            target: {
                value: '1'
            }
        });
        _react1.fireEvent.change(_react1.screen.getByLabelText('状态'), {
            target: {
                value: 'active'
            }
        });
        _react1.fireEvent.change(_react1.screen.getByLabelText('扩展属性'), {
            target: {
                value: '{bad json'
            }
        });
        await (0, _react1.waitFor)(()=>{
            expect(_react1.screen.getByLabelText('扩展属性')).toHaveValue('{bad json');
        });
        _react1.fireEvent.click(_react1.screen.getByRole('button', {
            name: '保存'
        }));
        await (0, _react1.waitFor)(()=>{
            expect(_api.CMDBApi.createCI).not.toHaveBeenCalled();
        });
        expect(mockPush).not.toHaveBeenCalled();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZWlkc29mdC9Eb3dubG9hZHMvcmVzZWFyY2gvaXRzbS9pdHNtLWZyb250ZW5kL3NyYy9fX3Rlc3RzX18vcGFnZXMvY21kYi1wYWdlLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ01EQiDpobXpnaLmtYvor5VcbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIGZpcmVFdmVudCwgd2FpdEZvciwgYWN0IH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgJ0B0ZXN0aW5nLWxpYnJhcnkvamVzdC1kb20nO1xuXG5pbXBvcnQgQ0lMaXN0IGZyb20gJ0AvbW9kdWxlcy9jbWRiL2NvbXBvbmVudHMvQ0lMaXN0JztcbmltcG9ydCBDSURldGFpbCBmcm9tICdAL21vZHVsZXMvY21kYi9jb21wb25lbnRzL0NJRGV0YWlsJztcbmltcG9ydCBDcmVhdGVDSVBhZ2UgZnJvbSAnQC9hcHAvKG1haW4pL2NtZGIvY2lzL2NyZWF0ZS9wYWdlJztcbmltcG9ydCB7IENNREJBcGkgfSBmcm9tICdAL21vZHVsZXMvY21kYi9hcGknO1xuaW1wb3J0IHR5cGUgeyBDb25maWd1cmF0aW9uSXRlbSwgQ0lUeXBlIH0gZnJvbSAnQC9tb2R1bGVzL2NtZGIvdHlwZXMnO1xuXG5jb25zdCBtb2NrUHVzaCA9IGplc3QuZm4oKTtcbmNvbnN0IG1vY2tCYWNrID0gamVzdC5mbigpO1xudmFyIG1vZGFsQ29uZmlybVNweTogamVzdC5Nb2NrO1xudmFyIGZvcm1WYWx1ZXM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cbmplc3QubW9jaygnbmV4dC9uYXZpZ2F0aW9uJywgKCkgPT4gKHtcbiAgdXNlUm91dGVyOiAoKSA9PiAoe1xuICAgIHB1c2g6IG1vY2tQdXNoLFxuICAgIGJhY2s6IG1vY2tCYWNrLFxuICAgIHJlcGxhY2U6IGplc3QuZm4oKSxcbiAgICBwcmVmZXRjaDogamVzdC5mbigpLFxuICB9KSxcbiAgdXNlUGFyYW1zOiAoKSA9PiAoeyBpZDogJzEnIH0pLFxufSkpO1xuXG5qZXN0Lm1vY2soJ2FudGQnLCAoKSA9PiB7XG4gIGNvbnN0IGFjdHVhbCA9IGplc3QucmVxdWlyZUFjdHVhbCgnYW50ZCcpO1xuICBjb25zdCBSZWFjdCA9IGplc3QucmVxdWlyZUFjdHVhbCgncmVhY3QnKTtcbiAgbW9kYWxDb25maXJtU3B5ID0gamVzdC5mbigoY29uZmlnOiB7IG9uT2s/OiAoKSA9PiB2b2lkIH0pID0+IHtcbiAgICBjb25maWc/Lm9uT2s/LigpO1xuICB9KTtcbiAgZm9ybVZhbHVlcyA9IHt9O1xuICBjb25zdCBGb3JtQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoe1xuICAgIHZhbHVlczoge30sXG4gICAgc2V0VmFsdWVzOiAoKSA9PiB7fSxcbiAgfSk7XG5cbiAgY29uc3QgRm9ybSA9ICh7IGNoaWxkcmVuLCBvbkZpbmlzaCB9OiBhbnkpID0+IHtcbiAgICBjb25zdCBbdmFsdWVzLCBzZXRWYWx1ZXNdID0gUmVhY3QudXNlU3RhdGU8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+KHt9KTtcbiAgICBjb25zdCBoYW5kbGVTdWJtaXQgPSAoZXZlbnQ6IFJlYWN0LkZvcm1FdmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIG9uRmluaXNoPy4odmFsdWVzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9PlxuICAgICAgICA8Rm9ybUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3sgdmFsdWVzLCBzZXRWYWx1ZXMgfX0+XG4gICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L0Zvcm1Db250ZXh0LlByb3ZpZGVyPlxuICAgICAgPC9mb3JtPlxuICAgICk7XG4gIH07XG5cbiAgRm9ybS5JdGVtID0gKHsgbGFiZWwsIG5hbWUsIGNoaWxkcmVuIH06IGFueSkgPT4ge1xuICAgIGNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KEZvcm1Db250ZXh0KTtcbiAgICBpZiAoIVJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSkge1xuICAgICAgcmV0dXJuIGxhYmVsID8gKFxuICAgICAgICA8bGFiZWw+XG4gICAgICAgICAge2xhYmVsfVxuICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9sYWJlbD5cbiAgICAgICkgOiAoXG4gICAgICAgIDw+e2NoaWxkcmVufTwvPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBoYW5kbGVDaGFuZ2UgPSAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSBldmVudD8udGFyZ2V0Py52YWx1ZSA/PyBldmVudDtcbiAgICAgIGNvbnRleHQuc2V0VmFsdWVzKChwcmV2OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPikgPT4ge1xuICAgICAgICBmb3JtVmFsdWVzID0geyAuLi5wcmV2LCBbbmFtZV06IHZhbHVlIH07XG4gICAgICAgIHJldHVybiBmb3JtVmFsdWVzO1xuICAgICAgfSk7XG4gICAgICBjaGlsZHJlbi5wcm9wcy5vbkNoYW5nZT8uKGV2ZW50KTtcbiAgICB9O1xuXG4gICAgY29uc3QgaW5wdXRFbGVtZW50ID0gUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkcmVuLCB7XG4gICAgICAnYXJpYS1sYWJlbCc6IGxhYmVsLFxuICAgICAgbmFtZSxcbiAgICAgIHZhbHVlOiBjb250ZXh0LnZhbHVlc1tuYW1lXSA/PyAnJyxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gbGFiZWwgPyA8bGFiZWw+e2xhYmVsfXtpbnB1dEVsZW1lbnR9PC9sYWJlbD4gOiBpbnB1dEVsZW1lbnQ7XG4gIH07XG5cbiAgRm9ybS51c2VGb3JtID0gKCkgPT4gW1xuICAgIHtcbiAgICAgIGdldEZpZWxkc1ZhbHVlOiAoKSA9PiAoeyAuLi5mb3JtVmFsdWVzIH0pLFxuICAgICAgcmVzZXRGaWVsZHM6IGplc3QuZm4oKCkgPT4ge1xuICAgICAgICBmb3JtVmFsdWVzID0ge307XG4gICAgICB9KSxcbiAgICAgIHNldEZpZWxkc1ZhbHVlOiBqZXN0LmZuKCh2YWx1ZXM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiB7XG4gICAgICAgIGZvcm1WYWx1ZXMgPSB7IC4uLmZvcm1WYWx1ZXMsIC4uLnZhbHVlcyB9O1xuICAgICAgfSksXG4gICAgfSxcbiAgXTtcblxuICBjb25zdCBJbnB1dCA9ICh7IGFsbG93Q2xlYXIsIC4uLnJlc3QgfTogYW55KSA9PiA8aW5wdXQgey4uLnJlc3R9IC8+O1xuICBJbnB1dC5UZXh0QXJlYSA9ICh7IGFsbG93Q2xlYXIsIC4uLnJlc3QgfTogYW55KSA9PiA8dGV4dGFyZWEgey4uLnJlc3R9IC8+O1xuXG4gIGNvbnN0IFNlbGVjdCA9ICh7XG4gICAgY2hpbGRyZW4sXG4gICAgb25DaGFuZ2UsXG4gICAgdmFsdWUsXG4gICAgYWxsb3dDbGVhcixcbiAgICBsb2FkaW5nLFxuICAgIHBsYWNlaG9sZGVyLFxuICAgIHN0eWxlLFxuICAgIC4uLnJlc3RcbiAgfTogYW55KSA9PiAoXG4gICAgPHNlbGVjdFxuICAgICAgey4uLnJlc3R9XG4gICAgICB2YWx1ZT17dmFsdWUgPz8gJyd9XG4gICAgICBvbkNoYW5nZT17KGV2ZW50KSA9PiBvbkNoYW5nZT8uKGV2ZW50LnRhcmdldC52YWx1ZSl9XG4gICAgPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvc2VsZWN0PlxuICApO1xuICBTZWxlY3QuT3B0aW9uID0gKHsgdmFsdWUsIGNoaWxkcmVuIH06IGFueSkgPT4gPG9wdGlvbiB2YWx1ZT17dmFsdWV9PntjaGlsZHJlbn08L29wdGlvbj47XG5cbiAgY29uc3QgQnV0dG9uID0gKHtcbiAgICBjaGlsZHJlbixcbiAgICBvbkNsaWNrLFxuICAgIGh0bWxUeXBlLFxuICAgIGRhbmdlcixcbiAgICB0eXBlLFxuICAgIGxvYWRpbmcsXG4gICAgLi4ucmVzdFxuICB9OiBhbnkpID0+IChcbiAgICA8YnV0dG9uXG4gICAgICB0eXBlPXtodG1sVHlwZSA9PT0gJ3N1Ym1pdCcgPyAnc3VibWl0JyA6ICdidXR0b24nfVxuICAgICAgb25DbGljaz17b25DbGlja31cbiAgICAgIGRhdGEtZGFuZ2VyPXtkYW5nZXIgPyAndHJ1ZScgOiB1bmRlZmluZWR9XG4gICAgICBkYXRhLXZhcmlhbnQ9e3R5cGUgfHwgdW5kZWZpbmVkfVxuICAgICAgey4uLnJlc3R9XG4gICAgPlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvYnV0dG9uPlxuICApO1xuXG4gIGNvbnN0IFRhYmxlID0gKHsgZGF0YVNvdXJjZSA9IFtdLCBjb2x1bW5zID0gW10sIGxvYWRpbmcsIHBhZ2luYXRpb24sIC4uLnJlc3QgfTogYW55KSA9PiAoXG4gICAgPGRpdj5cbiAgICAgIHtwYWdpbmF0aW9uPy5vbkNoYW5nZSAmJiAoXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICBkYXRhLXRlc3RpZD1cInBhZ2luYXRpb24tbmV4dFwiXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gcGFnaW5hdGlvbi5vbkNoYW5nZSgyLCBwYWdpbmF0aW9uLnBhZ2VTaXplIHx8IDEwKX1cbiAgICAgICAgPlxuICAgICAgICAgIE5leHRcbiAgICAgICAgPC9idXR0b24+XG4gICAgICApfVxuICAgICAge2RhdGFTb3VyY2UubWFwKChyZWNvcmQ6IGFueSwgcm93SW5kZXg6IG51bWJlcikgPT4gKFxuICAgICAgICA8ZGl2IGtleT17cmVjb3JkLmlkID8/IHJvd0luZGV4fT5cbiAgICAgICAgICB7Y29sdW1ucy5tYXAoKGNvbHVtbjogYW55LCBjb2xJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJlY29yZFtjb2x1bW4uZGF0YUluZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBjb2x1bW4ucmVuZGVyID8gY29sdW1uLnJlbmRlcih2YWx1ZSwgcmVjb3JkKSA6IHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIDxkaXYga2V5PXtjb2x1bW4ua2V5ID8/IGNvbHVtbi5kYXRhSW5kZXggPz8gY29sSW5kZXh9Pntjb250ZW50fTwvZGl2PjtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9kaXY+XG4gICAgICApKX1cbiAgICA8L2Rpdj5cbiAgKTtcblxuICBjb25zdCBUYWJzID0gKHsgY2hpbGRyZW4gfTogYW55KSA9PiA8ZGl2PntjaGlsZHJlbn08L2Rpdj47XG4gIFRhYnMuVGFiUGFuZSA9ICh7IGNoaWxkcmVuIH06IGFueSkgPT4gPGRpdj57Y2hpbGRyZW59PC9kaXY+O1xuXG4gIGNvbnN0IERlc2NyaXB0aW9ucyA9ICh7IGNoaWxkcmVuIH06IGFueSkgPT4gPGRpdj57Y2hpbGRyZW59PC9kaXY+O1xuICBEZXNjcmlwdGlvbnMuSXRlbSA9ICh7IGxhYmVsLCBjaGlsZHJlbiB9OiBhbnkpID0+IChcbiAgICA8ZGl2PlxuICAgICAgPHNwYW4+e2xhYmVsfTwvc3Bhbj5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L2Rpdj5cbiAgKTtcblxuICBjb25zdCBDYXJkID0gKHsgY2hpbGRyZW4gfTogYW55KSA9PiA8ZGl2PntjaGlsZHJlbn08L2Rpdj47XG4gIGNvbnN0IFNwYWNlID0gKHsgY2hpbGRyZW4gfTogYW55KSA9PiA8ZGl2PntjaGlsZHJlbn08L2Rpdj47XG4gIGNvbnN0IEJyZWFkY3J1bWIgPSAoeyBpdGVtcyA9IFtdIH06IGFueSkgPT4gKFxuICAgIDxuYXY+XG4gICAgICB7aXRlbXMubWFwKChpdGVtOiBhbnksIGluZGV4OiBudW1iZXIpID0+IChcbiAgICAgICAgPHNwYW4ga2V5PXtpbmRleH0+e2l0ZW0udGl0bGV9PC9zcGFuPlxuICAgICAgKSl9XG4gICAgPC9uYXY+XG4gICk7XG4gIGNvbnN0IFRhZyA9ICh7IGNoaWxkcmVuIH06IGFueSkgPT4gPHNwYW4+e2NoaWxkcmVufTwvc3Bhbj47XG4gIGNvbnN0IFNrZWxldG9uID0gKHsgY2hpbGRyZW4gfTogYW55KSA9PiA8ZGl2PntjaGlsZHJlbn08L2Rpdj47XG4gIGNvbnN0IFJlc3VsdCA9ICh7IHRpdGxlLCBzdWJUaXRsZSwgZXh0cmEgfTogYW55KSA9PiAoXG4gICAgPGRpdj5cbiAgICAgIDxkaXY+e3RpdGxlfTwvZGl2PlxuICAgICAgPGRpdj57c3ViVGl0bGV9PC9kaXY+XG4gICAgICB7ZXh0cmF9XG4gICAgPC9kaXY+XG4gICk7XG4gIGNvbnN0IEVtcHR5ID0gKHsgZGVzY3JpcHRpb24gfTogYW55KSA9PiA8ZGl2PntkZXNjcmlwdGlvbn08L2Rpdj47XG4gIGNvbnN0IFRvb2x0aXAgPSAoeyBjaGlsZHJlbiB9OiBhbnkpID0+IDxzcGFuPntjaGlsZHJlbn08L3NwYW4+O1xuXG4gIHJldHVybiB7XG4gICAgLi4uYWN0dWFsLFxuICAgIEJ1dHRvbixcbiAgICBDYXJkLFxuICAgIEJyZWFkY3J1bWIsXG4gICAgRGVzY3JpcHRpb25zLFxuICAgIEVtcHR5LFxuICAgIEZvcm0sXG4gICAgSW5wdXQsXG4gICAgTW9kYWw6IHtcbiAgICAgIC4uLmFjdHVhbC5Nb2RhbCxcbiAgICAgIGNvbmZpcm06IG1vZGFsQ29uZmlybVNweSxcbiAgICB9LFxuICAgIFNlbGVjdCxcbiAgICBTa2VsZXRvbixcbiAgICBTcGFjZSxcbiAgICBUYWJsZSxcbiAgICBUYWJzLFxuICAgIFRhZyxcbiAgICBUb29sdGlwLFxuICAgIFJlc3VsdCxcbiAgICBtZXNzYWdlOiB7XG4gICAgICBzdWNjZXNzOiBqZXN0LmZuKCksXG4gICAgICBlcnJvcjogamVzdC5mbigpLFxuICAgICAgd2FybmluZzogamVzdC5mbigpLFxuICAgICAgaW5mbzogamVzdC5mbigpLFxuICAgIH0sXG4gIH07XG59KTtcblxuamVzdC5tb2NrKCdAL21vZHVsZXMvY21kYi9hcGknLCAoKSA9PiAoe1xuICBDTURCQXBpOiB7XG4gICAgZ2V0Q0lzOiBqZXN0LmZuKCksXG4gICAgZ2V0Q0k6IGplc3QuZm4oKSxcbiAgICBnZXRUeXBlczogamVzdC5mbigpLFxuICAgIGNyZWF0ZUNJOiBqZXN0LmZuKCksXG4gICAgZGVsZXRlQ0k6IGplc3QuZm4oKSxcbiAgfSxcbn0pKTtcblxuY29uc3QgbW9ja1R5cGVzOiBDSVR5cGVbXSA9IFtcbiAge1xuICAgIGlkOiAxLFxuICAgIG5hbWU6ICfmnI3liqHlmagnLFxuICAgIGRlc2NyaXB0aW9uOiAnJyxcbiAgICBpc19hY3RpdmU6IHRydWUsXG4gICAgdGVuYW50X2lkOiAxLFxuICB9LFxuXTtcblxuY29uc3QgbW9ja0l0ZW06IENvbmZpZ3VyYXRpb25JdGVtID0ge1xuICBpZDogMSxcbiAgbmFtZTogJ+W6lOeUqOacjeWKoeWZqC0wMScsXG4gIGRlc2NyaXB0aW9uOiAn5rWL6K+V6LWE5LqnJyxcbiAgdHlwZTogJ3NlcnZlcicsXG4gIHN0YXR1czogJ2FjdGl2ZScsXG4gIGNpX3R5cGVfaWQ6IDEsXG4gIHRlbmFudF9pZDogMSxcbiAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbiAgdXBkYXRlZF9hdDogJzIwMjQtMDEtMDFUMDA6MDA6MDBaJyxcbn07XG5cbmRlc2NyaWJlKCdDTURCIOmhtemdoicsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgaWYgKG1vZGFsQ29uZmlybVNweSkge1xuICAgICAgbW9kYWxDb25maXJtU3B5Lm1vY2tDbGVhcigpO1xuICAgIH1cbiAgICAoQ01EQkFwaS5nZXRUeXBlcyBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tUeXBlcyk7XG4gICAgKENNREJBcGkuZ2V0Q0lzIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgaXRlbXM6IFttb2NrSXRlbV0sXG4gICAgICB0b3RhbDogMSxcbiAgICAgIHBhZ2U6IDEsXG4gICAgICBzaXplOiAxMCxcbiAgICB9KTtcbiAgICAoQ01EQkFwaS5nZXRDSSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tJdGVtKTtcbiAgICAoQ01EQkFwaS5jcmVhdGVDSSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tJdGVtKTtcbiAgICAoQ01EQkFwaS5kZWxldGVDSSBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XG4gIH0pO1xuXG4gIGl0KCdDSSDliJfooajlupTlsZXnpLrotYTkuqflubbmlK/mjIHot7PovawnLCBhc3luYyAoKSA9PiB7XG4gICAgcmVuZGVyKDxDSUxpc3QgLz4pO1xuXG4gICAgYXdhaXQgc2NyZWVuLmZpbmRCeVRleHQoJ+W6lOeUqOacjeWKoeWZqC0wMScpO1xuXG4gICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogJ+W6lOeUqOacjeWKoeWZqC0wMScgfSkpO1xuICAgIGV4cGVjdChtb2NrUHVzaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9jbWRiL2Npcy8xJyk7XG4gIH0pO1xuXG4gIGl0KCdDSSDliJfooajnrZvpgInop6blj5HmlbDmja7liLfmlrAnLCBhc3luYyAoKSA9PiB7XG4gICAgcmVuZGVyKDxDSUxpc3QgLz4pO1xuXG4gICAgYXdhaXQgc2NyZWVuLmZpbmRCeVRleHQoJ+W6lOeUqOacjeWKoeWZqC0wMScpO1xuXG4gICAgZmlyZUV2ZW50LmNoYW5nZShzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoJ+aQnOe0ouWQjeensC/luo/liJflj7cnKSwge1xuICAgICAgdGFyZ2V0OiB7IHZhbHVlOiAnc2VydmVyJyB9LFxuICAgIH0pO1xuICAgIGNvbnN0IHF1ZXJ5QnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgn5p+l6K+iJykuY2xvc2VzdCgnYnV0dG9uJyk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKHF1ZXJ5QnV0dG9uIGFzIEhUTUxFbGVtZW50KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KENNREJBcGkuZ2V0Q0lzKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdDSSDliJfooajnrZvpgInmnaHku7blupTkvKDpgJLliLDor7fmsYInLCBhc3luYyAoKSA9PiB7XG4gICAgcmVuZGVyKDxDSUxpc3QgLz4pO1xuXG4gICAgYXdhaXQgc2NyZWVuLmZpbmRCeVRleHQoJ+W6lOeUqOacjeWKoeWZqC0wMScpO1xuXG4gICAgZmlyZUV2ZW50LmNoYW5nZShzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoJ+aQnOe0ouWQjeensC/luo/liJflj7cnKSwge1xuICAgICAgdGFyZ2V0OiB7IHZhbHVlOiAnZGInIH0sXG4gICAgfSk7XG4gICAgZmlyZUV2ZW50LmNoYW5nZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzZWxlY3RbbmFtZT1cImNpX3R5cGVfaWRcIl0nKSBhcyBIVE1MU2VsZWN0RWxlbWVudCwge1xuICAgICAgdGFyZ2V0OiB7IHZhbHVlOiAnMScgfSxcbiAgICB9KTtcbiAgICBmaXJlRXZlbnQuY2hhbmdlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdFtuYW1lPVwic3RhdHVzXCJdJykgYXMgSFRNTFNlbGVjdEVsZW1lbnQsIHtcbiAgICAgIHRhcmdldDogeyB2YWx1ZTogJ2luYWN0aXZlJyB9LFxuICAgIH0pO1xuXG4gICAgY29uc3QgcXVlcnlCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXh0KCfmn6Xor6InKS5jbG9zZXN0KCdidXR0b24nKTtcbiAgICBmaXJlRXZlbnQuY2xpY2socXVlcnlCdXR0b24gYXMgSFRNTEVsZW1lbnQpO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBjb25zdCBsYXN0Q2FsbCA9IChDTURCQXBpLmdldENJcyBhcyBqZXN0Lk1vY2spLm1vY2suY2FsbHMuYXQoLTEpO1xuICAgICAgZXhwZWN0KGxhc3RDYWxsPy5bMF0pLnRvRXF1YWwoXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBzZWFyY2g6ICdkYicsXG4gICAgICAgICAgY2lfdHlwZV9pZDogJzEnLFxuICAgICAgICAgIHN0YXR1czogJ2luYWN0aXZlJyxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCfliIbpobXliIfmjaLlupTop6blj5Hor7fmsYInLCBhc3luYyAoKSA9PiB7XG4gICAgcmVuZGVyKDxDSUxpc3QgLz4pO1xuXG4gICAgYXdhaXQgc2NyZWVuLmZpbmRCeVRleHQoJ+W6lOeUqOacjeWKoeWZqC0wMScpO1xuICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlUZXN0SWQoJ3BhZ2luYXRpb24tbmV4dCcpKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KENNREJBcGkuZ2V0Q0lzKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCfliLfmlrDmjInpkq7lupTph43mlrDmi4nlj5bmlbDmja4nLCBhc3luYyAoKSA9PiB7XG4gICAgcmVuZGVyKDxDSUxpc3QgLz4pO1xuXG4gICAgYXdhaXQgc2NyZWVuLmZpbmRCeVRleHQoJ+W6lOeUqOacjeWKoeWZqC0wMScpO1xuICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6ICfliLfmlrAnIH0pKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KENNREJBcGkuZ2V0Q0lzKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCfliJfooajkuLrnqbrml7bkuI3lupTlsZXnpLrotYTkuqflkI3np7AnLCBhc3luYyAoKSA9PiB7XG4gICAgKENNREJBcGkuZ2V0Q0lzIGFzIGplc3QuTW9jaykubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgIGl0ZW1zOiBbXSxcbiAgICAgIHRvdGFsOiAwLFxuICAgICAgcGFnZTogMSxcbiAgICAgIHNpemU6IDEwLFxuICAgIH0pO1xuICAgIHJlbmRlcig8Q0lMaXN0IC8+KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KENNREJBcGkuZ2V0Q0lzKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG4gICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgn5bqU55So5pyN5Yqh5ZmoLTAxJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgn5Yig6Zmk5aSx6LSl5bqU5o+Q56S66ZSZ6K+vJywgYXN5bmMgKCkgPT4ge1xuICAgIChDTURCQXBpLmRlbGV0ZUNJIGFzIGplc3QuTW9jaykubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcign5Yig6Zmk5aSx6LSlJykpO1xuICAgIHJlbmRlcig8Q0lMaXN0IC8+KTtcblxuICAgIGF3YWl0IHNjcmVlbi5maW5kQnlUZXh0KCflupTnlKjmnI3liqHlmagtMDEnKTtcbiAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAn5Yig6ZmkJyB9KSk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChDTURCQXBpLmRlbGV0ZUNJKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgxKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ0NJIOWIoOmZpOW6lOW8ueWHuuehruiupOW5tuiwg+eUqOWIoOmZpOaOpeWPoycsIGFzeW5jICgpID0+IHtcbiAgICByZW5kZXIoPENJTGlzdCAvPik7XG5cbiAgICBhd2FpdCBzY3JlZW4uZmluZEJ5VGV4dCgn5bqU55So5pyN5Yqh5ZmoLTAxJyk7XG5cbiAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAn5Yig6ZmkJyB9KSk7XG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QoQ01EQkFwaS5kZWxldGVDSSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoMSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdDSSDor6bmg4XlupTlsZXnpLrotYTkuqfkv6Hmga8nLCBhc3luYyAoKSA9PiB7XG4gICAgcmVuZGVyKDxDSURldGFpbCAvPik7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCflupTnlKjmnI3liqHlmagtMDEnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgv6YWN572u6aG5IElEOiAxLykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdDSSDor6bmg4XliqDovb3lpLHotKXlupTmmL7npLogNDA0JywgYXN5bmMgKCkgPT4ge1xuICAgIChDTURCQXBpLmdldENJIGFzIGplc3QuTW9jaykubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcignbm90IGZvdW5kJykpO1xuICAgIHJlbmRlcig8Q0lEZXRhaWwgLz4pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnNDA0JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCfliJvlu7ogQ0kg6KGo5Y2V5bqU5o+Q5Lqk5bm26L+U5Zue5YiX6KGoJywgYXN5bmMgKCkgPT4ge1xuICAgIHJlbmRlcig8Q3JlYXRlQ0lQYWdlIC8+KTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KENNREJBcGkuZ2V0VHlwZXMpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGZpcmVFdmVudC5jaGFuZ2Uoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KCfotYTkuqflkI3np7AnKSwge1xuICAgICAgdGFyZ2V0OiB7IHZhbHVlOiAn5paw6LWE5LqnJyB9LFxuICAgIH0pO1xuXG4gICAgZmlyZUV2ZW50LmNoYW5nZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ+i1hOS6p+exu+WeiycpLCB7XG4gICAgICB0YXJnZXQ6IHsgdmFsdWU6ICcxJyB9LFxuICAgIH0pO1xuXG4gICAgZmlyZUV2ZW50LmNoYW5nZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ+eKtuaAgScpLCB7XG4gICAgICB0YXJnZXQ6IHsgdmFsdWU6ICdhY3RpdmUnIH0sXG4gICAgfSk7XG5cbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9ybScpO1xuICAgIGZpcmVFdmVudC5zdWJtaXQoZm9ybSBhcyBIVE1MRm9ybUVsZW1lbnQpO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QoQ01EQkFwaS5jcmVhdGVDSSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuICAgIGV4cGVjdChtb2NrUHVzaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9jbWRiJyk7XG4gIH0pO1xuXG4gIGl0KCfliJvlu7ogQ0kg6KGo5Y2V5bqU5qCh6aqM5omp5bGV5bGe5oCnIEpTT04nLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgYW50ZCA9IHJlcXVpcmUoJ2FudGQnKTtcbiAgICByZW5kZXIoPENyZWF0ZUNJUGFnZSAvPik7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChDTURCQXBpLmdldFR5cGVzKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBmaXJlRXZlbnQuY2hhbmdlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgn6LWE5Lqn5ZCN56ewJyksIHtcbiAgICAgIHRhcmdldDogeyB2YWx1ZTogJ+aWsOi1hOS6pycgfSxcbiAgICB9KTtcbiAgICBmaXJlRXZlbnQuY2hhbmdlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgn6LWE5Lqn57G75Z6LJyksIHtcbiAgICAgIHRhcmdldDogeyB2YWx1ZTogJzEnIH0sXG4gICAgfSk7XG4gICAgZmlyZUV2ZW50LmNoYW5nZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ+eKtuaAgScpLCB7XG4gICAgICB0YXJnZXQ6IHsgdmFsdWU6ICdhY3RpdmUnIH0sXG4gICAgfSk7XG4gICAgZmlyZUV2ZW50LmNoYW5nZShzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ+aJqeWxleWxnuaApycpLCB7XG4gICAgICB0YXJnZXQ6IHsgdmFsdWU6ICd7YmFkIGpzb24nIH0sXG4gICAgfSk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlMYWJlbFRleHQoJ+aJqeWxleWxnuaApycpKS50b0hhdmVWYWx1ZSgne2JhZCBqc29uJyk7XG4gICAgfSk7XG5cbiAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5Um9sZSgnYnV0dG9uJywgeyBuYW1lOiAn5L+d5a2YJyB9KSk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChDTURCQXBpLmNyZWF0ZUNJKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuICAgIGV4cGVjdChtb2NrUHVzaCkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsInVzZVJvdXRlciIsInB1c2giLCJtb2NrUHVzaCIsImJhY2siLCJtb2NrQmFjayIsInJlcGxhY2UiLCJmbiIsInByZWZldGNoIiwidXNlUGFyYW1zIiwiaWQiLCJhY3R1YWwiLCJyZXF1aXJlQWN0dWFsIiwiUmVhY3QiLCJtb2RhbENvbmZpcm1TcHkiLCJjb25maWciLCJvbk9rIiwiZm9ybVZhbHVlcyIsIkZvcm1Db250ZXh0IiwiY3JlYXRlQ29udGV4dCIsInZhbHVlcyIsInNldFZhbHVlcyIsIkZvcm0iLCJjaGlsZHJlbiIsIm9uRmluaXNoIiwidXNlU3RhdGUiLCJoYW5kbGVTdWJtaXQiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZm9ybSIsIm9uU3VibWl0IiwiUHJvdmlkZXIiLCJ2YWx1ZSIsIkl0ZW0iLCJsYWJlbCIsIm5hbWUiLCJjb250ZXh0IiwidXNlQ29udGV4dCIsImlzVmFsaWRFbGVtZW50IiwiaGFuZGxlQ2hhbmdlIiwidGFyZ2V0IiwicHJldiIsInByb3BzIiwib25DaGFuZ2UiLCJpbnB1dEVsZW1lbnQiLCJjbG9uZUVsZW1lbnQiLCJ1c2VGb3JtIiwiZ2V0RmllbGRzVmFsdWUiLCJyZXNldEZpZWxkcyIsInNldEZpZWxkc1ZhbHVlIiwiSW5wdXQiLCJhbGxvd0NsZWFyIiwicmVzdCIsImlucHV0IiwiVGV4dEFyZWEiLCJ0ZXh0YXJlYSIsIlNlbGVjdCIsImxvYWRpbmciLCJwbGFjZWhvbGRlciIsInN0eWxlIiwic2VsZWN0IiwiT3B0aW9uIiwib3B0aW9uIiwiQnV0dG9uIiwib25DbGljayIsImh0bWxUeXBlIiwiZGFuZ2VyIiwidHlwZSIsImJ1dHRvbiIsImRhdGEtZGFuZ2VyIiwidW5kZWZpbmVkIiwiZGF0YS12YXJpYW50IiwiVGFibGUiLCJkYXRhU291cmNlIiwiY29sdW1ucyIsInBhZ2luYXRpb24iLCJkaXYiLCJkYXRhLXRlc3RpZCIsInBhZ2VTaXplIiwibWFwIiwicmVjb3JkIiwicm93SW5kZXgiLCJjb2x1bW4iLCJjb2xJbmRleCIsImRhdGFJbmRleCIsImNvbnRlbnQiLCJyZW5kZXIiLCJrZXkiLCJUYWJzIiwiVGFiUGFuZSIsIkRlc2NyaXB0aW9ucyIsInNwYW4iLCJDYXJkIiwiU3BhY2UiLCJCcmVhZGNydW1iIiwiaXRlbXMiLCJuYXYiLCJpdGVtIiwiaW5kZXgiLCJ0aXRsZSIsIlRhZyIsIlNrZWxldG9uIiwiUmVzdWx0Iiwic3ViVGl0bGUiLCJleHRyYSIsIkVtcHR5IiwiZGVzY3JpcHRpb24iLCJUb29sdGlwIiwiTW9kYWwiLCJjb25maXJtIiwibWVzc2FnZSIsInN1Y2Nlc3MiLCJlcnJvciIsIndhcm5pbmciLCJpbmZvIiwiQ01EQkFwaSIsImdldENJcyIsImdldENJIiwiZ2V0VHlwZXMiLCJjcmVhdGVDSSIsImRlbGV0ZUNJIiwibW9ja1R5cGVzIiwiaXNfYWN0aXZlIiwidGVuYW50X2lkIiwibW9ja0l0ZW0iLCJzdGF0dXMiLCJjaV90eXBlX2lkIiwiY3JlYXRlZF9hdCIsInVwZGF0ZWRfYXQiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwibW9ja0NsZWFyIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJ0b3RhbCIsInBhZ2UiLCJzaXplIiwiaXQiLCJDSUxpc3QiLCJzY3JlZW4iLCJmaW5kQnlUZXh0IiwiZmlyZUV2ZW50IiwiY2xpY2siLCJnZXRCeVJvbGUiLCJleHBlY3QiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsImNoYW5nZSIsImdldEJ5UGxhY2Vob2xkZXJUZXh0IiwicXVlcnlCdXR0b24iLCJnZXRCeVRleHQiLCJjbG9zZXN0Iiwid2FpdEZvciIsInRvSGF2ZUJlZW5DYWxsZWRUaW1lcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImxhc3RDYWxsIiwiY2FsbHMiLCJhdCIsInRvRXF1YWwiLCJvYmplY3RDb250YWluaW5nIiwic2VhcmNoIiwiZ2V0QnlUZXN0SWQiLCJtb2NrUmVzb2x2ZWRWYWx1ZU9uY2UiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwicXVlcnlCeVRleHQiLCJub3QiLCJ0b0JlSW5UaGVEb2N1bWVudCIsIm1vY2tSZWplY3RlZFZhbHVlT25jZSIsIkVycm9yIiwiQ0lEZXRhaWwiLCJDcmVhdGVDSVBhZ2UiLCJnZXRCeUxhYmVsVGV4dCIsInN1Ym1pdCIsImFudGQiLCJyZXF1aXJlIiwidG9IYXZlVmFsdWUiXSwibWFwcGluZ3MiOiJBQUFBOztDQUVDO0FBaUJEQSxLQUFLQyxJQUFJLENBQUMsbUJBQW1CLElBQU8sQ0FBQTtRQUNsQ0MsV0FBVyxJQUFPLENBQUE7Z0JBQ2hCQyxNQUFNQztnQkFDTkMsTUFBTUM7Z0JBQ05DLFNBQVNQLEtBQUtRLEVBQUU7Z0JBQ2hCQyxVQUFVVCxLQUFLUSxFQUFFO1lBQ25CLENBQUE7UUFDQUUsV0FBVyxJQUFPLENBQUE7Z0JBQUVDLElBQUk7WUFBSSxDQUFBO0lBQzlCLENBQUE7QUFFQVgs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