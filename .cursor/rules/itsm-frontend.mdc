# itsm-prototype

---

description: "ITSMå‰ç«¯å¼€å‘è§„èŒƒï¼Œé€‚ç”¨äºåŸºäºReactã€Next.jsã€TypeScriptã€Ant Designå’ŒTailwind CSSçš„ITSMç³»ç»Ÿ"
globs:

- "src/app/**/*"
- "src/components/**/*"
- "src/lib/**/*"
- "src/hooks/**/*"
- "src/types/**/*"
- "src/styles/**/*"
alwaysApply: false

---

## 1. æŠ€æœ¯æ ˆè§„èŒƒ

### 1.1 æ ¸å¿ƒæŠ€æœ¯æ ˆ

- **æ¡†æ¶**: React 18 + Next.js App Router
- **è¯­è¨€**: TypeScript
- **æ ·å¼**: Tailwind CSS + Ant Design 5.x
- **çŠ¶æ€ç®¡ç†**: Zustand
- **HTTPå®¢æˆ·ç«¯**: Axios
- **æ„å»ºå·¥å…·**: Next.js + Turbopack

## ç›®å½•ç»“æ„

```markdown
itsm-prototype/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ app/                    # Next.js App Router ä¸»ç›®å½•
â”‚       â”œâ”€â”€ layout.tsx          # æ ¹å¸ƒå±€æ–‡ä»¶
â”‚       â”œâ”€â”€ page.tsx            # æ ¹é¡µé¢
â”‚       â”œâ”€â”€ tickets/            # å·¥å•æ¨¡å—
â”‚       â”‚   â”œâ”€â”€ page.tsx        # å·¥å•ä¸»é¡µé¢
â”‚       â”‚   â”œâ”€â”€ templates/      # å·¥å•æ¨¡æ¿å­é¡µé¢
â”‚       â”‚   â””â”€â”€ dashboard/      # å·¥å•ä»ªè¡¨æ¿å­é¡µé¢
â”‚       â”œâ”€â”€ components/         # å…±äº«ç»„ä»¶
â”‚       â””â”€â”€ lib/                # å·¥å…·åº“
â””â”€â”€ å…¶ä»–é…ç½®æ–‡ä»¶
```

## åŠŸèƒ½æ¨¡å—

1. ä»ªè¡¨ç›˜
2. å·¥å•ç®¡ç†
3. äº‹ä»¶ç®¡ç†
4. é—®é¢˜ç®¡ç†
5. å˜æ›´ç®¡ç†
6. é…ç½®ç®¡ç†
7. æœåŠ¡ç›®å½•
8. çŸ¥è¯†åº“
9. SLAç®¡ç†
10. æŠ¥è¡¨åˆ†æ

## è·¯ç”±æ˜ å°„è§„åˆ™

### å„æ¨¡å—è·¯ç”±è·¯å¾„

- ä»ªè¡¨ç›˜: /dashboard
- å·¥å•ç®¡ç†: /tickets
- äº‹ä»¶ç®¡ç†: /incidents
- é—®é¢˜ç®¡ç†: /problems
- å˜æ›´ç®¡ç†: /changes
- é…ç½®ç®¡ç†: /cmdb
- æœåŠ¡ç›®å½•: /catalog
- çŸ¥è¯†åº“: /knowledge
- SLAç®¡ç†: /sla
- æŠ¥è¡¨åˆ†æ: /reports

## ç»„ä»¶å‘½åè§„èŒƒ

### é¡µé¢ç»„ä»¶

- ä¸»é¡µé¢: [module]Page.tsx
- åˆ—è¡¨é¡µé¢: [module]List.tsx
- è¯¦æƒ…é¡µé¢: [module]Detail.tsx
- åˆ›å»ºé¡µé¢: [module]Create.tsx

### åŠŸèƒ½ç»„ä»¶

- è¡¨å•ç»„ä»¶: [Module]Form.tsx
- è¡¨æ ¼ç»„ä»¶: [Module]Table.tsx
- æ“ä½œç»„ä»¶: [Module]Actions.tsx

## çŠ¶æ€ç®¡ç†è§„åˆ™

### Reduxç»“æ„

- æ¯ä¸ªæ¨¡å—ç‹¬ç«‹çš„sliceæ–‡ä»¶
- ç»Ÿä¸€çš„actionå‘½å: [MODULE]_[ACTION]_[SUB_ACTION]
- å¼‚æ­¥æ“ä½œä½¿ç”¨createAsyncThunk

## ç»„ä»¶å¯¼å…¥è§„åˆ™

### ç»„ä»¶å¼•ç”¨å±‚çº§è§„èŒƒ

1. åŒçº§ç»„ä»¶å¼•ç”¨: ä½¿ç”¨ç›¸å¯¹è·¯å¾„ `./ComponentName`
2. ä¸‹çº§ç»„ä»¶å¼•ç”¨: ä½¿ç”¨ç›¸å¯¹è·¯å¾„ `./subfolder/ComponentName`
3. ä¸Šçº§ç»„ä»¶å¼•ç”¨: æœ€å¤šå…è®¸å‘ä¸Šä¸¤çº§ `../../ComponentName`
4. è·¨æ¨¡å—ç»„ä»¶å¼•ç”¨: å¿…é¡»é€šè¿‡ `@/components/` æˆ– `@/lib/` åˆ«åå¼•ç”¨

### ç»„ä»¶è·¯å¾„åˆ«åè§„åˆ™

- å…±äº«ç»„ä»¶: `@/components/SharedComponent`
- å·¥å…·åº“: `@/lib/utils` æˆ– `@/lib/services/ServiceName`
- é…ç½®æ–‡ä»¶: `@/config/ConfigName`

## æœåŠ¡å±‚å¼•ç”¨è§„åˆ™

### æœåŠ¡æ–‡ä»¶ç»„ç»‡

- ä¸šåŠ¡æœåŠ¡: `@/lib/services/[module]-service.ts`
- é€šç”¨æœåŠ¡: `@/lib/services/common/[service-name].ts`
- APIæœåŠ¡: `@/lib/api/[module]-api.ts`

### æœåŠ¡å¼•ç”¨è§„èŒƒ

- ç»„ä»¶ä¸­å¼•ç”¨æœåŠ¡: `import { serviceName } from '@/lib/services/service-name'`
- æœåŠ¡é—´å¼•ç”¨: å…è®¸ç›¸å¯¹è·¯å¾„ä½†ä¸è¶…è¿‡ä¸€çº§
- ç¦æ­¢è·¨å±‚çº§æ·±åº¦å¼•ç”¨æœåŠ¡æ–‡ä»¶

## ğŸš¨ é‡è¦è§„åˆ™

### 1. **ä¸€ä¸ªé¡µé¢ï¼Œä¸€ä¸ªå¸ƒå±€ï¼Œä¸€ä¸ªä¾§è¾¹æ **

- âœ… åœ¨ `layout.tsx` ä¸­ä½¿ç”¨ `AppLayout`
- âŒ åœ¨ `page.tsx` ä¸­ä¸è¦ä½¿ç”¨ `AppLayout`

### 2. **æ–‡ä»¶ç»“æ„**

```
tickets/
â”œâ”€â”€ layout.tsx    # ä½¿ç”¨ AppLayout
â””â”€â”€ page.tsx      # ç›´æ¥è¿”å›å†…å®¹ï¼Œä¸ç”¨ AppLayout
```

### 3. **ä»£ç ç¤ºä¾‹**

#### âœ… æ­£ç¡®

```tsx
// layout.tsx
<AppLayout title="å·¥å•ç®¡ç†">
  {children}
</AppLayout>

// page.tsx
return (
  <>
    <Card>å†…å®¹</Card>
    <Modal>å¼¹çª—</Modal>
  </>
);
```

#### âŒ é”™è¯¯

```tsx
// page.tsx - ä¸è¦è¿™æ ·åšï¼
return (
  <AppLayout>  {/* é‡å¤çš„ AppLayout */}
    <div>å†…å®¹</div>
  </AppLayout>
);
```

## ğŸ” é—®é¢˜æ£€æŸ¥

å¦‚æœå‡ºç°é‡å¤ä¾§è¾¹æ ï¼š

1. æ£€æŸ¥ `page.tsx` æ˜¯å¦ä½¿ç”¨äº† `AppLayout`
2. æ£€æŸ¥æ˜¯å¦æœ‰åµŒå¥—çš„å¸ƒå±€ç»„ä»¶
3. ç¡®ä¿åªåœ¨ `layout.tsx` ä¸­ä½¿ç”¨ `AppLayout`

## ğŸ’¡ è®°å¿†å£è¯€

**"å¸ƒå±€åœ¨ layoutï¼Œå†…å®¹åœ¨ pageï¼ŒAppLayout åªç”¨ä¸€ä¸ªï¼"**
